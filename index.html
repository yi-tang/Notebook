<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>CPD</title>
<!-- 2015-02-06 Fri 18:22 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Yi Tang" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/bigblow/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/bigblow/css/bigblow.css"/>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/bigblow/css/hideshow.css"/>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery-ui-1.10.2.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery.localscroll-min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/jquery.zclip.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/bigblow.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/bigblow/js/hideshow.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" src="http://orgmode.org/mathjax/MathJax.js"></script>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
    MathJax.Hub.Config({
        // Only one of the two following lines, depending on user settings
        // First allows browser-native MathML display, second forces HTML/CSS
        //  config: ["MMLorHTML.js"], jax: ["input/TeX"],
            jax: ["input/TeX", "output/HTML-CSS"],
        extensions: ["tex2jax.js","TeX/AMSmath.js","TeX/AMSsymbols.js",
                     "TeX/noUndefined.js"],
        tex2jax: {
            inlineMath: [ ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"], ["\\begin{displaymath}","\\end{displaymath}"] ],
            skipTags: ["script","noscript","style","textarea","pre","code"],
            ignoreClass: "tex2jax_ignore",
            processEscapes: false,
            processEnvironments: true,
            preview: "TeX"
        },
        showProcessingMessages: true,
        displayAlign: "center",
        displayIndent: "2em",

        "HTML-CSS": {
             scale: 100,
             availableFonts: ["STIX","TeX"],
             preferredFont: "TeX",
             webFont: "TeX",
             imageFont: "TeX",
             showMathMenu: true,
        },
        MMLorHTML: {
             prefer: {
                 MSIE:    "MML",
                 Firefox: "MML",
                 Opera:   "HTML",
                 other:   "HTML"
             }
        }
    });
/*]]>*///-->
</script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content">
<h1 class="title">CPD</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">General IT</a>
<ul>
<li><a href="#sec-1-1">offlinemap&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-1-2">Ledger</a>
<ul>
<li><a href="#sec-1-2-1"><span class="done CANCELLED">CANCELLED</span> ledger, format output, Chapter 12,&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></a>
<ul>
<li><a href="#sec-1-2-1-1">Ledger options</a></li>
</ul>
</li>
<li><a href="#sec-1-2-2"><span class="done DONE">DONE</span> ledger, periodic transcation</a>
<ul>
<li><a href="#sec-1-2-2-1">correct accounts,</a>
<ul>
<li><a href="#sec-1-2-2-1-1">check unique accounts</a></li>
<li><a href="#sec-1-2-2-1-2">correct them</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-2-3"><span class="done CANCELLED">CANCELLED</span> (auto-R) move finance to ledger,&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></a></li>
</ul>
</li>
<li><a href="#sec-1-3"><span class="todo TODO">TODO</span> Linux</a>
<ul>
<li><a href="#sec-1-3-1"><span class="todo TODO">TODO</span> Basic commands</a>
<ul>
<li><a href="#sec-1-3-1-1"><span class="done DONE">DONE</span> file management</a></li>
<li><a href="#sec-1-3-1-2"><span class="done DONE">DONE</span> hard drive</a></li>
<li><a href="#sec-1-3-1-3"><span class="done DONE">DONE</span> calculation</a></li>
<li><a href="#sec-1-3-1-4">linux, process image file</a></li>
</ul>
</li>
<li><a href="#sec-1-3-2"><span class="todo TODO">TODO</span> Advanced commands</a>
<ul>
<li><a href="#sec-1-3-2-1"><span class="todo TODO">TODO</span> cron job</a></li>
<li><a href="#sec-1-3-2-2"><span class="todo TODO">TODO</span> parallel</a></li>
<li><a href="#sec-1-3-2-3"><span class="todo TODO">TODO</span> ssh</a></li>
</ul>
</li>
<li><a href="#sec-1-3-3"><span class="todo TODO">TODO</span> Resource management</a>
<ul>
<li><a href="#sec-1-3-3-1"><span class="todo TODO">TODO</span> Shared folder</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-1-4">Git</a>
<ul>
<li><a href="#sec-1-4-1">branch, checkout and merge</a></li>
<li><a href="#sec-1-4-2">resolve conflicts:</a></li>
<li><a href="#sec-1-4-3">(proj) review git</a>
<ul>
<li><a href="#sec-1-4-3-1"><span class="done DONE">DONE</span> merge git files</a></li>
</ul>
</li>
<li><a href="#sec-1-4-4">solve git conflicts</a></li>
<li><a href="#sec-1-4-5">manage github account</a></li>
<li><a href="#sec-1-4-6">dischart uncommited changes</a></li>
<li><a href="#sec-1-4-7">overwrite local by repo</a></li>
<li><a href="#sec-1-4-8"><span class="todo TODO">TODO</span> git log for single file</a></li>
</ul>
</li>
<li><a href="#sec-1-5">10 Articles Every Programmer Must Read</a></li>
</ul>
</li>
<li><a href="#sec-2"><span class="todo TODO">TODO</span> Emacs</a>
<ul>
<li><a href="#sec-2-1"><span class="todo TODO">TODO</span> org mode</a>
<ul>
<li><a href="#sec-2-1-1">General and fix</a>
<ul>
<li><a href="#sec-2-1-1-1"><span class="todo TODO">TODO</span> (productivity) add scheduled tasks in agenda,</a></li>
<li><a href="#sec-2-1-1-2"><span class="done DONE">DONE</span> count number of TODOs</a></li>
</ul>
</li>
<li><a href="#sec-2-1-2"><span class="done DONE">DONE</span> Clock table</a></li>
<li><a href="#sec-2-1-3">Advanced applciation</a>
<ul>
<li><a href="#sec-2-1-3-1">org-map-entries</a></li>
</ul>
</li>
<li><a href="#sec-2-1-4">integrate with R</a>
<ul>
<li><a href="#sec-2-1-4-1">plots</a></li>
<li><a href="#sec-2-1-4-2">access R object</a></li>
<li><a href="#sec-2-1-4-3">export direct to latex code</a></li>
</ul>
</li>
<li><a href="#sec-2-1-5"><span class="done DONE">DONE</span> try MobileOrg (rubushs)</a></li>
<li><a href="#sec-2-1-6"><span class="done CANCELLED">CANCELLED</span> fix org mode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></a></li>
<li><a href="#sec-2-1-7">thank you letter to Bernt!</a></li>
<li><a href="#sec-2-1-8"><span class="done CANCELLED">CANCELLED</span> org timeline is broken&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></a></li>
<li><a href="#sec-2-1-9"><span class="done DONE">DONE</span> Learn external archive feature in org mode</a></li>
<li><a href="#sec-2-1-10">org-habit ++1w and .+1w&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-2-1-11"><span class="done DONE">DONE</span> org habit, ++1w, .+1??</a></li>
<li><a href="#sec-2-1-12">quick sum, on duration&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-2-1-13">wold count in org mode</a></li>
<li><a href="#sec-2-1-14"><span class="todo TODO">TODO</span> fix org-mode (column view)</a></li>
<li><a href="#sec-2-1-15">configre org mode (F12-SPC)</a></li>
<li><a href="#sec-2-1-16"><span class="todo NEXT">NEXT</span> export</a>
<ul>
<li><a href="#sec-2-1-16-1">LaTeX</a>
<ul>
<li><a href="#sec-2-1-16-1-1">Templates</a></li>
<li><a href="#sec-2-1-16-1-2">Images</a></li>
<li><a href="#sec-2-1-16-1-3">test org pdf</a></li>
<li><a href="#sec-2-1-16-1-4"><span class="done DONE">DONE</span> GoodNotes and org (pdf) integration</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-1-17">Publish Projects</a>
<ul>
<li><a href="#sec-2-1-17-1">Example</a></li>
<li><a href="#sec-2-1-17-2">Practise</a></li>
</ul>
</li>
<li><a href="#sec-2-1-18">Babel</a>
<ul>
<li><a href="#sec-2-1-18-1">Babel</a></li>
<li><a href="#sec-2-1-18-2">babel library</a></li>
<li><a href="#sec-2-1-18-3"><span class="todo NEXT">NEXT</span> (org) org-babel library</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-2"><span class="todo TODO">TODO</span> Emacs Speak Statistics</a>
<ul>
<li><a href="#sec-2-2-1"><span class="done DONE">DONE</span> (learn) ESS</a></li>
<li><a href="#sec-2-2-2"><span class="done DONE">DONE</span> ess-remote</a></li>
<li><a href="#sec-2-2-3">org-babel + ess-remote</a>
<ul>
<li><a href="#sec-2-2-3-1">debug</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-3"><span class="todo TODO">TODO</span> My Configration</a>
<ul>
<li><a href="#sec-2-3-1"><span class="done DONE">DONE</span> <code>F9-i</code>, insert,</a></li>
<li><a href="#sec-2-3-2">frequently used commands (ledger)</a></li>
<li><a href="#sec-2-3-3"><span class="done DONE">DONE</span> define/remove/modify  keybinds&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-2-3-4"><span class="done CANCELLED">CANCELLED</span> begin to record mood, or concinessness, mindfulness&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></a></li>
<li><a href="#sec-2-3-5"><span class="done DONE">DONE</span> show mood in agenda column view</a></li>
<li><a href="#sec-2-3-6"><span class="done DONE">DONE</span> show org-headings as tree structure</a></li>
</ul>
</li>
<li><a href="#sec-2-4">install Emacs 24.4</a></li>
<li><a href="#sec-2-5">Remote emacs</a>
<ul>
<li><a href="#sec-2-5-1">(cancelled) VNC on Ubuntu (VM)</a></li>
<li><a href="#sec-2-5-2">ess-remote</a></li>
<li><a href="#sec-2-5-3">(sh) auto complete?</a></li>
</ul>
</li>
<li><a href="#sec-2-6">Buffer functions</a>
<ul>
<li><a href="#sec-2-6-1"><span class="todo NEXT">NEXT</span> wrap-up and use in prudction</a></li>
</ul>
</li>
<li><a href="#sec-2-7">watch emacs video</a></li>
<li><a href="#sec-2-8">Emacs distable a function</a></li>
<li><a href="#sec-2-9"><span class="done DONE">DONE</span> emacs show random quotes in mini buffer</a></li>
<li><a href="#sec-2-10">Emacs Lisp programming</a>
<ul>
<li><a href="#sec-2-10-1"><span class="done DONE">DONE</span> Emacs function practise&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
</ul>
</li>
<li><a href="#sec-2-11"><span class="todo TODO">TODO</span> sort out emacs auto-back-up</a></li>
<li><a href="#sec-2-12"><span class="todo TODO">TODO</span> ask help on Emacs</a></li>
<li><a href="#sec-2-13">Emacs config updates</a></li>
<li><a href="#sec-2-14"><span class="done DONE">DONE</span> Emacs while/for loop</a></li>
<li><a href="#sec-2-15">Helm-Projectile</a></li>
<li><a href="#sec-2-16">org-contacts.el, group contacts</a></li>
<li><a href="#sec-2-17">try regexp</a></li>
<li><a href="#sec-2-18"><span class="done DONE">DONE</span> Configration in org file</a></li>
<li><a href="#sec-2-19">Emacs MIME</a>
<ul>
<li><a href="#sec-2-19-1">org-mime.el</a></li>
<li><a href="#sec-2-19-2">mime org mode</a></li>
</ul>
</li>
<li><a href="#sec-2-20"><span class="done CANCELLED">CANCELLED</span> try emacs, need inpisration, try ibuffer-vc, failed&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></a></li>
<li><a href="#sec-2-21"><span class="todo NEXT">NEXT</span> emacs idea: go to an org node using refile machanics</a></li>
<li><a href="#sec-2-22"><span class="done DONE">DONE</span> Emacs sync remote/local folder (scp)</a></li>
<li><a href="#sec-2-23"><span class="todo TODO">TODO</span> emacs, use yasnieppt to setup project template</a>
<ul>
<li><a href="#sec-2-23-1">Project Brief</a>
<ul>
<li><a href="#sec-2-23-1-1">Client</a></li>
<li><a href="#sec-2-23-1-2">What for?</a></li>
<li><a href="#sec-2-23-1-3">Why?</a></li>
<li><a href="#sec-2-23-1-4">Cost/Resource</a></li>
</ul>
</li>
<li><a href="#sec-2-23-2">Decision Log</a>
<ul>
<li><a href="#sec-2-23-2-1">Meeting</a></li>
<li><a href="#sec-2-23-2-2">Email</a>
<ul>
<li><a href="#sec-2-23-2-2-1">GFHES priotyies Naomi</a></li>
</ul>
</li>
<li><a href="#sec-2-23-2-3">Notes</a></li>
</ul>
</li>
<li><a href="#sec-2-23-3">Team Info</a>
<ul>
<li><a href="#sec-2-23-3-1">member one</a></li>
<li><a href="#sec-2-23-3-2">member two</a></li>
</ul>
</li>
<li><a href="#sec-2-23-4">Progress</a>
<ul>
<li><a href="#sec-2-23-4-1">Phrase 1: Precipitation Validation</a></li>
<li><a href="#sec-2-23-4-2">Phrase 2</a></li>
</ul>
</li>
<li><a href="#sec-2-23-5">TimeSheet</a></li>
</ul>
</li>
<li><a href="#sec-2-24"><span class="todo NEXT">NEXT</span> mime - add inline image that points to attachment.</a></li>
<li><a href="#sec-2-25"><span class="todo TODO">TODO</span> eat dinner and watch eamcs chat</a></li>
<li><a href="#sec-2-26">HELP!</a>
<ul>
<li><a href="#sec-2-26-1">detect internet?</a></li>
<li><a href="#sec-2-26-2">html drop for footnote?</a></li>
<li><a href="#sec-2-26-3">org-mode jump between fotonote / links?</a></li>
<li><a href="#sec-2-26-4">org-mode jump to last table/src block?</a></li>
<li><a href="#sec-2-26-5">org-mode sort table according to one column?</a></li>
<li><a href="#sec-2-26-6">org-mode (QS) sort nodes by clocking time. (sleep)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3"><span class="todo TODO">TODO</span> R CRAN</a>
<ul>
<li><a href="#sec-3-1">Archived</a></li>
<li><a href="#sec-3-2"><span class="todo TODO">TODO</span> Advanced R</a>
<ul>
<li><a href="#sec-3-2-1"><span class="todo TODO">TODO</span> Parallel computation</a></li>
<li><a href="#sec-3-2-2"><span class="todo TODO">TODO</span> R development</a></li>
<li><a href="#sec-3-2-3"><span class="todo TODO">TODO</span> data.table</a></li>
<li><a href="#sec-3-2-4"><span class="todo TODO">TODO</span> rstudio server</a></li>
<li><a href="#sec-3-2-5"><span class="todo TODO">TODO</span> Rcpp</a></li>
<li><a href="#sec-3-2-6"><span class="todo TODO">TODO</span> error handling</a></li>
<li><a href="#sec-3-2-7"><span class="todo TODO">TODO</span> Notofication</a></li>
<li><a href="#sec-3-2-8">Regular Expression</a></li>
<li><a href="#sec-3-2-9">Spatial Analysis</a></li>
</ul>
</li>
<li><a href="#sec-3-3">R development and pakcages</a>
<ul>
<li><a href="#sec-3-3-1"><span class="todo TODO">TODO</span> yiR</a>
<ul>
<li><a href="#sec-3-3-1-1">update R packages&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-3-3-1-2">Visualisation</a></li>
<li><a href="#sec-3-3-1-3">Extreme Value Thoery</a></li>
</ul>
</li>
<li><a href="#sec-3-3-2"><span class="todo TODO">TODO</span> frteR</a>
<ul>
<li><a href="#sec-3-3-2-1">R package</a>
<ul>
<li><a href="#sec-3-3-2-1-1"><span class="done DONE">DONE</span> build a package (~/git/frteR)</a></li>
</ul>
</li>
<li><a href="#sec-3-3-2-2"><span class="todo NEXT">NEXT</span> core algorihtm</a></li>
<li><a href="#sec-3-3-2-3"><span class="todo NEXT">NEXT</span> what to add?</a></li>
</ul>
</li>
<li><a href="#sec-3-3-3">orgR</a>
<ul>
<li><a href="#sec-3-3-3-1">Managing</a>
<ul>
<li><a href="#sec-3-3-3-1-1"><span class="done DONE">DONE</span> PM orgR</a></li>
</ul>
</li>
<li><a href="#sec-3-3-3-2"><span class="todo NEXT">NEXT</span> content index</a></li>
<li><a href="#sec-3-3-3-3"><span class="done DONE">DONE</span> orgR 0.9.0</a>
<ul>
<li><a href="#sec-3-3-3-3-1">headlines.R</a>
<ul>
<li><a href="#sec-3-3-3-3-1-1">fix search.parent</a></li>
</ul>
</li>
<li><a href="#sec-3-3-3-3-2">clock.table.R</a></li>
<li><a href="#sec-3-3-3-3-3">methods.R</a></li>
<li><a href="#sec-3-3-3-3-4">description</a></li>
<li><a href="#sec-3-3-3-3-5">example file</a></li>
<li><a href="#sec-3-3-3-3-6">orgR.R</a></li>
<li><a href="#sec-3-3-3-3-7"><span class="done DONE">DONE</span> upload to CRAN</a>
<ul>
<li><a href="#sec-3-3-3-3-7-1">R package check</a></li>
<li><a href="#sec-3-3-3-3-7-2">CRAN policy</a></li>
<li><a href="#sec-3-3-3-3-7-3">tipis on submit to CRAN</a></li>
<li><a href="#sec-3-3-3-3-7-4">Edit</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3-3-3-4"><span class="todo TODO">TODO</span> orgR 0.9.1</a>
<ul>
<li><a href="#sec-3-3-3-4-1">Log</a>
<ul>
<li><a href="#sec-3-3-3-4-1-1">Bug</a></li>
<li><a href="#sec-3-3-3-4-1-2">Changes</a></li>
</ul>
</li>
<li><a href="#sec-3-3-3-4-2"><span class="todo NEXT">NEXT</span> PM</a></li>
<li><a href="#sec-3-3-3-4-3"><span class="todo NEXT">NEXT</span> orgR.index() function to decomposite a org file</a></li>
<li><a href="#sec-3-3-3-4-4">headlines.R</a>
<ul>
<li><a href="#sec-3-3-3-4-4-1">fix search.parent</a></li>
</ul>
</li>
<li><a href="#sec-3-3-3-4-5">clock.table.R</a></li>
<li><a href="#sec-3-3-3-4-6"><span class="todo TODO">TODO</span> block.R</a></li>
<li><a href="#sec-3-3-3-4-7"><span class="done DONE">DONE</span> org-drawers</a></li>
<li><a href="#sec-3-3-3-4-8"><span class="done DONE">DONE</span> orgR - worldCloud</a></li>
<li><a href="#sec-3-3-3-4-9"><span class="todo TODO">TODO</span> qurery</a></li>
<li><a href="#sec-3-3-3-4-10">methods.R</a></li>
<li><a href="#sec-3-3-3-4-11">description</a></li>
<li><a href="#sec-3-3-3-4-12">example file</a></li>
<li><a href="#sec-3-3-3-4-13">orgR.R</a></li>
<li><a href="#sec-3-3-3-4-14">Documentation</a></li>
<li><a href="#sec-3-3-3-4-15"><span class="todo TODO">TODO</span> write R function to process clock table</a></li>
</ul>
</li>
<li><a href="#sec-3-3-3-5">Research or Individual topics</a>
<ul>
<li><a href="#sec-3-3-3-5-1">create pie chart in ggplot</a></li>
<li><a href="#sec-3-3-3-5-2"><span class="done DONE">DONE</span> Process heading</a></li>
<li><a href="#sec-3-3-3-5-3"><span class="done DONE">DONE</span> Process clock entries</a></li>
<li><a href="#sec-3-3-3-5-4"><span class="done DONE">DONE</span> tree strcutre of org headings</a></li>
<li><a href="#sec-3-3-3-5-5">orgR, Parse clock table</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3-3-4"><span class="done DONE">DONE</span> become a CRAN package author</a>
<ul>
<li><a href="#sec-3-3-4-1">check</a>
<ul>
<li><a href="#sec-3-3-4-1-1">checking examples &#x2026; ERROR</a></li>
</ul>
</li>
<li><a href="#sec-3-3-4-2">package description and title</a></li>
<li><a href="#sec-3-3-4-3">submit</a></li>
<li><a href="#sec-3-3-4-4">Third submit</a></li>
<li><a href="#sec-3-3-4-5"><span class="done DONE">DONE</span> 4th submit</a></li>
<li><a href="#sec-3-3-4-6"><span class="done DONE">DONE</span> Wait for checking by a CRAN volunteer</a></li>
<li><a href="#sec-3-3-4-7"><span class="done DONE">DONE</span> 5th submit</a></li>
<li><a href="#sec-3-3-4-8"><span class="done DONE">DONE</span> uploading to CRAN</a></li>
</ul>
</li>
<li><a href="#sec-3-3-5"><span class="todo TODO">TODO</span> Rledger</a></li>
</ul>
</li>
<li><a href="#sec-3-4"><span class="done DONE">DONE</span> scripts to parse aTimeLogger data into org-mode, via R</a></li>
</ul>
</li>
<li><a href="#sec-4"><span class="todo TODO">TODO</span> R-shiny App</a>
<ul>
<li><a href="#sec-4-1"><span class="todo NEXT">NEXT</span> (proj) revise shinny app</a></li>
<li><a href="#sec-4-2">integrate R and shiny language&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-3">fileInput()&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-4">server.R, ui.R, methods.R&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-5">(shiny) have .RData in proj.folder, can be read directly&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-6">(shiny) reactive and observer&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-7">(shiny) progress message&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-8">(shiny) i can create my own input binding&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-9">(shiny) create my own input object&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
<li><a href="#sec-4-10"><span class="todo TODO">TODO</span> create my own yt<sub>fileInput</sub> object</a></li>
<li><a href="#sec-4-11">(shiny) good practise to have a Help page&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">General IT</h2>
<div class="outline-text-2" id="text-1">
<p>

</p>
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">offlinemap&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-1-1">
<p>

</p>

<pre class="example">
/home/yitang/Maildir/JBA/
├── Achive
├── Calendar
├── Contacts
├── Contacts.Lync Contacts
├── Conversation History
├── Deleted Items
├── Deleted Items.1
├── Deleted Items.ExtCons
├── Deleted Items.Managment
├── Deleted Items.Stats
├── Deleted Items.__Y
├── Drafts
├── INBOX
├── INBOX.CMS
├── Journal
├── Junk E-mail
├── Notes
├── Outbox
├── RSS Feeds
├── Sent Items
├── Sync Issues
├── Sync Issues.Conflicts
├── Sync Issues.Local Failures
├── Sync Issues.Server Failures
└── Tasks
</pre>

<p>
. is folder separator, 
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">Ledger</h3>
<div class="outline-text-3" id="text-1-2">
<p>

</p>
</div>
<div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="done CANCELLED">CANCELLED</span> ledger, format output, Chapter 12,&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></h4>
<div class="outline-text-4" id="text-1-2-1">
<p>

</p>

<ol class="org-ol">
<li>learn, 20M, 
</li>
<li>practise, 15M,
</li>
</ol>

<p>
i recon it will be something similary as org-capture mode, some symbols have special meaning, like ^{account} to promote, %a for link, %t for stamp etc. expect ledger has lots more options since it's more complex then org-capture template. 
</p>
</div>

<div id="outline-container-sec-1-2-1-1" class="outline-5">
<h5 id="sec-1-2-1-1">Ledger options</h5>
<div class="outline-text-5" id="text-1-2-1-1">
<p>
The bsic format of all substituion is: 
</p>

<p>
%[-][MIN WIDTH][.MAX WIDTH](VALEXPR)
</p>

<p>
my own notation would be 
%&amp;-\(min_width\).max<sub>width</sub>($expr)
</p>

<p>
% indicates format, - indicates left justified, default it right, min/max width specifi the string length .
</p>

<p>
%$S, $S (symbol) can be 
%, percent sign 
t, amount
T, total amount
D, date 
P, payee
A, account name
N, note
</p>

<p>
%($func), $func (function) can be 
today, today's date 
now, current date and time
date, transcation date 
</p>



<p>
ledger &#x2013;period "this week" -f ~/ledger bal Cook &#x2013;format \
"%(justify(scrub(display<sub>total</sub>), 20, -1, true, color))" \
      "  %(!options.flat ? depth<sub>spacer</sub> : \"\")"
      "%-(ansify<sub>if</sub>(partial<sub>account</sub>(options.flat), blue if color))\n%/"
      "%$1\n%/"
      "--------------------\n"
</p>


<p>
"%(format<sub>date</sub>(date, "FORMAT<sub>STRING</sub>"))"
</p>

<p>
"%(format<sub>date</sub>(date, '%B'))"
"printed on %today"
</p>



<p>
&#x2013;init-file FILE
Specify the location of the init file. The default is ~/.ledgerrc.
</p>


<p>

</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="done DONE">DONE</span> ledger, periodic transcation</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>

</p>

<ol class="org-ol">
<li>phone bill
</li>
<li>rent 
</li>
</ol>

<p>
Periodic transactions are used for budgeting and forecasting only, they have no effect without the <code>--budget</code> option specified.
A periodic transaction starts with a ‘~’ followed by a period expression.
</p>
</div>

<div id="outline-container-sec-1-2-2-1" class="outline-5">
<h5 id="sec-1-2-2-1">correct accounts,</h5>
<div class="outline-text-5" id="text-1-2-2-1">
</div><div id="outline-container-sec-1-2-2-1-1" class="outline-6">
<h6 id="sec-1-2-2-1-1">check unique accounts</h6>
<div class="outline-text-6" id="text-1-2-2-1-1">
<div class="org-src-container">

<pre class="src src-R">f
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-2-2-1-2" class="outline-6">
<h6 id="sec-1-2-2-1-2">correct them</h6>
<div class="outline-text-6" id="text-1-2-2-1-2">
<p>

</p>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="done CANCELLED">CANCELLED</span> (auto-R) move finance to ledger,&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></h4>
<div class="outline-text-4" id="text-1-2-3">
<p>

</p>
<div class="org-src-container">

<pre class="src src-R">f &lt;- "~/git/org/refile.org"
s &lt;- readLines(f)
h1.ind &lt;- grep("^\\*", s)
ss &lt;- s[h1.ind]
sss &lt;- substr(ss, 2, 2)
sss[sss == " "]

dt &lt;- data.table(line = s)
dt[, h1.ind := grepl("^\\*", line)]
dt[h1.ind == TRUE, h1.ind := substr(line, 2, 2) == " "]
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="todo TODO">TODO</span> Linux</h3>
<div class="outline-text-3" id="text-1-3">
</div>

<div id="outline-container-sec-1-3-1" class="outline-4">
<h4 id="sec-1-3-1"><span class="todo TODO">TODO</span> Basic commands</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>

</p>
</div>
<div id="outline-container-sec-1-3-1-1" class="outline-5">
<h5 id="sec-1-3-1-1"><span class="done DONE">DONE</span> file management</h5>
<div class="outline-text-5" id="text-1-3-1-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-06 Thu 18:41]</span></span>
ls, lsof, cp, mv, rm,
</p>

<p>
sudo ntpdate ntp.ubuntu.com
</p>
</div>
</div>
<div id="outline-container-sec-1-3-1-2" class="outline-5">
<h5 id="sec-1-3-1-2"><span class="done DONE">DONE</span> hard drive</h5>
<div class="outline-text-5" id="text-1-3-1-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-12 Wed 18:46]</span></span>
du -hc . :- directory size 
df -h :- disk usage
</p>
</div>
</div>
<div id="outline-container-sec-1-3-1-3" class="outline-5">
<h5 id="sec-1-3-1-3"><span class="done DONE">DONE</span> calculation</h5>
<div class="outline-text-5" id="text-1-3-1-3">
<div class="org-src-container">

<pre class="src src-sh">sudo apt-get install apcalc
calc 15/18
calc
</pre>
</div>

<div class="org-src-container">

<pre class="src src-sh"><span class="org-keyword">for</span> i<span class="org-keyword"> in</span> <span class="org-sh-quoted-exec">`seq 1 100`</span>; 
<span class="org-keyword">do</span>
<span class="org-builtin">echo</span> $<span class="org-variable-name">i</span> &gt;&gt; tmp.txt 
<span class="org-keyword">done</span> 

cat tmp.txt | Rscript -e <span class="org-string">'sum(as.numeric(readLines("stdin")))'</span>
cat tmp.txt | Rscript -e <span class="org-string">'summary(as.numeric(readLines("stdin")))'</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-3-1-4" class="outline-5">
<h5 id="sec-1-3-1-4">linux, process image file</h5>
<div class="outline-text-5" id="text-1-3-1-4">
<p>
for each .png file in dir, 
resize it to 400x400, 
save output with 'small-' prepend to input file name.
</p>
<div class="org-src-container">

<pre class="src src-sh"><span class="org-keyword">for</span> file<span class="org-keyword"> in</span> *.png; <span class="org-keyword">do</span> convert $<span class="org-variable-name">file</span> -resize 400x400 small-$<span class="org-variable-name">file</span>; <span class="org-keyword">done</span>
</pre>
</div>
</div>
</div>
</div>




<div id="outline-container-sec-1-3-2" class="outline-4">
<h4 id="sec-1-3-2"><span class="todo TODO">TODO</span> Advanced commands</h4>
<div class="outline-text-4" id="text-1-3-2">
<p>

</p>
</div>
<div id="outline-container-sec-1-3-2-1" class="outline-5">
<h5 id="sec-1-3-2-1"><a id="ID-4889B7C5-C162-4759-A1AA-EAFEB34E608D" name="ID-4889B7C5-C162-4759-A1AA-EAFEB34E608D"></a><span class="todo TODO">TODO</span> cron job</h5>
<div class="outline-text-5" id="text-1-3-2-1">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-1-3-2-2" class="outline-5">
<h5 id="sec-1-3-2-2"><a id="ID-6948086E-230E-49EA-B4DE-A72DDCD808E0" name="ID-6948086E-230E-49EA-B4DE-A72DDCD808E0"></a><span class="todo TODO">TODO</span> parallel</h5>
<div class="outline-text-5" id="text-1-3-2-2">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-1-3-2-3" class="outline-5">
<h5 id="sec-1-3-2-3"><a id="ID-DC61604C-51B6-4A1F-898F-2F3EB5943100" name="ID-DC61604C-51B6-4A1F-898F-2F3EB5943100"></a><span class="todo TODO">TODO</span> ssh</h5>
<div class="outline-text-5" id="text-1-3-2-3">
<p>

</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-3-3" class="outline-4">
<h4 id="sec-1-3-3"><span class="todo TODO">TODO</span> Resource management</h4>
<div class="outline-text-4" id="text-1-3-3">
<p>
ref: <a href="http://www.cyberciti.biz/tips/how-do-i-find-out-linux-cpu-utilization.html">http://www.cyberciti.biz/tips/how-do-i-find-out-linux-cpu-utilization.html</a>
## show cpus useage (-P) for all cores, test on 10s, 3 times. 
sar -P ALL 10 3 
</p>

<p>
## findout tasks and cps useage
 ps -eo pcpu,pid,user,args | sort -k 1 -r | head -15
</p>
</div>
<div id="outline-container-sec-1-3-3-1" class="outline-5">
<h5 id="sec-1-3-3-1"><a id="ID-98EAE4B1-99E6-4C19-8713-B72209D3427E" name="ID-98EAE4B1-99E6-4C19-8713-B72209D3427E"></a><span class="todo TODO">TODO</span> Shared folder</h5>
<div class="outline-text-5" id="text-1-3-3-1">
<pre class="example">
1. Edit the samba config
sudo emacs /etc/smb.conf

2. Append the following
[FOLDER_NAME]
   path = PATH
   public = yes
   writable = yes
   guest ok = yes

where FOLDER_NAME is the name this folder show up as in the network;
and PATH is the path to the folder on your local linux machine.

guest ok = yes will open the folder to all (not ideal but configuration of authorisation is complicated, and needs to be done by IT)

3. Restart samba and test
sudo restart smbd
testparm

4. Access from Windows
\\MACHINE_NAME\FOLDER_NAME or \\IP_ADDRESS\FOLDER_NAME
where MACHINE_NAME is the machine name of the shared folder host (e.g. ski-proc29);
and FOLDER_NAME is the folder name as in 2.

5. Access from Linux
5.1. Create a location for mount
sudo mkdir /media/FOLDER_NAME_2
where FOLDER_NAME_2 is what the shared folder is going to be called on user machines

5.2. Mount
sudo mount /media/FOLDER_NAME_2 //MACHINE_NAME/FOLDER_NAME
where MACHINE_NAME is the machine name of the shared folder host as in 4.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">Git</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1">branch, checkout and merge</h4>
<div class="outline-text-4" id="text-1-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Date</th>
<th scope="col" class="left">Location</th>
<th scope="col" class="left">Topic</th>
<th scope="col" class="left">Category</th>
<th scope="col" class="right">Hours</th>
<th scope="col" class="right">CPD</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">2014-10-13 Mon 18:48</td>
<td class="left">Skipton-Library</td>
<td class="left">git</td>
<td class="left">learning</td>
<td class="right">45</td>
<td class="right">1</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">doing</td>
<td class="right">45</td>
<td class="right">1</td>
</tr>
</tbody>
</table>

<dl class="org-dl">
<dt> branch </dt><dd>to add new feature or fix bugs, make a new branch, don't edit on master. merge branches to master then delete branches without losing any info.
</dd>
<dt> checkout </dt><dd>you can work on multiple features in a single repo by swtiching between them using <code>git checkout</code>. It make radiculously easy to try new features.
</dd>
<dt> merge </dt><dd>merge a branch to master, by
<ul class="org-ul">
<li>fast-forward if master does not changed. 
</li>
<li>3-way merge, if both branch and master are changed.
<pre class="example">
# Start a new feature
git checkout -b new-feature master

# Edit some files
git add &lt;file&gt;
git commit -m "Start a feature"

# Edit some files
git add &lt;file&gt;
git commit -m "Finish a feature"

# Merge in the new-feature branch
git checkout master
git merge new-feature
git branch -d new-feature
</pre>
<pre class="example">
# Start a new feature
git checkout -b new-feature master

# Edit some files
git add &lt;file&gt;
git commit -m "Start a feature"

# Edit some files
git add &lt;file&gt;
git commit -m "Finish a feature"

# Develop the master branch
git checkout master

# Edit some files
git add &lt;file&gt;
git commit -m "Make some super-stable changes to master"

# Merge in the new-feature branch
git merge new-feature
git branch -d new-feature
</pre>
</li>
</ul>
</dd>
</dl>
</div>
</div>
<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2">resolve conflicts:</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
if same file &amp; position are modified by both branch, need to resolve
</p>
<pre class="example">
git checkout -b init master 
sublime init.el
## in init, init.el, at line 1, add "edited in init branch"
git add init.el
git commit -m " "

git checkout master
sublime init.el
## in master, init.el, at line 11, add "edited in master" 
git add init.el
git commit -m " "

git merge init
## throw erros, ask to resolve conflicts 

git status 
## show which file need to resolve 
sublime init.el 
## will see ======, &gt;&gt;&gt;&gt;&gt; and &lt;&lt;&lt;&lt; marks
</pre>
</div>
</div>




<div id="outline-container-sec-1-4-3" class="outline-4">
<h4 id="sec-1-4-3">(proj) review git</h4>
<div class="outline-text-4" id="text-1-4-3">
<p>

</p>

<p>
develop R-pkg, add a feature, it's working at day 1, 
on day two, revise what i've done in day 1, will modify this and that, then 
</p>
<ol class="org-ol">
<li>it's broken
<ul class="org-ul">
<li>fix it 
</li>
<li>can't fix, go back to the result of day 1, can I? 
</li>
</ul>
</li>
</ol>

<p>
I have to work upon the scripts in day 1, comment/uncomment all the time, or just copy a new files, 
</p>
</div>


<div id="outline-container-sec-1-4-3-1" class="outline-5">
<h5 id="sec-1-4-3-1"><a id="ID-271AFF13-B189-41A7-B524-A44CBE804490" name="ID-271AFF13-B189-41A7-B524-A44CBE804490"></a><span class="done DONE">DONE</span> merge git files</h5>
<div class="outline-text-5" id="text-1-4-3-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-17 Mon 17:39]</span></span>
forget update chances after week, and i didn't make any change on office PC,
so that i don't need to solve conflicts but only merge
takes about 5 minutes
</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-4" class="outline-4">
<h4 id="sec-1-4-4">solve git conflicts</h4>
<div class="outline-text-4" id="text-1-4-4">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-01 Mon 17:55]</span></span>
git object is corrupted, unable to push local to remote. to solve this problem
</p>
<ol class="org-ol">
<li>copy over all files in A to a temporary folder, B, 
</li>
<li>initiate B as git
</li>
<li>copy over .git/config from A to B, 
</li>
<li>pull from remote to B, will cause conflicts
</li>
<li>solve the conflicts one by one on B, 
</li>
<li>commit and push to remote 
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-1-4-5" class="outline-4">
<h4 id="sec-1-4-5">manage github account</h4>
<div class="outline-text-4" id="text-1-4-5">
<p>

</p>
<ol class="org-ol">
<li>include a nice profile picture. it is black and white, i was fit, leaning forward, and smiling. I like this profile picture.
<a href="https://avatars2.githubusercontent.com/u/6054101?v=3&s=400">https://avatars2.githubusercontent.com/u/6054101?v=3&s=400</a>
</li>
<li>rename yiStats to yi-tang, rename yi-tang to yi-tang2. 
I really want yitang.github.io domain, also yi-tang.github.io is not bad. 
</li>
<li>change my website to the new.
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-1-4-6" class="outline-4">
<h4 id="sec-1-4-6">dischart uncommited changes</h4>
<div class="outline-text-4" id="text-1-4-6">
<p>

</p>
<div class="org-src-container">

<pre class="src src-sh">git reset --hard   <span class="org-comment-delimiter"># </span><span class="org-comment">for all files and folders</span>
git clean -df <span class="org-comment-delimiter">## </span><span class="org-comment">remove all untracked files and folder</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-7" class="outline-4">
<h4 id="sec-1-4-7">overwrite local by repo</h4>
<div class="outline-text-4" id="text-1-4-7">
<p>

</p>
<div class="org-src-container">

<pre class="src src-sh">git fetch --all  <span class="org-comment-delimiter">#</span><span class="org-comment">downloads the lastes from remote without trying to merge or rebase </span>
git reset --hard origin/master <span class="org-comment-delimiter"># </span><span class="org-comment">reset the master branch to what you just fetched. </span>
<span class="org-comment-delimiter"># </span><span class="org-comment">--hard options hcanges all the files in your working tree to match the files in orgiin/master. </span>
<span class="org-comment-delimiter"># </span><span class="org-comment">NOTE: all local changes will be lost.</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-4-8" class="outline-4">
<h4 id="sec-1-4-8"><span class="todo TODO">TODO</span> git log for single file</h4>
<div class="outline-text-4" id="text-1-4-8">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2015-01-06 Tue 22:55]</span></span>
search a expression though a file between differnet commits 
</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">10 Articles Every Programmer Must Read</h3>
<div class="outline-text-3" id="text-1-5">
<p>

</p>

<p>
<a href="http://javarevisited.blogspot.co.uk/2014/05/10-articles-every-programmer-must-read.html">http://javarevisited.blogspot.co.uk/2014/05/10-articles-every-programmer-must-read.html</a>
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="todo TODO">TODO</span> Emacs</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="todo TODO">TODO</span> org mode</h3>
<div class="outline-text-3" id="text-2-1">
<p>

</p>
</div>
<div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1">General and fix</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>

</p>
</div>


<div id="outline-container-sec-2-1-1-1" class="outline-5">
<h5 id="sec-2-1-1-1"><span class="todo TODO">TODO</span> (productivity) add scheduled tasks in agenda,</h5>
<div class="outline-text-5" id="text-2-1-1-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2015-01-07 Wed 19:38]</span></span>
not only the tasks behind schedules, but also in advanced 
</p>

<p>
the best sections order shuold be 
</p>

<ol class="org-ol">
<li>deadlines in k-days
</li>
<li>shceudled in k-days
</li>
<li>passed deadlines k days
</li>
<li>passed scheduled k days
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2-1-1-2" class="outline-5">
<h5 id="sec-2-1-1-2"><a id="ID-801B93F6-7E69-431F-8BA3-D311C54FFE08" name="ID-801B93F6-7E69-431F-8BA3-D311C54FFE08"></a><span class="done DONE">DONE</span> count number of TODOs</h5>
<div class="outline-text-5" id="text-2-1-1-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-09 Sun 20:56]</span></span>
see yi.babel.org 
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2-1-2" class="outline-4">
<h4 id="sec-2-1-2"><span class="done DONE">DONE</span> Clock table</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>

</p>

<p>
:block       The time block to consider.  This block is specified either
             absolute, or relative to the current time and may be any of
             these formats:
             2007-12-31    New year eve 2007
             2007-12       December 2007
             2007-W50      ISO-week 50 in 2007
             2007-Q2       2nd quarter in 2007
             2007          the year 2007
             today, yesterday, today-N          a relative day
             thisweek, lastweek, thisweek-N     a relative week
             thismonth, lastmonth, thismonth-N  a relative month
             thisyear, lastyear, thisyear-N     a relative year
</p>
</div>
</div>
<div id="outline-container-sec-2-1-3" class="outline-4">
<h4 id="sec-2-1-3">Advanced applciation</h4>
<div class="outline-text-4" id="text-2-1-3">
<p>

</p>
</div>
<div id="outline-container-sec-2-1-3-1" class="outline-5">
<h5 id="sec-2-1-3-1">org-map-entries</h5>
<div class="outline-text-5" id="text-2-1-3-1">
<p>

</p>

<p>
org-map-entries is a compiled Lisp function in `org.el'.
</p>

<p>
(org-map-entries FUNC &amp;optional MATCH SCOPE &amp;rest SKIP)
</p>

<p>
Call FUNC at each headline selected by MATCH in SCOPE.
</p>

<p>
FUNC is a function or a lisp form.  The function will be called without
arguments, with the cursor positioned at the beginning of the headline.
The return values of all calls to the function will be collected and
returned as a list.
</p>

<p>
The call to FUNC will be wrapped into a save-excursion form, so FUNC
does not need to preserve point.  After evaluation, the cursor will be
moved to the end of the line (presumably of the headline of the
processed entry) and search continues from there.  Under some
circumstances, this may not produce the wanted results.  For example,
if you have removed (e.g. archived) the current (sub)tree it could
mean that the next entry will be skipped entirely.  In such cases, you
can specify the position from where search should continue by making
FUNC set the variable `org-map-continue-from' to the desired buffer
position.
</p>

<p>
MATCH is a tags/property/todo match as it is used in the agenda tags view.
Only headlines that are matched by this query will be considered during
the iteration.  When MATCH is nil or t, all headlines will be
visited by the iteration.
</p>

<p>
SCOPE determines the scope of this command.  It can be any of:
</p>

<p>
nil     The current buffer, respecting the restriction if any
tree    The subtree started with the entry at point
region  The entries within the active region, if any
region-start-level
        The entries within the active region, but only those at
        the same level than the first one.
file    The current buffer, without restriction
file-with-archives
        The current buffer, and any archives associated with it
agenda  All agenda files
agenda-with-archives
        All agenda files with any archive files associated with them
(file1 file2 &#x2026;)
        If this is a list, all files in the list will be scanned
</p>

<p>
The remaining args are treated as settings for the skipping facilities of
the scanner.  The following items can be given here:
</p>

<p>
archive    skip trees with the archive tag
comment    skip trees with the COMMENT keyword
function or Emacs Lisp form:
           will be used as value for `org-agenda-skip-function', so
           whenever the function returns a position, FUNC will not be
           called for that entry and search will continue from the
           position returned
</p>

<p>
If your function needs to retrieve the tags including inherited tags
at the <b>current</b> entry, you can use the value of the variable
`org-scanner-tags' which will be much faster than getting the value
with `org-get-tags-at'.  If your function gets properties with
`org-entry-properties' at the <b>current</b> entry, bind `org-trust-scanner-tags'
to t around the call to `org-entry-properties' to get the same speedup.
Note that if your function moves around to retrieve tags and properties at
a <b>different</b> entry, you cannot use these techniques.
</p>

<p>
[back]
</p>

<div class="org-src-container">

<pre class="src src-elisp" id="count_todos"><span class="org-rainbow-delimiters-depth-1">(</span>org-map-entries
     <span class="org-rainbow-delimiters-depth-2">(</span><span class="org-keyword">lambda</span> <span class="org-rainbow-delimiters-depth-3">()</span>
       <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-keyword">let*</span> <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-rainbow-delimiters-depth-5">(</span>status <span class="org-rainbow-delimiters-depth-6">(</span>elt <span class="org-rainbow-delimiters-depth-7">(</span>org-heading-components<span class="org-rainbow-delimiters-depth-7">)</span> 2<span class="org-rainbow-delimiters-depth-6">)</span><span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
         <span class="org-comment-delimiter">;; </span><span class="org-comment">(when status</span>
           <span class="org-comment-delimiter">;; </span><span class="org-comment">(puthash status (1+ (or (gethash status counts) 0)) counts)))) ;; FUNC </span>
status<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
     nil <span class="org-comment-delimiter">;; </span><span class="org-comment">match </span>
     'agenda <span class="org-comment-delimiter">;; </span><span class="org-comment">scope </span>
<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-R" id="table_todos">## library(stringr)
x &lt;- sub("\\(", "", x)
x &lt;- sub("\\)", "", x)
x2 &lt;- strsplit(x, " ")[[1]]
table(x2)
</pre>
</div>

<pre class="example">
R&gt; R&gt; R&gt; R&gt; x2
CANCELLED      DONE      HOLD      TODO       nil 
        1         1         1         2         1
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-1-4" class="outline-4">
<h4 id="sec-2-1-4">integrate with R</h4>
<div class="outline-text-4" id="text-2-1-4">
<p>

</p>
</div>

<div id="outline-container-sec-2-1-4-1" class="outline-5">
<h5 id="sec-2-1-4-1">plots</h5>
<div class="outline-text-5" id="text-2-1-4-1">
<p>
asd
</p>
<div class="org-src-container">

<pre class="src src-R">plot(x, y)
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-1-4-2" class="outline-5">
<h5 id="sec-2-1-4-2">access R object</h5>
<div class="outline-text-5" id="text-2-1-4-2">
<p>
were &beta;<sub>2</sub> = #+BEGIN<sub>SRC</sub> R
x[1, 1]
#+END<sub>SRC</sub>; aaa vbb
</p>
</div>
</div>

<div id="outline-container-sec-2-1-4-3" class="outline-5">
<h5 id="sec-2-1-4-3">export direct to latex code</h5>
<div class="outline-text-5" id="text-2-1-4-3">
</div>
</div>
</div>


<div id="outline-container-sec-2-1-5" class="outline-4">
<h4 id="sec-2-1-5"><span class="done DONE">DONE</span> try MobileOrg (rubushs)</h4>
<div class="outline-text-4" id="text-2-1-5">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-13 Sat 13:02]</span></span>
not a decent app
</p>
</div>
</div>
<div id="outline-container-sec-2-1-6" class="outline-4">
<h4 id="sec-2-1-6"><span class="done CANCELLED">CANCELLED</span> fix org mode&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></h4>
<div class="outline-text-4" id="text-2-1-6">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-13 Sat 09:20]</span></span>
an closed entry reminds on the agenda if it has a sheduled date.
</p>
</div>
</div>
<div id="outline-container-sec-2-1-7" class="outline-4">
<h4 id="sec-2-1-7">thank you letter to Bernt!</h4>
<div class="outline-text-4" id="text-2-1-7">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-22 Sat 11:47]</span></span>
Hi Bernt,
</p>

<p>
Your article inspired me to pick up Emacs and org-mode. Everything time I read your article I learn a lot more about org mode and your workflow!  
</p>

<p>
I have been study and precise your workflow using org-mode for 1-2 months. It's awesome and my productive is increasing dramatically! I can't believe what I can achieve just follow your org settings. 
</p>

<p>
Recently I am running to a problem that I cannot figure out for a long time, could you please help me? 
</p>

<ol class="org-ol">
<li>Log-all in Timeline <code>F12 L v L</code> is not working, it does not show tasks has been done. 
</li>
<li><i>Tasks to Archive</i> section in your agenda view <code>F12 SPC</code> does not shows the right tasks. 
 in your org-setting, should 
(a-month-ago (* 60 60 24 (+ daynr 1))) 
be
(a-month-ago (* 60 60 24 30 (+ daynr 1)))
</li>
</ol>
<p>
?
</p>

<p>
Thank you again for sharing your org setting and workflow! 
</p>

<p>
I am looking forward to your reply. 
</p>

<p>
Yi
</p>
</div>
</div>
<div id="outline-container-sec-2-1-8" class="outline-4">
<h4 id="sec-2-1-8"><a id="ID-18BC2AB3-EDD4-47C8-B08B-A1ED2050AA7F" name="ID-18BC2AB3-EDD4-47C8-B08B-A1ED2050AA7F"></a><span class="done CANCELLED">CANCELLED</span> org timeline is broken&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></h4>
<div class="outline-text-4" id="text-2-1-8">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-22 Sat 11:03]</span></span>
can't see the tasks with DONE states in timeline mode.
need to solve this issues so that i can monitor my progress. <i>progress journal</i>
  (interactive "P")  ## take prefix 
  (interactive "r") ## call function based on selected region
</p>

<p>
can't figure out really!!! 
</p>
</div>
</div>
<div id="outline-container-sec-2-1-9" class="outline-4">
<h4 id="sec-2-1-9"><span class="done DONE">DONE</span> Learn external archive feature in org mode</h4>
<div class="outline-text-4" id="text-2-1-9">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-17 Mon 18:24]</span></span>
i couldn't believe how much data i've logged during last month and i'm now in the sitation that need this feature becaue
</p>
<ol class="org-ol">
<li>there are so many clock entries that potentially becomes a problem in searching
</li>
<li>i have another way to logging QS data and i don't want to make a hard copy and called it a different name
</li>
</ol>
<p>
so, external archive feature come to the list. i need to investigate
</p>
<ul class="org-ul">
<li><span class="check">&#x2611;</span> when and how to archive externally
when: by defaul, for a heading, if it's direct children entry has no active todo stats, then this heading should be archived. a default function can automate this, invoked by <code>C-u C-c C-x a</code>.
how: 1) manually, <code>C-c C-x a</code>, or <code>C-u C-c C-x a</code>, 
</li>
<li><span class="check">&#x2611;</span> how to reviser the process?
i know there's way to do it, but don't know how at this moment.
</li>
<li><span class="check">&#x2611;</span> how to make this tasks easier and maybe smarter?
do it in agenda view, do it in bluk.
</li>
<li><span class="check">&#x2611;</span> embedded this task to my current workflow, archive after weekly review?
do archive weekly or every another week, 
</li>
</ul>
<pre class="example">
`C-c C-x a     (`org-toggle-archive-tag')'
     Toggle the ARCHIVE tag for the current headline.  When the tag is
     set, the headline changes to a shadowed face, and the subtree
     below it is hidden.  

`C-c C-x A     (`org-archive-to-archive-sibling')'
     Move the current entry to the _Archive Sibling_.  This is a
     sibling of the entry with the heading `Archive' and the tag
     `ARCHIVE'.  The entry becomes a child of that sibling and in this
     way retains a lot of its original context, including inherited
     tags and approximate position in the outline.

`C-u C-c C-x a'
     Check if any direct children of the current headline should be
     archived.  To do this, each subtree is checked for open TODO
     entries.  If none are found, the command offers to set the ARCHIVE
     tag for the child.  If the cursor is _not_ on a headline when this
     command is invoked, the level 1 trees will be checked.  

`C-TAB     (`org-force-cycle-archived')'
     Cycle a tree even if it is tagged with ARCHIVE.
</pre>
</div>
</div>
<div id="outline-container-sec-2-1-10" class="outline-4">
<h4 id="sec-2-1-10">org-habit ++1w and .+1w&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h4>
<div class="outline-text-4" id="text-2-1-10">
<p>

</p>

<p>
in short, 
++1w will stay on a specific day (Sunday), even if i did on Monday or Friday.
</p>

<p>
.+1w will shift one week after whenever i mark it done. 
</p>

<p>
There's nice feature called <code>repeater</code>, which is similar to habits. a repeater is a task with TODO keyword and a schedule/deadline time stamp.
for example: 
 ;; ** TODO Pay the rent
</p>
<p>
;; ** call father 
</p>
</div>
</div>

<div id="outline-container-sec-2-1-11" class="outline-4">
<h4 id="sec-2-1-11"><span class="done DONE">DONE</span> org habit, ++1w, .+1??</h4>
<div class="outline-text-4" id="text-2-1-11">
<p>

</p>
</div>
</div>


<div id="outline-container-sec-2-1-12" class="outline-4">
<h4 id="sec-2-1-12">quick sum, on duration&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h4>
<div class="outline-text-4" id="text-2-1-12">
<p>

</p>

<p>
highlight, convert 2 org table, highlight column, C-c +, C-y insert the results. 
</p>
</div>
</div>


<div id="outline-container-sec-2-1-13" class="outline-4">
<h4 id="sec-2-1-13">wold count in org mode</h4>
<div class="outline-text-4" id="text-2-1-13">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-16 Tue 10:39]</span></span>
see here:
<a href="https://github.com/dato/org-wc">https://github.com/dato/org-wc</a>
</p>

<p>
Hi,
</p>

<p>
Thanks for hosting this snippet. I find it is particularly useful. I want to improve my writing skill and try to write at least 200-300 words per session. This snippet provides the features that no other standard writing application can, like exclude tables, source code etc in counting words.
</p>

<p>
I wonder if I can lock the word count function to a subtree and show the number of words I have written on modeline on the fly?
</p>

<p>
Many thanks
</p>

<p>
Yi
</p>
</div>
</div>
<div id="outline-container-sec-2-1-14" class="outline-4">
<h4 id="sec-2-1-14"><span class="todo TODO">TODO</span> fix org-mode (column view)</h4>
<div class="outline-text-4" id="text-2-1-14">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-27 Sat 10:42]</span></span>
does not show clocksum in agenda-column-view
i doubt it is because the task has been done
</p>
</div>
</div>
<div id="outline-container-sec-2-1-15" class="outline-4">
<h4 id="sec-2-1-15">configre org mode (F12-SPC)</h4>
<div class="outline-text-4" id="text-2-1-15">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-26 Fri 23:32]</span></span>
<b>move waiting section to front</b> 
my ccolluges are assholes, they won't keep their words and i have to chase them literally every day to get things done.  So I put <b>Waiting and Postponed Tasks</b> section in the very front of my calandar view.  Whenever there is a thing a thing that's hold or waiting for response, I should do it immediately! 
</p>

<p>
<b>move to response section to front</b>
If i need to response someone, either by text or Email, I should do it as soon as I got time.  I want to be responsive.  So I add a new tag <span class="underline">RESPONSE</span> and tasks need to response in the second section of my agenda. 
</p>

<p>
<b>add reponse captre mode</b>
</p>
</div>
</div>
<div id="outline-container-sec-2-1-16" class="outline-4">
<h4 id="sec-2-1-16"><span class="todo NEXT">NEXT</span> export</h4>
<div class="outline-text-4" id="text-2-1-16">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-28 Sun 19:58]</span></span>
all export options are <a href="http://orgmode.org/manual/Export-settings.html">here</a>
When exporting only a subtree, each of the previous keywords3 can be overridden locally by special node properties. These begin with ‘EXPORT<sub>’</sub>, followed by the name of the keyword they supplant. For example, ‘DATE’ and ‘OPTIONS’ keywords become, respectively, ‘EXPORT<sub>DATE’</sub> and ‘EXPORT<sub>OPTIONS’</sub> properties.
for example, change the export files:  change file :EXPORT<sub>FILE</sub><sub>NAME</sub>: orgR 0.9.10 
make sure you change the <i>Export scope</i> to subtree when exporting.
</p>
</div>
<div id="outline-container-sec-2-1-16-1" class="outline-5">
<h5 id="sec-2-1-16-1">LaTeX</h5>
<div class="outline-text-5" id="text-2-1-16-1">
<p>

</p>
</div>
<div id="outline-container-sec-2-1-16-1-1" class="outline-6">
<h6 id="sec-2-1-16-1-1">Templates</h6>
<div class="outline-text-6" id="text-2-1-16-1-1">
<p>

</p>

<p>
settings: 
use different latex class
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Scope</th>
<th scope="col" class="left">setting</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">Global</td>
<td class="left">org-latex-default-class</td>
</tr>

<tr>
<td class="left">Buffer</td>
<td class="left">#+LATEX<sub>CLASS</sub>: myclass</td>
</tr>

<tr>
<td class="left">subtree</td>
<td class="left">EXPORT<sub>LATEX</sub><sub>CLASS</sub> property</td>
</tr>
</tbody>
</table>
<p>
define latex class template 
</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">; </span><span class="org-comment">'djcb-org-article' for export org documents to the LaTex 'article', using</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">XeTeX and some fancy fonts; requires XeTeX (see org-latex-to-pdf-process)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>add-to-list 'org-latex-classes
  '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-string">"yt/org-article"</span>
<span class="org-string">"\\documentclass[11pt,a4paper]{article}</span>
<span class="org-string">\\usepackage[T1]{fontenc}</span>
<span class="org-string">\\usepackage{fontspec}</span>
<span class="org-string">\\usepackage{graphicx} </span>
<span class="org-string">\\defaultfontfeatures{Mapping=tex-text}</span>
<span class="org-string">\\setromanfont{Gentium}</span>
<span class="org-string">\\setromanfont [BoldFont={Gentium Basic Bold},</span>
<span class="org-string">                ItalicFont={Gentium Basic Italic}]{Gentium Basic}</span>
<span class="org-string">\\setsansfont{Charis SIL}</span>
<span class="org-string">\\setmonofont[Scale=0.8]{DejaVu Sans Mono}</span>
<span class="org-string">\\usepackage{geometry}</span>
<span class="org-string">\\geometry{a4paper, textwidth=6.5in, textheight=10in,</span>
<span class="org-string">            marginparsep=7pt, marginparwidth=.6in}</span>
<span class="org-string">\\pagestyle{empty}</span>
<span class="org-string">\\title{}</span>
<span class="org-string">      [NO-DEFAULT-PACKAGES]</span>
<span class="org-string">      [NO-PACKAGES]"</span>
     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\section{%s}"</span> . <span class="org-string">"\\section*{%s}"</span><span class="org-rainbow-delimiters-depth-3">)</span>
     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\subsection{%s}"</span> . <span class="org-string">"\\subsection*{%s}"</span><span class="org-rainbow-delimiters-depth-3">)</span>
     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\subsubsection{%s}"</span> . <span class="org-string">"\\subsubsection*{%s}"</span><span class="org-rainbow-delimiters-depth-3">)</span>
     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\paragraph{%s}"</span> . <span class="org-string">"\\paragraph*{%s}"</span><span class="org-rainbow-delimiters-depth-3">)</span>
     <span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"\\subparagraph{%s}"</span> . <span class="org-string">"\\subparagraph*{%s}"</span><span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
add options to a latex class 
<code>#+LATEX_CLASS_OPTIONS</code> keyword or <code>EXPORT_LATEX_CLASS_OPTIONS</code> property to speficy the options for \documentclass macro.
for exmaple, <code>#+LATEX_CLASS_OPTIONS: 11pt, a4paper</code>
</p>

<p>
add lines in pre-preble 
=#+LATEX<sub>HEADER</sub>: \usepackage{xyz}
</p>

<p>
minimal exmaple: 
</p>

<div class="org-src-container">

<pre class="src src-org"><span class="org-org-meta-line">#+LATEX_CLASS: article</span>
    #+LATEX_CLASS_OPTIONS: [a4paper]
    #+LATEX_HEADER: \usepackage{xyz}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-1-16-1-2" class="outline-6">
<h6 id="sec-2-1-16-1-2">Images</h6>
<div class="outline-text-6" id="text-2-1-16-1-2">
<p>

</p>
<p>
<a href="img/MeanPrecipitationPlots.pdf">img/MeanPrecipitationPlots.pdf</a>
</p>
</div>
</div>


<div id="outline-container-sec-2-1-16-1-3" class="outline-6">
<h6 id="sec-2-1-16-1-3">test org pdf</h6>
<div class="outline-text-6" id="text-2-1-16-1-3">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-1-16-1-4" class="outline-6">
<h6 id="sec-2-1-16-1-4"><span class="done DONE">DONE</span> GoodNotes and org (pdf) integration</h6>
<div class="outline-text-6" id="text-2-1-16-1-4">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-27 Sat 23:51]</span></span>
outcome: the whole <i>git</i> folder is now synnoised and hosted on <i>Dropbox</i> and can be accessed via GoodNotes4 without a effort. 
</p>

<ol class="org-ol">
<li>GoodNotes only accept PDF files, so I will export the org file to pdf. 
<ol class="org-ol">
<li>need default exorting seetings, 
<ul class="org-ul">
<li><span class="check">&#x2611;</span> Table of Content for navigation,  
</li>
<li><span class="check">&#x2611;</span> with TODO keywords and perferable with highlights
</li>
<li><span class="check">&#x2611;</span> no time-stamp
</li>
<li><span class="check">&#x2611;</span> minted package for source code, it looks better than listsings
pygmentize -L lexers to see what langauge it support.
<ul class="org-ul">
<li><span class="check">&#x2611;</span> can use captions, 
</li>
<li><span class="check">&#x2611;</span> show line number 
</li>
<li><span class="check">&#x2611;</span> code are framed 
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li>mvoe git folder to Dropbox via symbloic link 
</li>
</ol>

<p>
What if you want to synchronize/backup files or folders that reside not in the “My Dropbox” folder, but somewhere else on your harddrive? There are a number of different ways that this can be achieved. Each operating system has a different way that you can do it.
</p>

<p>
You will need to create a symbolic links to those outside files/folders. You can use the following application for that task:
</p>
<div class="org-src-container">

<pre class="src src-sh">ln -s /path/to/folder/that/you/want/to/sync/ ~/Dropbox/folder/name
</pre>
</div>
<p>
NOTE: The original file will need to have permissions set to 664 at a minimum otherwise the new Link in the dropbox folder will have a red X on its icon, meaning that it won’t copy the file to the Dropbox server. It should look like this:
</p>

<ol class="org-ol">
<li>post process after export (if suecced) 
<ol class="org-ol">
<li>clean work space, no intermdiate files
</li>
<li>copy pdf file to Dropbox, or icloud drive with path ~/Library/Mobile Documents/com~apple~CloudDocs/OrgMode
</li>
<li>this process can be done in emacs, and/or with help of shell script. 
</li>
</ol>
<p>
the problem of this approch is I need to define a org-publication setting. 
</p>
</li>
</ol>


<ol class="org-ol">
<li>contact GoodNotes team to say if we can sync the pdf files instead of GoodNote file on iClouDrive.
</li>
</ol>

<p>
BAKCUP: move the whole ~/git to ~/Dropbox/git. need to vertify that it makes no harm to have a git reposity in Dropbox. x
or even better, add the ~/git folder to Dropbox.
</p>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-2-1-17" class="outline-4">
<h4 id="sec-2-1-17">Publish Projects</h4>
<div class="outline-text-4" id="text-2-1-17">
<p>

</p>

<p>
org publishing: automatically do 
</p>
<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> HTML and/or PDF conversion 
</li>
<li><span class="checkbox">&#x2610;</span> upload exported HTML and related attachments to a web server
</li>
</ul>

<p>
projects are configured by propert-value form. 
</p>

<dl class="org-dl">
<dt> base-directory </dt><dd></dd>
<dt> publishing-directory </dt><dd>can be web aserve using 'tramp' package, or local 
</dd>
<dt> preparation-function </dt><dd>function or lists of functions to be called before publishing process 
</dd>
<dt> completion-function </dt><dd>functions called after finishing the publish process, like show a message on echo area to remind me to twitter the post
</dd>
</dl>

<p>
configure base-direcotry, by default all .org files are exported, options includes 
</p>
<dl class="org-dl">
<dt> :based-extension </dt><dd>md or org? without dot
</dd>
<dt> exclude </dt><dd>to exclude a spefici file name
</dd>
<dt> include </dt><dd>to include
</dd>
<dt> resursive </dt><dd>loop though subfolder of base-directory
</dd>
</dl>

<p>
publish means 
</p>
<dl class="org-dl">
<dt> publishing-function </dt><dd>html, pdf or all?
</dd>
<dt> htmlized-source </dt><dd>? 
</dd>
</dl>

<p>
<b>publish property</b>
in-buffer options over write everything. project options overwrite user setting. each publish option has corresponding org-export-* or org-html* setting, check the lookup table. 
</p>

<p>
<b>sitemap</b>
</p>

<dl class="org-dl">
<dt> auto-sitemap </dt><dd></dd>
<dt> sitemap-filename </dt><dd>default is sitemap.org, which becomes sitemap.html
</dd>
<dt> sitemap-title </dt><dd>title of sitemap page, defaults is name of file
</dd>
<dt> sitemap-function </dt><dd>default is org-publish-org-sitemap, a plain list of links to all the files in the project
</dd>
<dt> sitemap-sort-folders </dt><dd>display folders after or before files, or mix.
</dd>
<dt> sitemap-sort-files </dt><dd>by name, chronologically or anti-chronologically
</dd>
<dt> sitemap-ignore-case </dt><dd>sorting be case-sensitive?
</dd>
</dl>
<p>
&#x2026;
</p>

<p>
<b>index</b> makeindex for generating theindex.org and publish it as theindex.htlm 
</p>

<p>
<b>uploading to web server</b> suggested to use shell command, scp, rsync or unison.  org-mode use rely heavily on Tramp, that is not suitable for heavy use. 
</p>

<p>
<b>publish</b> 
via org export dispatch, normally only publish changed files, use prefix argument to or org-publish-use-timestamps-flag varaible to for pubslihing all. 
</p>
</div>
<div id="outline-container-sec-2-1-17-1" class="outline-5">
<h5 id="sec-2-1-17-1">Example</h5>
<div class="outline-text-5" id="text-2-1-17-1">
<p>

</p>
<div class="org-src-container">

<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span>setq org-publish-project-alist
      '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"yi-tang-github-io"</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">settings for cute-jumper.github.io</span>
         <span class="org-builtin">:base-directory</span> <span class="org-string">"~/git/yi-tang.github.io/org"</span>
         <span class="org-builtin">:base-extension</span> <span class="org-string">"org"</span>
         <span class="org-builtin">:publishing-directory</span> <span class="org-string">"~/git/yi-tang.github.io"</span>
         <span class="org-builtin">:recursive</span> t <span class="org-comment-delimiter">;; </span><span class="org-comment">inlcude subfolder of /org, which is actually not necessary </span>
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html <span class="org-comment-delimiter">;; </span><span class="org-comment">to html </span>
         <span class="org-builtin">:with-toc</span> nil <span class="org-comment-delimiter">;; </span><span class="org-comment">Jekyll requirement </span>
         <span class="org-builtin">:headline-levels</span> 4 <span class="org-comment-delimiter">;; </span><span class="org-comment">for headline below level 4, use bold instead </span>
         <span class="org-builtin">:section-numbers</span> nil <span class="org-comment-delimiter">;; </span><span class="org-comment">no section numbers </span>
         <span class="org-builtin">:auto-preamble</span> nil  <span class="org-comment-delimiter">;; </span><span class="org-comment">no preamble function after apply html </span>
         <span class="org-builtin">:auto-sitemap</span> nil <span class="org-comment-delimiter">;; </span>
         <span class="org-builtin">:html-extension</span> <span class="org-string">"html"</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">not necessary </span>
         <span class="org-builtin">:htmlized-source</span> t  <span class="org-comment-delimiter">;; </span><span class="org-comment">? </span>
         <span class="org-builtin">:body-only</span> t  <span class="org-comment-delimiter">;; </span><span class="org-comment">jeyll requirement </span>
         <span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-1-17-2" class="outline-5">
<h5 id="sec-2-1-17-2">Practise</h5>
<div class="outline-text-5" id="text-2-1-17-2">
<p>

</p>


<div class="org-src-container">

<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span>setq org-publish-project-alist
      '<span class="org-rainbow-delimiters-depth-2">(</span><span class="org-rainbow-delimiters-depth-3">(</span><span class="org-string">"Notebook"</span> <span class="org-comment-delimiter">;; </span><span class="org-comment">settings for cute-jumper.github.io</span>
         <span class="org-builtin">:base-directory</span> <span class="org-string">"~/git/org"</span>
         <span class="org-comment-delimiter">;; </span><span class="org-comment">:base-extension "org"</span>
<span class="org-builtin">:exclude</span> <span class="org-string">".*"</span>
<span class="org-builtin">:include</span> <span class="org-rainbow-delimiters-depth-4">[</span><span class="org-string">"tmp.org"</span><span class="org-rainbow-delimiters-depth-4">]</span>
         <span class="org-builtin">:publishing-directory</span> <span class="org-string">"~/git/yi-tang.github.io/tmp"</span>
         <span class="org-builtin">:publishing-function</span> org-html-publish-to-html <span class="org-comment-delimiter">;; </span><span class="org-comment">to html </span>
         <span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2-1-18" class="outline-4">
<h4 id="sec-2-1-18">Babel</h4>
<div class="outline-text-4" id="text-2-1-18">
<p>

</p>
</div>
<div id="outline-container-sec-2-1-18-1" class="outline-5">
<h5 id="sec-2-1-18-1">Babel</h5>
<div class="outline-text-5" id="text-2-1-18-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-28 Sun 23:16]</span></span>
argument list 
</p>

<dl class="org-dl">
<dt> exports </dt><dd></dd>
<dt> results </dt><dd></dd>
<dt> eval </dt><dd>no, yes, no-export 
</dd>
<dt> session </dt><dd></dd>
<dt> dir </dt><dd></dd>
</dl>
</div>
</div>

<div id="outline-container-sec-2-1-18-2" class="outline-5">
<h5 id="sec-2-1-18-2">babel library</h5>
<div class="outline-text-5" id="text-2-1-18-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-28 Sun 23:12]</span></span>
(org-babel-lob-ingest "~/git/.emacs.d/yi.babel.org")
</p>

<p>
A function defined in label library can be used in anywhere in a org file by using the following format 
</p>
<div class="org-src-container">

<pre class="src src-org"><span class="org-org-meta-line">#+call: F[pre-arg-list](func-arg)[post-arg-list]</span>
</pre>
</div>
<p>
where <code>F</code> refers to the function name in babel library. 
func-arg to the argument list to F, 
pre-arg-list refers to babel arguments, like <code>:session</code>, <code>:export</code> etc those setting before evaluation. 
post-arg-list refers to babel arguments that be applied after evaluation, like change the presentatino by <code>:results</code>
</p>
</div>
</div>

<div id="outline-container-sec-2-1-18-3" class="outline-5">
<h5 id="sec-2-1-18-3"><span class="todo NEXT">NEXT</span> (org) org-babel library</h5>
<div class="outline-text-5" id="text-2-1-18-3">
<p>

</p>

<p>
header arguments 
</p>
<ul class="org-ul">
<li>results - value, will be exported to table
</li>
<li>results - output, standard output,
</li>
<li>:session will deterinmine whterh to save last expression or STDOUT
</li>
<li>:var x=y, y can be a :results y, or :tbname y 
</li>
<li>input of a org-babel scr block can be the table output of another src block.
</li>
</ul>
</div>
</div>
</div>
</div>




<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="todo TODO">TODO</span> Emacs Speak Statistics</h3>
<div class="outline-text-3" id="text-2-2">
<p>

</p>
</div>
<div id="outline-container-sec-2-2-1" class="outline-4">
<h4 id="sec-2-2-1"><span class="done DONE">DONE</span> (learn) ESS</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
help page for major mode: <code>C-h m</code>
variable that can be customised for a major mode: <code>M-x customise-group RET ess RET</code>
</p>
</div>
</div>
<div id="outline-container-sec-2-2-2" class="outline-4">
<h4 id="sec-2-2-2"><span class="done DONE">DONE</span> ess-remote</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-08 Sat 22:35]</span></span>
ESS works with processes on remote computers as easily as with processes on the local machine. 
</p>

<div class="org-src-container">

<pre class="src src-elisp"><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">require</span> '<span class="org-constant">tramp</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">require</span> '<span class="org-constant">ssh</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>


<pre class="example">
Host JBA28
 ... 
 ForwardX11 yes 
;; The ForwardX11 is needed if you want to see R graphic device showing on the current machine
</pre>

<p>
official guide: start a R session inside Emacs, with <code>M-x R</code> and set the wd- to <code>/ssh:JBA28:</code>, but i have the problem to type in the password. 
</p>

<p>
so i spent two hours to fix this problem, 
</p>


<p>
antoher approch: 
</p>
<ul class="org-ul">
<li>1. run shell in emacs
</li>
<li>2. ssh -X -C user:host
</li>
<li><code>M-x ssh RET JBA28 -X -C</code> ;; 
</li>
<li>run R on remote
</li>
<li><code>M-x ess-remote</code> 
</li>
</ul>
<p>
run a remote ess/R session as if it was local, i.e local Emacs/ESS key bindings, vairbales etc. 
</p>
<ol class="org-ol">
<li>the killing point is that you could sent scripts to remote directly, 
</li>
<li></li>
</ol>

<div class="org-src-container">

<pre class="src src-R">x
</pre>
</div>

<div class="org-src-container">

<pre class="src src-R">x &lt;- rnorm(10)
</pre>
</div>

<div class="org-src-container">

<pre class="src src-R">plot(x)
</pre>
</div>


<div class="figure">
<p><img src="file:///Users/yitang/LR_share/plot1.png" alt="plot1.png" />
</p>
</div>

<p>
<a href="file:///ssh:JBA28:/home/local/JBANORTHWEST/yitang/tmpp.png">png<sub>remote</sub></a>
</p>


<div class="org-src-container">

<pre class="src src-R">plot(x)
</pre>
</div>


<div class="figure">
<p><img src="file:///Users/yitang/LR_share/plot1.png" alt="plot1.png" />
</p>
</div>

<div class="org-src-container">

<pre class="src src-R">x
</pre>
</div>

<pre class="example">
[1] 10
</pre>
</div>
</div>

<div id="outline-container-sec-2-2-3" class="outline-4">
<h4 id="sec-2-2-3">org-babel + ess-remote</h4>
<div class="outline-text-4" id="text-2-2-3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-08 Sat 22:40]</span></span>
I want to practise <i>reproducible research</i>, 
</p>

<p>
actually org mode can link! i can get the text output but can't see the image file, because
1). :file tmp.png will be saved in server, not local. i can still display the image in emacs by set the link to remote file, i can view, but when i export it to html/pdf, it does not show because the file is on serve, which need passwd to aceess.
</p>

<p>
the best way to solve this problem seems to be ask the remote R session write a image file directly to my local machine, is it doable???  can't, R does not support SSH, so i copy files to local
</p>

<p>
<code>C-x C-f /ssh:amazon:~/</code> dired directory, mark the file <code>M</code> and then do <code>M-x dired-do-copy</code> select path. this procesure works, but tedious to do, maybe this will work
</p>
<ol class="org-ol">
<li>:file ~/LR<sub>share</sub>/plot1.png
</li>
<li>executive org-babel, on server side, the plot1.png will be save to my hom directory
</li>
<li>the result will be a path, point to plot1.png in my local home directory 
</li>
<li>run a emacs process to copy the files in remote:~/LR<sub>share</sub> to local:~/LR<sub>share</sub>
</li>
<li>export org mode  
</li>
</ol>

<div class="org-src-container">

<pre class="src src-elisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(defun yt/sync-local-remote ()</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(interactive)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">"copy all files in remote:~/LR_share to local:~/LR_share,</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">does not support the ther way"</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(find-file "/ssh:JBA28:~/LR_share")</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (mark-whole-buffer)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(dired-mark-subdir-files)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(find-file "~/LR_share")</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(setq-local  dired-dwim-target t)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(dired-do-copy))</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">(defun yt/sync-local-remote ()</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(interactive)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">"copy all files in remote:~/LR_share to local:~/LR_share,</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">does not support the ther way"</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(dired-copy-file-recursive "/ssh:JBA28:/home/local/JBANORTHWEST/yitang/LR_share" "~/LR_share" nil nil nil nil))</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">(defun yt/test ()</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(interactive)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(dired-copy-file-recursive "~/tmp" "~/tmp"))</span>
</pre>
</div>


<div class="org-src-container">

<pre class="src src-elisp" id="yt/sync-local-remote"><span class="org-comment-delimiter">;; </span><span class="org-comment">(defun yt/sync-local-remote ()</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(interactive)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">"copy all files in remote:~/LR_share to local:~/LR_share,</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">does not support the ther way"</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(find-file "/ssh:JBA28:/home/local/JBANORTHWEST/yitang/LR_share")</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (mark-whole-buffer)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(dired-mark-subdir-files)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (find-file "~/LR_share")</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">;; (setq-local dirqed-dwim-target t)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(dired-do-copy))</span>
</pre>
</div>

<p>
or plot it on remote, forward it to local, save it manually, not though org-babel. BAD ideal, many plots to save, need to type the name each time when i biuld the documents.
</p>

<p>
ref: <a href="http://ygc.name/2013/11/14/run-remote-r-in-emacs-with-ess/">http://ygc.name/2013/11/14/run-remote-r-in-emacs-with-ess/</a>
</p>
</div>
<div id="outline-container-sec-2-2-3-1" class="outline-5">
<h5 id="sec-2-2-3-1">debug</h5>
<div class="outline-text-5" id="text-2-2-3-1">
<p>

</p>


<p>
<code>C-c `</code> show traceback 
<code>M-g p</code> previous error
<code>M-g n</code> next error 
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="todo TODO">TODO</span> My Configration</h3>
<div class="outline-text-3" id="text-2-3">
<p>

</p>
</div>
<div id="outline-container-sec-2-3-1" class="outline-4">
<h4 id="sec-2-3-1"><a id="ID-8AFE372F-1BE3-477F-86C3-786F30784230" name="ID-8AFE372F-1BE3-477F-86C3-786F30784230"></a><span class="done DONE">DONE</span> <code>F9-i</code>, insert,</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-08 Sat 11:58]</span></span>
<code>+t</code> for timestamp 
<code>+p</code> path for buffer 
<code>+s</code> sent region to other buffer, with prefix, will select buffer, else, to default, .R buffer will goes to <b>R</b>. 
a good idea for this scenary: output from <b>R</b>, a table, highlight, sent to a particular .org file, where i was writing a report.
</p>
</div>
</div>
<div id="outline-container-sec-2-3-2" class="outline-4">
<h4 id="sec-2-3-2">frequently used commands (ledger)</h4>
<div class="outline-text-4" id="text-2-3-2">
<p>

</p>


<p>
use yasnippet or org-bable library or shell scripts? 
</p>
</div>
</div>

<div id="outline-container-sec-2-3-3" class="outline-4">
<h4 id="sec-2-3-3"><a id="ID-9DF8F654-5FE1-4D40-A253-50BA44CFCD88" name="ID-9DF8F654-5FE1-4D40-A253-50BA44CFCD88"></a><span class="done DONE">DONE</span> define/remove/modify  keybinds&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h4>
<div class="outline-text-4" id="text-2-3-3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-08 Sat 22:56]</span></span>
<a href="http://emacsredux.com/blog/2013/09/25/removing-key-bindings-from-minor-mode-keymaps/">http://emacsredux.com/blog/2013/09/25/removing-key-bindings-from-minor-mode-keymaps/</a>
</p>



<div class="org-src-container">

<pre class="src src-elisp"><span class="org-comment-delimiter">;;;; </span><span class="org-comment">for a specific mode</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">remove keybinding</span>
<span class="org-rainbow-delimiters-depth-1">(</span>define-key minor-mode-map <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-c c"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">change keybinding</span>
<span class="org-rainbow-delimiters-depth-1">(</span>define-key minor-mode-map <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-c c"</span><span class="org-rainbow-delimiters-depth-2">)</span> <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-c C-c"</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-comment-delimiter">;;;; </span><span class="org-comment">global </span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-set-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-c c"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>global-unset-key <span class="org-rainbow-delimiters-depth-2">(</span>kbd <span class="org-string">"C-c c"</span><span class="org-rainbow-delimiters-depth-2">)</span> nil<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-3-4" class="outline-4">
<h4 id="sec-2-3-4"><span class="done CANCELLED">CANCELLED</span> begin to record mood, or concinessness, mindfulness&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></h4>
<div class="outline-text-4" id="text-2-3-4">
<p>

</p>

<p>
in <code>CCCXCC</code> 
</p>

<p>
add a global property, named mood, just before i clock out, i set this proerty <code>C-c C-x p mood</code>, at this stage, i just tye how did i feel about it, at that very moment, or when i did it. 
</p>

<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> set global propert  [!] i don't need to pre-define, just use it.
</li>
<li><span class="checkbox">&#x2610;</span> the propuse to use set global property is to restrict the value!
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2-3-5" class="outline-4">
<h4 id="sec-2-3-5"><span class="done DONE">DONE</span> show mood in agenda column view</h4>
<div class="outline-text-4" id="text-2-3-5">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-09 Sun 12:43]</span></span>
syntax to define a column view 
</p>

<pre class="example">
%[width]property[(title)][{summary-type}]
</pre>

<p>
as file variable
</p>

<pre class="example">
:COLUMNS:  %25ITEM %9Approved(Approved?){X} %Owner %11Status \1
</pre>

<p>
as global variable 
</p>
<div class="org-src-container">

<pre class="src src-elisp"><span class="org-rainbow-delimiters-depth-1">(</span>setq org-columns-default-format <span class="org-string">"%80ITEM(Task) %10Effort(Effort){:} %10CLOCKSUM %Mood"</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-3-6" class="outline-4">
<h4 id="sec-2-3-6"><span class="done DONE">DONE</span> show org-headings as tree structure</h4>
<div class="outline-text-4" id="text-2-3-6">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-09 Sun 23:29]</span></span>
see orgR package
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4">install Emacs 24.4</h3>
<div class="outline-text-3" id="text-2-4">
<p>

</p>

<div class="org-src-container">

<pre class="src src-sh">sudo apt-get install build-essential
sudo apt-get build-dep emacs24

<span class="org-builtin">cd</span> ~/Downloads
wget http://ftp.gnu.org/gnu/emacs/emacs-24.4.tar.xz
<span class="org-builtin">cd</span> ~/Downloads &amp;&amp; tar -xf emacs-24.4.tar.* &amp;&amp; <span class="org-builtin">cd</span> emacs-24.4
./configure
make
sudo make install

sudo gedit /usr/share/applications/Emacs-24.desktop

<span class="org-rainbow-delimiters-depth-1">[</span>Desktop Entry<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-variable-name">Version</span>=1.0
<span class="org-variable-name">Name</span>=Emacs-24
<span class="org-variable-name">Exec</span>=env <span class="org-variable-name">UBUNTU_MENUPROXY</span>=0 /usr/local/bin/emacs
<span class="org-variable-name">Terminal</span>=false
<span class="org-variable-name">Icon</span>=emacs
<span class="org-variable-name">Type</span>=Application
<span class="org-variable-name">Categories</span>=IDE
X-Ayatana-Desktop-Shortcuts=NewWindow
<span class="org-rainbow-delimiters-depth-1">[</span>NewWindow Shortcut Group<span class="org-rainbow-delimiters-depth-1">]</span>
<span class="org-variable-name">Name</span>=New Window
<span class="org-variable-name">TargetEnvironment</span>=Unity
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5">Remote emacs</h3>
<div class="outline-text-3" id="text-2-5">
</div><div id="outline-container-sec-2-5-1" class="outline-4">
<h4 id="sec-2-5-1">(cancelled) VNC on Ubuntu (VM)</h4>
<div class="outline-text-4" id="text-2-5-1">
</div>
</div>
<div id="outline-container-sec-2-5-2" class="outline-4">
<h4 id="sec-2-5-2">ess-remote</h4>
<div class="outline-text-4" id="text-2-5-2">
<div class="org-src-container">

<pre class="src src-R">x &lt;- rnorm(10)
x
</pre>
</div>
</div>
</div>



<div id="outline-container-sec-2-5-3" class="outline-4">
<h4 id="sec-2-5-3">(sh) auto complete?</h4>
<div class="outline-text-4" id="text-2-5-3">
<p>

</p>

<ul class="org-ul">
<li>dired mode in remote folder, then shell mode 
</li>
<li>shell mode, cd to remote folder, 
</li>
</ul>
</div>
</div>
</div>


<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6">Buffer functions</h3>
<div class="outline-text-3" id="text-2-6">
<p>

</p>

<p>
<code>appen-to-buffer</code>
(append-to-buffer BUFFER START END)
</p>

<p>
Append to specified buffer the text of the region.
It is inserted into that buffer before its point.
</p>

<p>
When calling from a program, give three arguments:
BUFFER (or buffer name), START and END.
START and END specify the portion of the current buffer to be copied.
</p>

<p>
how to use: 
</p>
<ol class="org-ol">
<li>highlight region 
</li>
<li>call <code>append-to-buffer</code>
</li>
<li>select buffer name,
</li>
<li>the highlighted region will be copy to the buffer, after the cursor 
</li>
</ol>


<p>
my preferrance:
</p>
<ol class="org-ol">
<li>if mark is not set (no region selected), copy the current line to the buffer, for example 
<div class="org-src-container">

<pre class="src src-R">   x &lt;- rnorm(100)
y &lt;- rnorm(20)
</pre>
</div>
<p>
when i place the cursor in the first line, where it is, can call <code>append-to-buffer</code>, it will copy that line to buffer 
</p>
</li>
</ol>

<p>
<code>copy-to-buffer</code>
will overwrite the target buffer 
</p>

<p>
<code>insert-buffer</code>
insert other buffer's content to current buffer.
</p>
</div>
<div id="outline-container-sec-2-6-1" class="outline-4">
<h4 id="sec-2-6-1"><span class="todo NEXT">NEXT</span> wrap-up and use in prudction</h4>
<div class="outline-text-4" id="text-2-6-1">
<p>

</p>
</div>
</div>
</div>

<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7">watch emacs video</h3>
<div class="outline-text-3" id="text-2-7">
</div>
</div>



<div id="outline-container-sec-2-8" class="outline-3">
<h3 id="sec-2-8">Emacs distable a function</h3>
<div class="outline-text-3" id="text-2-8">
<p>

</p>


<p>
(fmakunbound 'org-cycle-agenda-files)
</p>
</div>
</div>
<div id="outline-container-sec-2-9" class="outline-3">
<h3 id="sec-2-9"><span class="done DONE">DONE</span> emacs show random quotes in mini buffer</h3>
<div class="outline-text-3" id="text-2-9">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-28 Sun 16:51]</span></span>
learnt from nanowrimo.el 
define a list of quotes, 
define a function that draw one from the list of quotes, and then show to mini buffer. 
define a trigger function that will call the above function
</p>
</div>
</div>
<div id="outline-container-sec-2-10" class="outline-3">
<h3 id="sec-2-10">Emacs Lisp programming</h3>
<div class="outline-text-3" id="text-2-10">
<p>

</p>
</div>
<div id="outline-container-sec-2-10-1" class="outline-4">
<h4 id="sec-2-10-1"><span class="done DONE">DONE</span> Emacs function practise&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h4>
<div class="outline-text-4" id="text-2-10-1">
<p>

</p>

<div class="org-src-container">

<pre class="src src-emac-lisp">(defun a ()
5) ;; function return 5 

(message "a") ;; print character a 
(message a);; print variable a, it is undefined. 
(message (a)) ;; print the results of calling function a

(setq x (a)) ;; set x to the result of calling function a

(visited-file-modtime) ;; call the function that return the modified time of buffer-visiting file. 
(format-time-string "%Y-%B") ;; print out current date with spefic format 
(format-time-string "%Y" (visited-file-modtime)) ;; print out the modified date of this buffer.
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-2-11" class="outline-3">
<h3 id="sec-2-11"><span class="todo TODO">TODO</span> sort out emacs auto-back-up</h3>
<div class="outline-text-3" id="text-2-11">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-26 Fri 15:14]</span></span>
need to find a way to clean the buffer
</p>
</div>
</div>
<div id="outline-container-sec-2-12" class="outline-3">
<h3 id="sec-2-12"><span class="todo TODO">TODO</span> ask help on Emacs</h3>
<div class="outline-text-3" id="text-2-12">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-28 Sun 00:07]</span></span>
after I set a proprties for a org headline, I want to call a function automatically. 
how to do that? 
</p>

<p>
I don't have time to do the research, I can 
</p>
<ol class="org-ol">
<li>put it one by blog, and ask for help. 
</li>
<li>sent out emails, to sacha, or BH for help.
</li>
<li>do my own research. 
</li>
</ol>
</div>
</div>
<div id="outline-container-sec-2-13" class="outline-3">
<h3 id="sec-2-13">Emacs config updates</h3>
<div class="outline-text-3" id="text-2-13">
<p>

</p>

<ol class="org-ol">
<li>start to use yasnippet 
</li>
<li>org-latex-class changed, remove demo option in graphics, add demo option in documentclass
</li>
<li>ispell will skip code block and org drawers. 
</li>
</ol>
<p>
see .emacs.d for details
</p>
</div>
</div>
<div id="outline-container-sec-2-14" class="outline-3">
<h3 id="sec-2-14"><span class="done DONE">DONE</span> Emacs while/for loop</h3>
<div class="outline-text-3" id="text-2-14">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-15" class="outline-3">
<h3 id="sec-2-15">Helm-Projectile</h3>
<div class="outline-text-3" id="text-2-15">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2015-01-15 Thu 18:38]</span></span>
What I have learnt today: 
</p>

<ol class="org-ol">
<li>projectile is efficient than dired, using selecting folders, epsically when I need copy over something from remote server to local. for dired, i need to type in the path, but projectile has register it. 
</li>
</ol>

<p>
the dired approches is 
</p>
<ol class="org-ol">
<li>invoke dired, <code>M-x dired</code>,
</li>
<li>type in the remote address,
</li>
<li>type in password,
</li>
<li>type in the actually directory,
</li>
<li>than search and mark files by <i>M</i>,
</li>
<li>than press C to Copy
</li>
<li>lastly, type in the folder where to copy to. 
</li>
</ol>
<p>
for project, i could just register a project, than
</p>
<ul class="org-ul">
<li>invoke projectile and select a project by <code>C-j p p</code>
</li>
<li>choose the remote one, the path are predified, no need to type
</li>
</ul>


<ol class="org-ol">
<li>in <code>helm-find-file</code>, i can set mark by <i>C-SPC</i> and than invoke action selection (<i>TAB</i>), than i can do all sort of things, include copy file, open html in browser (shook! i used to google it). it definitely wortyh digging.  
i just start to see the good side of dired, but realise there's so much <b>helm</b> can do! 
</li>

<li><b>projectile</b> is a big package, for project managing iself a complex concept, and flexiblae, differnt from person to person.  there are few things i need to configre in order to have <b>projectile</b> works nicely for me: 
<ol class="org-ol">
<li>the current definition of <i>project</i> is too wide/flexible, at this moment, everything in git folder is registed in projectile, which is fine, i would actually like this idea.  but there are some other occurs in the list and I have no idea about it. 
I don't have intention to configure at this point, and will live with <code>projectile-remove-known-projects</code>. 
</li>
<li>in addition to <code>helm-buffer-list</code> and <code>helm-recentf</code> to switch between buffer/files, now i have another alternatives: <code>project-fine-file</code>, or <code>helm-project-find-file</code>, to replace <code>find-file</code>.
</li>
<li>to find file in another folder (project), use <code>helm-projectile-find-file-in-known-projects</code>. it will list files under ALL projects!
</li>
<li><b>projectile</b> can do file management, by the help with <b>helm</b>, mark, move, copy, delete, and other fancy actions like open html file in browser etc. it wortyh laerning. in the furture, i will not use <code>M-x dired</code>, but something similar in helm.
</li>
</ol>
</li>
</ol>

<p>
In a summary, <b>helm</b> and <b>projectile</b> are the packages wortyh learning, and it will boots the efficiency.  I can see two has the potential to have huge impact on my currenlt org-file centralised workflow.  for example, instead of combine all proejcts into one file, I could break down to separete files and use projectile to navigate to them quickly.  the
</p>

<p>
therefore, I start to open a section call Helm-Projectile under Emacs, and will continue to commit. 
</p>

<p>
Yi @ Skipton, <span class="timestamp-wrapper"><span class="timestamp">[2015-01-15 Thu 19:10]</span></span>
</p>

<p>
Here are the learning resource:
</p>

<p>
<a href="http://tuhdo.github.io/helm-intro.html">A Package in a league of its own: Helm</a>
</p>

<p>
<a href="http://tuhdo.github.io/helm-projectile.html">Exploring large projects with Projectile and Helm Projectile</a>
</p>
</div>
</div>
<div id="outline-container-sec-2-16" class="outline-3">
<h3 id="sec-2-16">org-contacts.el, group contacts</h3>
<div class="outline-text-3" id="text-2-16">
<p>

</p>

<p>
functions:
<code>org-map-entries</code>, loop though a list of <i>files</i>, extract and filter headline by a <i>predicate</i>, then apply a <i>function</i> to all headline.
<code>(org-map-entries FUNC &amp;optional MATCH SCOPE &amp;rest SKIP)</code>, loop though a list of <i>files</i>, extract and filter headline by a <i>predicate</i>, then apply a <i>function</i> to all headline.
<code>org-entry-get</code>, given a <i>headline</i>, extract a property's <i>value</i>
<code>elt</code>, extract <i>n</i> th <b>element</b> of a <i>list</i>
<code>cons</code>, constract a <b>pair</b> by <i>a</i> and <i>b</i>
<code>mapcontact</code>, apply a <i>function</i> to a <i>list</i> and join the elements together as a <b>string</b>, with a <i>separtor</i> between the adjects elements.
</p>
</div>
</div>
<div id="outline-container-sec-2-17" class="outline-3">
<h3 id="sec-2-17">try regexp</h3>
<div class="outline-text-3" id="text-2-17">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-18" class="outline-3">
<h3 id="sec-2-18"><span class="done DONE">DONE</span> Configration in org file</h3>
<div class="outline-text-3" id="text-2-18">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-19" class="outline-3">
<h3 id="sec-2-19">Emacs MIME</h3>
<div class="outline-text-3" id="text-2-19">
<p>

</p>
</div>
<div id="outline-container-sec-2-19-1" class="outline-4">
<h4 id="sec-2-19-1">org-mime.el</h4>
<div class="outline-text-4" id="text-2-19-1">
<p>

</p>

<p>
defcustom
</p>

<p>
(defcustom org-mime-fixedwith-wrap
  "&lt;pre style="color: #E6E1DC; background-color: #232323;" style=\"font-family: courier, monospace;\"&gt;\n%s&lt;/pre&gt;\n"
  "Format string used to wrap a fixedwidth HTML email."
</p>
<p>
:group 'org-mime
</p>
<p>
:type 'string)
</p>

<p>
(defcustom org-mime-html-hook nil
  "Hook to run over the html buffer before attachment to email.
  This could be used for example to post-process html elements."
</p>
<p>
:group 'org-mime
</p>
<p>
:type 'hook)
</p>

<p>
thing i learnt today: 
</p>

<ol class="org-ol">
<li>I need to read the source code in order to understand the package.
</li>
<li></li>
</ol>

<p>
C-M-a (c-beginning-of-defun)
C-M-e (c-end-of-defun)
</p>


<p>
a css file worth checking 
<a href="https://github.com/joshuaeckroth/cse3521-website/blob/master/css/worg.css">https://github.com/joshuaeckroth/cse3521-website/blob/master/css/worg.css</a>
</p>
</div>
</div>
<div id="outline-container-sec-2-19-2" class="outline-4">
<h4 id="sec-2-19-2">mime org mode</h4>
<div class="outline-text-4" id="text-2-19-2">
<p>

</p>

<p>
add the foloinwg html snippet in the html file, just before &lt;body&gt;.
</p>

<p>
it works for email, as well as documents. may be owrtyh to add pre-html? 
</p>
<head>
<style>
body {
display: block;
margin: 1em;
padding: 0;
background: #edeceb none repeat scroll 0 0;
margin: 0 auto;
max-width: 1000px;
padding: 2em;
font-family: arial;
font-size: 80%;
color: #595959;
}

code {
color: #00f;
}

div#content {
border: 1px solid #bbb;
border-radius: 3px;
background: #fff;
background-image: url('rml_logo.svg');
background-position: 98% 0.1%;
background-repeat: no-repeat;
background-size: 80px;
margin: 0;
padding: 3em;
}

ul {
list-style-image: url('blank.png')
}

a {
color: #139;
text-decoration: none;
padding: 1px;
}

a:hover {
color: #900;
}

/*
a:visited {
color: #939;
}
*/

#table-of-contents {
margin: 1em 0;
padding: .1em;
}

div#content div#org-div-home-and-up {
background: #369;
color: #fff;
}

div#org-div-home-and-up a:link,
div#org-div-home-and-up a:visited {
color: #fff;
background: #369;
}

div#org-div-home-and-up a:hover {
color: #900;
}

div.title {
margin: -1em -1em 0;
font-size: 200%;
font-weight: bold;
background: white;
color: #e98300;
padding: .75em 1em;
}

h1 {
background: #white none repeat scroll 0 0;
color: #e98300;
font-size: 180%;
font-weight: bold;
margin: -0.5em -0.5em .2em;
padding: 0.5em 1em;
border-bottom: 1px solid #eee;
}

h2 {
font-size: 150%;
color: #e98300;
border-bottom: 1px solid #ccc;
padding: .2em;
}

h3 {
font-size: 115%;
color: #e98300;
border-bottom: 1px solid #eee;
}

h4 {
font-size: 100%;
border-bottom: 1px solid #eee;
}

/* h1, h2, h3, h4, h5, h6 {
text-transform: capitalize;
}
*/

tt {
color: #00f;
}

.verbatim {
margin: .5em 0;
}
pre {
border: 1px solid #ccc;
background: #eee;
padding: .5em;
overflow: auto;
}
.verbatim pre {
margin: 0;
}
.verbatim-caption {
border: 1px solid #ccc;
border-bottom: 0;
background: #fff;
display: block;
font-size: 80%;
padding: .2em;
}

div#postamble {
text-align: left;
color: #888;
font-size: 80%;
padding: 0;
margin: 0;
}

div#postamble p {
padding: 0;
margin: 0;
}

div#postamble a {
color: #888;
}

div#postamble a:hover {
color: #900;
}

table, th, td {
border: 1px solid #a9a19c;
text-align: center;
padding: 8px;
margin: 0 auto;
}

table {
border-collapse: collapse;
font-size: 8pt;
}

th {
background-color: #a9a19c;
font-weight: normal;
color: #ffffff;
}

td {
page-break-inside: avoid;
color: #595959;
}

span.underline {
text-decoration: underline;
}

.fixme {
background: #ff0;
font-weight: bold;
}
.ra {
text-align: right;
}

.sidebar {
float: right;
width: 25em;
background-color: #a02f6c;
color: #fff;
margin: 2em -2em 2em 2em;
padding: 1em;
}
.sidebar a {
border: none;
}

.sidebar a:link {
color: #3ff;
}
.sidebar a:visited {
color: #3cc;
}
.sidebar a:hover {
color: #ff6;
}
.sidebar a:active {
color: #900;
}

/* Todo List Styles */

.title { text-align: center; }
.todo  { color: red; }
.done { color: green; }
.timestamp { color: gray }
.timestamp-kwd { color: #f59ea0; }
.tag { background-color:#add8e6; font-weight:normal }
.target { background-color: #551a8b; }
pre {
border: 1pt solid #AEBDCC;
background-color: #F3F5F7;
padding: 5pt;
font-family: courier, monospace;
}
table { border-collapse: collapse; }
td, th {
vertical-align: top;
}

/* Source code formatting */

.org-info-search-highlight
{
background-color:#adefef; /* same color as emacs default */
color:#000000;
font-weight:bold;
}

.org-bbdb-company {
/* bbdb-company */
font-style: italic;
}
.org-bbdb-field-name {
}
.org-bbdb-field-value {
}
.org-bbdb-name {
/* bbdb-name */
text-decoration: underline;
}
.org-bold {
/* bold */
font-weight: bold;
}
.org-bold-italic {
/* bold-italic */
font-weight: bold;
font-style: italic;
}
.org-border {
/* border */
background-color: #000000;
}
.org-buffer-menu-buffer {
/* buffer-menu-buffer */
font-weight: bold;
}
.org-builtin {
/* font-lock-builtin-face */
color: #da70d6;
}
.org-button {
/* button */
text-decoration: underline;
}
.org-c-nonbreakable-space {
/* c-nonbreakable-space-face */
background-color: #ff0000;
font-weight: bold;
}
.org-calendar-today {
/* calendar-today */
text-decoration: underline;
}
.org-comment {
/* font-lock-comment-face */
color: #b22222;
}
.org-comment-delimiter {
/* font-lock-comment-delimiter-face */
color: #b22222;
}
.org-constant {
/* font-lock-constant-face */
color: #5f9ea0;
}
.org-cursor {
/* cursor */
background-color: #000000;
}
.org-default {
/* default */
color: #000000;
background-color: #ffffff;
}
.org-diary {
/* diary */
color: #ff0000;
}
.org-doc {
/* font-lock-doc-face */
color: #bc8f8f;
}
.org-escape-glyph {
/* escape-glyph */
color: #a52a2a;
}
.org-file-name-shadow {
/* file-name-shadow */
color: #7f7f7f;
}
.org-fixed-pitch {
}
.org-fringe {
/* fringe */
background-color: #f2f2f2;
}
.org-function-name {
/* font-lock-function-name-face */
color: #0000ff;
}
.org-header-line {
/* header-line */
color: #333333;
background-color: #e5e5e5;
}
.org-help-argument-name {
/* help-argument-name */
font-style: italic;
}
.org-highlight {
/* highlight */
background-color: #b4eeb4;
}
.org-holiday {
/* holiday */
background-color: #ffc0cb;
}
.org-info-header-node {
/* info-header-node */
color: #a52a2a;
font-weight: bold;
font-style: italic;
}
.org-info-header-xref {
/* info-header-xref */
color: #0000ff;
text-decoration: underline;
}
.org-info-menu-header {
/* info-menu-header */
font-weight: bold;
}
.org-info-menu-star {
/* info-menu-star */
color: #ff0000;
}
.org-info-node {
/* info-node */
color: #a52a2a;
font-weight: bold;
font-style: italic;
}
.org-info-title-1 {
/* info-title-1 */
font-size: 172%;
font-weight: bold;
}
.org-info-title-2 {
/* info-title-2 */
font-size: 144%;
font-weight: bold;
}
.org-info-title-3 {
/* info-title-3 */
font-size: 120%;
font-weight: bold;
}
.org-info-title-4 {
/* info-title-4 */
font-weight: bold;
}
.org-info-xref {
/* info-xref */
color: #0000ff;
text-decoration: underline;
}
.org-isearch {
/* isearch */
color: #b0e2ff;
background-color: #cd00cd;
}
.org-italic {
/* italic */
font-style: italic;
}
.org-keyword {
/* font-lock-keyword-face */
color: #a020f0;
}
.org-lazy-highlight {
/* lazy-highlight */
background-color: #afeeee;
}
.org-link {
/* link */
color: #0000ff;
text-decoration: underline;
}
.org-link-visited {
/* link-visited */
color: #8b008b;
text-decoration: underline;
}
.org-match {
/* match */
background-color: #ffff00;
}
.org-menu {
}
.org-message-cited-text {
/* message-cited-text */
color: #ff0000;
}
.org-message-header-cc {
/* message-header-cc */
color: #191970;
}
.org-message-header-name {
/* message-header-name */
color: #6495ed;
}
.org-message-header-newsgroups {
/* message-header-newsgroups */
color: #00008b;
font-weight: bold;
font-style: italic;
}
.org-message-header-other {
/* message-header-other */
color: #4682b4;
}
.org-message-header-subject {
/* message-header-subject */
color: #000080;
font-weight: bold;
}
.org-message-header-to {
/* message-header-to */
color: #191970;
font-weight: bold;
}
.org-message-header-xheader {
/* message-header-xheader */
color: #0000ff;
}
.org-message-mml {
/* message-mml */
color: #228b22;
}
.org-message-separator {
/* message-separator */
color: #a52a2a;
}
.org-minibuffer-prompt {
/* minibuffer-prompt */
color: #0000cd;
}
.org-mm-uu-extract {
/* mm-uu-extract */
color: #006400;
background-color: #ffffe0;
}
.org-mode-line {
/* mode-line */
color: #000000;
background-color: #bfbfbf;
}
.org-mode-line-buffer-id {
/* mode-line-buffer-id */
font-weight: bold;
}
.org-mode-line-highlight {
}
.org-mode-line-inactive {
/* mode-line-inactive */
color: #333333;
background-color: #e5e5e5;
}
.org-mouse {
/* mouse */
background-color: #000000;
}
.org-negation-char {
}
.org-next-error {
/* next-error */
background-color: #eedc82;
}
.org-nobreak-space {
/* nobreak-space */
color: #a52a2a;
text-decoration: underline;
}
.org-org-agenda-date {
/* org-agenda-date */
color: #0000ff;
}
.org-org-agenda-date-weekend {
/* org-agenda-date-weekend */
color: #0000ff;
font-weight: bold;
}
.org-org-agenda-restriction-lock {
/* org-agenda-restriction-lock */
background-color: #ffff00;
}
.org-org-agenda-structure {
/* org-agenda-structure */
color: #0000ff;
}
.org-org-archived {
/* org-archived */
color: #7f7f7f;
}
.org-org-code {
/* org-code */
color: #7f7f7f;
}
.org-org-column {
/* org-column */
background-color: #e5e5e5;
}
.org-org-column-title {
/* org-column-title */
background-color: #e5e5e5;
font-weight: bold;
text-decoration: underline;
}
.org-org-date {
/* org-date */
color: #a020f0;
text-decoration: underline;
}
.org-org-done {
/* org-done */
color: #228b22;
font-weight: bold;
}
.org-org-drawer {
/* org-drawer */
color: #0000ff;
}
.org-org-ellipsis {
/* org-ellipsis */
color: #b8860b;
text-decoration: underline;
}
.org-org-formula {
/* org-formula */
color: #b22222;
}
.org-org-headline-done {
/* org-headline-done */
color: #bc8f8f;
}
.org-org-hide {
/* org-hide */
color: #e5e5e5;
}
.org-org-latex-and-export-specials {
/* org-latex-and-export-specials */
color: #8b4513;
}
.org-org-level-1 {
/* org-level-1 */
color: #0000ff;
}
.org-org-level-2 {
/* org-level-2 */
color: #b8860b;
}
.org-org-level-3 {
/* org-level-3 */
color: #a020f0;
}
.org-org-level-4 {
/* org-level-4 */
color: #b22222;
}
.org-org-level-5 {
/* org-level-5 */
color: #228b22;
}
.org-org-level-6 {
/* org-level-6 */
color: #5f9ea0;
}
.org-org-level-7 {
/* org-level-7 */
color: #da70d6;
}
.org-org-level-8 {
/* org-level-8 */
color: #bc8f8f;
}
.org-org-link {
/* org-link */
color: #a020f0;
text-decoration: underline;
}
.org-org-property-value {
}
.org-org-scheduled-previously {
/* org-scheduled-previously */
color: #b22222;
}
.org-org-scheduled-today {
/* org-scheduled-today */
color: #006400;
}
.org-org-sexp-date {
/* org-sexp-date */
color: #a020f0;
}
.org-org-special-keyword {
/* org-special-keyword */
color: #bc8f8f;
}
.org-org-table {
/* org-table */
color: #0000ff;
}
.org-org-tag {
/* org-tag */
font-weight: bold;
}
.org-org-target {
/* org-target */
text-decoration: underline;
}
.org-org-time-grid {
/* org-time-grid */
color: #b8860b;
}
.org-org-todo {
/* org-todo */
color: #ff0000;
}
.org-org-upcoming-deadline {
/* org-upcoming-deadline */
color: #b22222;
}
.org-org-verbatim {
/* org-verbatim */
color: #7f7f7f;
text-decoration: underline;
}
.org-org-warning {
/* org-warning */
color: #ff0000;
font-weight: bold;
}
.org-outline-1 {
/* outline-1 */
color: #0000ff;
}
.org-outline-2 {
/* outline-2 */
color: #b8860b;
}
.org-outline-3 {
/* outline-3 */
color: #a020f0;
}
.org-outline-4 {
/* outline-4 */
color: #b22222;
}
.org-outline-5 {
/* outline-5 */
color: #228b22;
}
.org-outline-6 {
/* outline-6 */
color: #5f9ea0;
}
.org-outline-7 {
/* outline-7 */
color: #da70d6;
}
.org-outline-8 {
/* outline-8 */
color: #bc8f8f;
}
.org-preprocessor {
/* font-lock-preprocessor-face */
color: #da70d6;
}
.org-query-replace {
/* query-replace */
color: #b0e2ff;
background-color: #cd00cd;
}
.org-regexp-grouping-backslash {
/* font-lock-regexp-grouping-backslash */
font-weight: bold;
}
.org-regexp-grouping-construct {
/* font-lock-regexp-grouping-construct */
font-weight: bold;
}
.org-region {
/* region */
background-color: #eedc82;
}
.org-rmail-highlight {
}
.org-scroll-bar {
/* scroll-bar */
background-color: #bfbfbf;
}
.org-secondary-selection {
/* secondary-selection */
background-color: #ffff00;
}
.org-shadow {
/* shadow */
color: #7f7f7f;
}
.org-show-paren-match {
/* show-paren-match */
background-color: #40e0d0;
}
.org-show-paren-mismatch {
/* show-paren-mismatch */
color: #ffffff;
background-color: #a020f0;
}
.org-string {
/* font-lock-string-face */
color: #bc8f8f;
}
.org-texinfo-heading {
/* texinfo-heading */
color: #0000ff;
}
.org-tool-bar {
/* tool-bar */
color: #000000;
background-color: #bfbfbf;
}
.org-tooltip {
/* tooltip */
color: #000000;
background-color: #ffffe0;
}
.org-trailing-whitespace {
/* trailing-whitespace */
background-color: #ff0000;
}
.org-type {
/* font-lock-type-face */
color: #228b22;
}
.org-underline {
/* underline */
text-decoration: underline;
}
.org-variable-name {
/* font-lock-variable-name-face */
color: #b8860b;
}
.org-variable-pitch {
}
.org-vertical-border {
}
.org-warning {
/* font-lock-warning-face */
color: #ff0000;
font-weight: bold;
}

</style>
</head>
</div>
</div>
</div>

<div id="outline-container-sec-2-20" class="outline-3">
<h3 id="sec-2-20"><span class="done CANCELLED">CANCELLED</span> try emacs, need inpisration, try ibuffer-vc, failed&#xa0;&#xa0;&#xa0;<span class="tag"><span class="CANCELLED">CANCELLED</span></span></h3>
<div class="outline-text-3" id="text-2-20">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-21" class="outline-3">
<h3 id="sec-2-21"><span class="todo NEXT">NEXT</span> emacs idea: go to an org node using refile machanics</h3>
<div class="outline-text-3" id="text-2-21">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2015-01-27 Tue 00:36]</span></span>
I want to goto weekly review 5, the tree is like this: life.org -&gt; Review -&gt; Weekly Review -&gt; 2015 -&gt; W5 
this whole process can be done really just be two step: 
</p>
<ol class="org-ol">
<li>invoce refile machines
</li>
<li>given the helm is completion, press 2015 and then W5, 
</li>
</ol>
<p>
will do the job.  
</p>

<p>
how quick is that? 
</p>
</div>
</div>

<div id="outline-container-sec-2-22" class="outline-3">
<h3 id="sec-2-22"><span class="done DONE">DONE</span> Emacs sync remote/local folder (scp)</h3>
<div class="outline-text-3" id="text-2-22">
<p>

</p>

<p>
from remote to local 
scp user@ip:/path/to/file /local/path 
</p>

<p>
copy the whole folder 
scp -r yitang@10.0.0.125:/home/local/JBANORTHWEST/yitang/LR<sub>share</sub> ~/Downloads/
</p>


<p>
ref: <a href="http://unix.stackexchange.com/questions/2857/ssh-easily-copy-file-to-local-system">http://unix.stackexchange.com/questions/2857/ssh-easily-copy-file-to-local-system</a>
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp"><span class="org-rainbow-delimiters-depth-1">(</span>setq yt/remote-dir <span class="org-string">"yitang@10.0.0.125:/home/local/JBANORTHWEST/yitang/LR_share"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span>setq yt/local-dir <span class="org-string">"~/LR_share"</span><span class="org-rainbow-delimiters-depth-1">)</span>
<span class="org-rainbow-delimiters-depth-1">(</span><span class="org-keyword">defun</span> <span class="org-function-name">yt/copy-to-local</span> <span class="org-rainbow-delimiters-depth-2">()</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>async-shell-command
   <span class="org-rainbow-delimiters-depth-3">(</span>concat 
   <span class="org-string">"scp -r "</span> yt/remote-dir <span class="org-string">" "</span> yt/local-dir<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span><span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
</div>
</div>




<div id="outline-container-sec-2-23" class="outline-3">
<h3 id="sec-2-23"><span class="todo TODO">TODO</span> emacs, use yasnieppt to setup project template</h3>
<div class="outline-text-3" id="text-2-23">
<p>

</p>
</div>

<div id="outline-container-sec-2-23-1" class="outline-4">
<h4 id="sec-2-23-1">Project Brief</h4>
<div class="outline-text-4" id="text-2-23-1">
</div><div id="outline-container-sec-2-23-1-1" class="outline-5">
<h5 id="sec-2-23-1-1">Client</h5>
</div>
<div id="outline-container-sec-2-23-1-2" class="outline-5">
<h5 id="sec-2-23-1-2">What for?</h5>
</div>
<div id="outline-container-sec-2-23-1-3" class="outline-5">
<h5 id="sec-2-23-1-3">Why?</h5>
</div>
<div id="outline-container-sec-2-23-1-4" class="outline-5">
<h5 id="sec-2-23-1-4">Cost/Resource</h5>
</div>
</div>
<div id="outline-container-sec-2-23-2" class="outline-4">
<h4 id="sec-2-23-2">Decision Log</h4>
<div class="outline-text-4" id="text-2-23-2">
</div><div id="outline-container-sec-2-23-2-1" class="outline-5">
<h5 id="sec-2-23-2-1">Meeting</h5>
</div>
<div id="outline-container-sec-2-23-2-2" class="outline-5">
<h5 id="sec-2-23-2-2">Email</h5>
<div class="outline-text-5" id="text-2-23-2-2">
</div><div id="outline-container-sec-2-23-2-2-1" class="outline-6">
<h6 id="sec-2-23-2-2-1">GFHES priotyies Naomi</h6>
<div class="outline-text-6" id="text-2-23-2-2-1">
<p>

</p>

<p>
Hi guys, 
</p>

<p>
Apologies for disappearing for a week and leaving you to it. As things stand, I believe these to be the priorities for GFHES: 
</p>

<p>
Largest flood events:  
Jess - I think you said you'd get a couple more largest events from 150 blocks. As before see how many gauges are affected. Then plot in arc and use GFM (RP nearest to 150 years) to get area in km2. 
Draw comparisons to the size of our US footprints, especially if the simulated events are coming out quite large compared to our Canada one. 
If you can think of any other ways of testing event size that's great. This seemed to be the number 1 thing David wasn't sure about. It might be worth pulling out a couple of simulated events which affect less gauges, perhaps 20 and 40, and estimate their size too. Without doing it for hundreds of events it will only be a snapshot, but it would be good to have a rough idea of the area affected if 20/40/70 gauges are impacted. 
</p>

<p>
River flood footprints: 
Jess - For NA32, download Environment Canada gauge data, create and fit growth curves to get RP at gauges. 
Yi - Use NA32 RP at gauges to match to simulated event (or a few to choose the best) 
Jess - create new or edit existing footprint based upon knowledge from the gauges. Stick to just a few polygons as before. Do as many as you can handle (not 20 or 30 polygons, but 5 might be good - depends on the RP variability in the gauge data). So same process as before, draw polygon assign RP, dissolve all polygons with same RP, cut raster hazard maps, merge the different RP rasters together (!) then convert raster to polygon. 
Jess - once you have a good simulated match, repeat process above to create a footprint.  
</p>

<p>
Report: 
Jess - Please start to write as much as you can Jess. What I’ve started is by no means fixed. If you think there is a better structure feel free to change. As I said, please edit the copy I shared with you on one drive so I can do the same if I get chance. Don't forget to use the NTF's or data delivery documents (may be in outgoing data on the GFHES project) for help. James T is an excellent report writer, so it might be worth talking to him if you need a bit of help, or to look at one he's done recently. 
</p>

<p>
I think that's all for now! I'll rack my brains over the next half hour. If you need anything just drop me an email. 
</p>

<p>
Have a good week! 
</p>






<ol class="org-ol">
<li>For each person in your team, all of the client meetings they attended between Mon 12 and Fri 16 Jan.
</li>
<li>Any company reminders or announcements
</li>
<li>Fun/cool stuff you’ve been up to outside work
</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-sec-2-23-2-3" class="outline-5">
<h5 id="sec-2-23-2-3">Notes</h5>
</div>
</div>
<div id="outline-container-sec-2-23-3" class="outline-4">
<h4 id="sec-2-23-3">Team Info</h4>
<div class="outline-text-4" id="text-2-23-3">
</div><div id="outline-container-sec-2-23-3-1" class="outline-5">
<h5 id="sec-2-23-3-1">member one</h5>
</div>
<div id="outline-container-sec-2-23-3-2" class="outline-5">
<h5 id="sec-2-23-3-2">member two</h5>
</div>
</div>
<div id="outline-container-sec-2-23-4" class="outline-4">
<h4 id="sec-2-23-4">Progress</h4>
<div class="outline-text-4" id="text-2-23-4">
</div><div id="outline-container-sec-2-23-4-1" class="outline-5">
<h5 id="sec-2-23-4-1">Phrase 1: Precipitation Validation</h5>
</div>
<div id="outline-container-sec-2-23-4-2" class="outline-5">
<h5 id="sec-2-23-4-2">Phrase 2</h5>
</div>
</div>
<div id="outline-container-sec-2-23-5" class="outline-4">
<h4 id="sec-2-23-5">TimeSheet</h4>
<div class="outline-text-4" id="text-2-23-5">
<p>

</p>
</div>
</div>
</div>

<div id="outline-container-sec-2-24" class="outline-3">
<h3 id="sec-2-24"><span class="todo NEXT">NEXT</span> mime - add inline image that points to attachment.</h3>
<div class="outline-text-3" id="text-2-24">
<p>

</p>

<p>
<a href="http://stackoverflow.com/questions/922898/embedding-attached-images-in-html-emails">http://stackoverflow.com/questions/922898/embedding-attached-images-in-html-emails</a>
</p>
</div>
</div>





<div id="outline-container-sec-2-25" class="outline-3">
<h3 id="sec-2-25"><span class="todo TODO">TODO</span> eat dinner and watch eamcs chat</h3>
<div class="outline-text-3" id="text-2-25">
<p>

</p>

<p>
Steve Purcell suppor to use package.el in emacs. 
</p>

<p>
flycheck: 
</p>
<ol class="org-ol">
<li>check a function is not loaded/defined in current search place. 
</li>
<li></li>
</ol>

<p>
ibuffer-vc: 
</p>
<ol class="org-ol">
<li>replace default list-buffer,
</li>
<li>list buffers by mode, 
</li>
<li></li>
</ol>

<p>
i have search similar thing i helm (group buffer as mode), but ibuffer-vc can group things in git repo, why do i need this feature?  i will start to use ibuffer-vc. 
whole-line-or-region 
</p>
<ol class="org-ol">
<li></li>
</ol>


<p>
full-frame: 
</p>
<ol class="org-ol">
<li>invoke magit mode, switch to single and full frame. 
</li>
<li>once quit magit mode, switch back to the previous session.
</li>
</ol>
<p>
save us from win-mode binding. 
</p>



<p>
I saw steve use pretty mode, like the lambda 
</p>



<p>
read sachua's blog on automating text.
</p>



<p>
i think it is good iea to use template for my weekly review.  
</p>


<p>
<a href="https://github.com/purcell/whole-line-or-region/blob/master/whole-line-or-region.el">https://github.com/purcell/whole-line-or-region/blob/master/whole-line-or-region.el</a>
</p>

<p>
<a href="https://github.com/purcell/ibuffer-vc">https://github.com/purcell/ibuffer-vc</a>
</p>
</div>
</div>
<div id="outline-container-sec-2-26" class="outline-3">
<h3 id="sec-2-26">HELP!</h3>
<div class="outline-text-3" id="text-2-26">
<p>

</p>
</div>
<div id="outline-container-sec-2-26-1" class="outline-4">
<h4 id="sec-2-26-1">detect internet?</h4>
<div class="outline-text-4" id="text-2-26-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2015-02-02 Mon 11:42]</span></span>
if WIFI is off, don't run a crob job (run-at-time job) 
</p>
</div>
</div>
<div id="outline-container-sec-2-26-2" class="outline-4">
<h4 id="sec-2-26-2">html drop for footnote?</h4>
<div class="outline-text-4" id="text-2-26-2">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-26-3" class="outline-4">
<h4 id="sec-2-26-3">org-mode jump between fotonote / links?</h4>
<div class="outline-text-4" id="text-2-26-3">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-26-4" class="outline-4">
<h4 id="sec-2-26-4">org-mode jump to last table/src block?</h4>
<div class="outline-text-4" id="text-2-26-4">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-2-26-5" class="outline-4">
<h4 id="sec-2-26-5">org-mode sort table according to one column?</h4>
<div class="outline-text-4" id="text-2-26-5">
<p>

</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="right" />

<col  class="right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">File</th>
<th scope="col" class="left">Headline</th>
<th scope="col" class="right">Time</th>
<th scope="col" class="right">%</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">ALL <b>Total time</b></td>
<td class="right"><b>106:34</b></td>
<td class="right">100.0</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left">life.org</td>
<td class="left"><b>File time</b></td>
<td class="right"><b>106:34</b></td>
<td class="right">100.0</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">TODO Read</td>
<td class="right">3:00</td>
<td class="right">2.8</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">TODO Watch</td>
<td class="right">6:25</td>
<td class="right">6.0</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">TODO Listen</td>
<td class="right">1:55</td>
<td class="right">1.8</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">TODO Write</td>
<td class="right">21:15</td>
<td class="right">19.9</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Life Review</td>
<td class="right">9:59</td>
<td class="right">9.4</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">New Place to Live</td>
<td class="right">9:18</td>
<td class="right">8.7</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Social</td>
<td class="right">11:16</td>
<td class="right">10.6</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Meditating</td>
<td class="right">6:36</td>
<td class="right">6.2</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Planning</td>
<td class="right">3:08</td>
<td class="right">2.9</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Managing</td>
<td class="right">2:29</td>
<td class="right">2.3</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Shopping</td>
<td class="right">6:59</td>
<td class="right">6.6</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Social</td>
<td class="right">11:16</td>
<td class="right">10.6</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Fitness</td>
<td class="right">12:58</td>
<td class="right">12.2</td>
</tr>
</tbody>
</table>

<p>
single line of command in R, does it doable to do it in org-mode?
</p>
</div>
</div>
<div id="outline-container-sec-2-26-6" class="outline-4">
<h4 id="sec-2-26-6">org-mode (QS) sort nodes by clocking time. (sleep)</h4>
<div class="outline-text-4" id="text-2-26-6">
<p>

</p>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="todo TODO">TODO</span> R CRAN</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1">Archived</h3>
<div class="outline-text-3" id="text-3-1">
</div></div>



<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><a id="ID-91268E10-912E-4F6A-91E4-A63C49770B28" name="ID-91268E10-912E-4F6A-91E4-A63C49770B28"></a><span class="todo TODO">TODO</span> Advanced R</h3>
<div class="outline-text-3" id="text-3-2">
<p>

</p>
</div>
<div id="outline-container-sec-3-2-1" class="outline-4">
<h4 id="sec-3-2-1"><a id="ID-3D2E2CC9-AD09-465F-BDEA-234E6CA10116" name="ID-3D2E2CC9-AD09-465F-BDEA-234E6CA10116"></a><span class="todo TODO">TODO</span> Parallel computation</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-2-2" class="outline-4">
<h4 id="sec-3-2-2"><a id="ID-D65FEE10-5E28-464D-AE9F-867C43191592" name="ID-D65FEE10-5E28-464D-AE9F-867C43191592"></a><span class="todo TODO">TODO</span> R development</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-2-3" class="outline-4">
<h4 id="sec-3-2-3"><a id="ID-D98CAD15-E9B4-4674-91A5-E2F5D8FF18F9" name="ID-D98CAD15-E9B4-4674-91A5-E2F5D8FF18F9"></a><span class="todo TODO">TODO</span> data.table</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-2-4" class="outline-4">
<h4 id="sec-3-2-4"><a id="ID-6E97DA0B-C07F-467F-A714-3C29636A2CE4" name="ID-6E97DA0B-C07F-467F-A714-3C29636A2CE4"></a><span class="todo TODO">TODO</span> rstudio server</h4>
<div class="outline-text-4" id="text-3-2-4">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-2-5" class="outline-4">
<h4 id="sec-3-2-5"><a id="ID-0808F8FD-3491-4ACF-8F14-E8BFD8A77075" name="ID-0808F8FD-3491-4ACF-8F14-E8BFD8A77075"></a><span class="todo TODO">TODO</span> Rcpp</h4>
<div class="outline-text-4" id="text-3-2-5">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-2-6" class="outline-4">
<h4 id="sec-3-2-6"><a id="ID-FFEF1E96-9318-43F1-A47E-0F586A8CE930" name="ID-FFEF1E96-9318-43F1-A47E-0F586A8CE930"></a><span class="todo TODO">TODO</span> error handling</h4>
<div class="outline-text-4" id="text-3-2-6">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-2-7" class="outline-4">
<h4 id="sec-3-2-7"><a id="ID-C064E08E-9A72-4DAD-910F-AA76DE8976B5" name="ID-C064E08E-9A72-4DAD-910F-AA76DE8976B5"></a><span class="todo TODO">TODO</span> Notofication</h4>
<div class="outline-text-4" id="text-3-2-7">
<p>

</p>

<pre class="example">
pbPost               package:RPushbullet               R Documentation

Post a message via Pushbullet

Description:

     This function posts a message to Pushbullet. Different types of
     messages are supported: ‘note’, ‘link’, ‘address’, or ‘file’.

Usage:

     pbPost(type = c("note", "link", "address", "file"), title = "", body = "",
       url = "", filetype = "text/plain", recipients, email, deviceind,
       apikey = .getKey(), devices = .getDevices(), verbose = FALSE)
     
Arguments:

    type: The type of post: one of ‘note’, ‘link’, ‘file’ or ‘address’.

   title: The title of the note, or the name of the address, being
          posted.

    body: The body of the note, or the address when ‘type’ is
          ‘address’, or the (optional) body when the ‘type’ is ‘link’.

      The URL of ‘type’ is ‘link’, or the local path of a file to
          be sent if ‘type’ is ‘file’.

filetype: The MIME type for the file at ‘url’ (if ‘type’ is ‘file’),
          defaults to “text/plain”.

recipients: A character or numeric vector indicating the devices this
          post should go to. If missing, the default device is looked
          up from an optional setting, and if none has been set the
          push is sent to all devices.

   email: An alternative way to specify a recipient is to specify an
          email address. If both ‘recipients’ and ‘email’ are present,
          ‘recipients’ is used.

deviceind: (Deprecated) The index (or a vector/list of indices) of the
          device(s) in the list of devices.

  apikey: The API key used to access the service. It can be supplied as
          an argument here, via the global option ‘rpushbullet.key’, or
          via the file ‘~/.rpushbullet.json’ which is read at package
          initialization (and, if found, also sets the global option).

 devices: The device to which this post is pushed. It can be supplied
          as an argument here, or via the file ‘~/.rpushbullet.json’
          which is read at package initialization.

 verbose: Boolean switch to add additional output

Details:

     This function invokes the ‘pushes’ functionality of the Pushbullet
     API; see &lt; https://docs.pushbullet.com/v2/pushes&gt; for more
     details.

     When a ‘note’ is pushed, the recipient receives the title and body
     of the note.  If a ‘link’ is pushed, the recipient's web browser
     is opened at the given URL.  If an ‘address’ is pushed, the
     recipient's web browser is opened in map mode at the given
     address.

     If ‘recipients’ argument is missing, the post is pushed to _all_
     devices in accordance with the API definition. If ‘recipients’ is
     text vector, it matched against the device names (from either the
     config file or a corresponding option). Lastly, if ‘recipients’ is
     a numeric vector, the post is pushed the corresponding elements in
     the devices vector.

     In other words, the default of value of no specified recipients
     results in sending to all devices. If you want a particular subset
     of devices you have to specify it name or index. A default device
     can be set in the configuration file, or as a global option. If
     none is set, zero is used as a code to imply ‘all’ devices.

     The earlier argument ‘deviceind’ is now deprecated and will be
     removed in a later release.

Value:

     A JSON result record is return invisibly

Author(s):

     Dirk Eddelbuettel

Examples:

     ## Not run:
     
     # A note
     pbPost("note", "A Simple Test", "We think this should work.\nWe really do.")
     
     # An address -- should open browser in Google Maps
     pbPost(type="address", title="An Address", body="South Pole, Antarctica")
     
     # A URL -- should open browser
     pbPost(type="link", title="Some title", body="Some URL",
            url="http://cran.r-project.org/package=RPushbullet")
     
     # A file
     pbPost(type="file", url=system.file("DESCRIPTION", package="RPushbullet"))
     ## End(Not run)
</pre>

<div class="org-src-container">

<pre class="src src-R">## use default api 
pbPost(type = "note", title = "job done", 
body = "hello",
email = "yi.tang@jbarisk.com")

## specify api 
pbPost(type = "note", body = "job done", apikey = "EPBKFqC1IiJJLPdPReBNaPDPjdKyLlE0", email = "yi.tang@jbarisk.com")
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-2-8" class="outline-4">
<h4 id="sec-3-2-8">Regular Expression</h4>
<div class="outline-text-4" id="text-3-2-8">
<p>
Practise regular expression, very powerful idea to prase irregular data file
</p>
<div class="org-src-container">

<pre class="src src-R">"89) 1996/01/01 22:00:00     -99.000N    -99.000N"

date &lt;- str_extract(str2, "[[:digit:]]{4}/[[:digit:]]{2}/[[:digit:]]{2}") ## extract YYYY/MM/DD from str
time &lt;- str_extract(str2, "[[:digit:]]{2}:[[:digit:]]{2}:[[:digit:]]{2}") ## extract HH/MM/SS from str
sr &lt;- str_extract_all(str2, "[[:punct:]]*[[:digit:]]{1, }\\.[[:digit:]]{1, }[[:alpha:]]*") ## extract -99.000N
tmp &lt;- do.call(rbind, sr)
s &lt;- tmp[, 1]
r &lt;- tmp[, 2]


f0 &lt;- function() {
tmp0 &lt;- as.POSIXct(tt, format = "%Y/%m/%d %H:%M:%S", tz = "UTC")
}

f1 &lt;- function() {
ttt &lt;- strptime(tt, format = "%Y/%m/%d %H:%M:%S", tz = "UTC")

}

f2 &lt;- function() {
tmp2 &lt;- lubridate::ymd_hms(tt, tz = "UTC")
}

#### strptime seem to be the fastested

str
[1] "CLOCK: [2014-10-26 Sun 13:48]--[2014-10-26 Sun 14:33] =&gt;  0:45"

date &lt;- str_extract_all(str, "[[:digit:]]{4}-[[:digit:]]{2}-[[:digit:]]{2}")
time &lt;- str_extract_all(str, "[[:digit:]]{1,2}\\:[[:digit:]]{1,2}")
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-2-9" class="outline-4">
<h4 id="sec-3-2-9">Spatial Analysis</h4>
<div class="outline-text-4" id="text-3-2-9">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-22 Mon 14:29]</span></span>
<b>Map Overlay</b> 
</p>

<div class="org-src-container">

<pre class="src src-R">A[B, ] ## select A inside or B ~= left join in SQL 
A[!is.na(over(A,B)),] ## same as above
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3">R development and pakcages</h3>
<div class="outline-text-3" id="text-3-3">
<p>

</p>
</div>
<div id="outline-container-sec-3-3-1" class="outline-4">
<h4 id="sec-3-3-1"><a id="ID-C69AE55F-C080-404C-BE78-C19CA732B433" name="ID-C69AE55F-C080-404C-BE78-C19CA732B433"></a><span class="todo TODO">TODO</span> yiR</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-06 Thu 18:36]</span></span>
yiR is a collections of functions that I find
</p>
<ol class="org-ol">
<li>useful
</li>
<li>convience, that i used again and again 
</li>
<li></li>
</ol>

<p>
I build up as a library to share across the internet, I also practise documentation in my package. I tent to document the function very well (use xxx),
</p>
</div>
<div id="outline-container-sec-3-3-1-1" class="outline-5">
<h5 id="sec-3-3-1-1">update R packages&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h5>
<div class="outline-text-5" id="text-3-3-1-1">
<p>

</p>

<div class="org-src-container">

<pre class="src src-R">##' Detach all packages 
##'
##' 
##' @title utilities
##' @return nothing 
##' @export 
##' @author Yi Tang
detachAllPackages &lt;- function() {

    basic.packages &lt;- c("package:stats","package:graphics","package:grDevices","package:utils","package:datasets","package:methods","package:base")

    package.list &lt;- search()[ifelse(unlist(gregexpr("package:",search()))==1,TRUE,FALSE)]

    package.list &lt;- setdiff(package.list,basic.packages)

    if (length(package.list)&gt;0)  for (package in package.list) detach(package, character.only=TRUE)

}
</pre>
</div>
</div>
</div>




<div id="outline-container-sec-3-3-1-2" class="outline-5">
<h5 id="sec-3-3-1-2">Visualisation</h5>
<div class="outline-text-5" id="text-3-3-1-2">
<p>

</p>
<div class="org-src-container">

<pre class="src src-R">##' save ggplot to a file which is right to be imported in World document. 
##'
##' Save a ggplot object as a png file
##' @title SavePlots
##' @param p 
##' @param file 
##' @return a file 
##' @export 
##' @author Yi Tang
my.png &lt;- function(p, file = deparse(substitute(p))){
    png(paste(file, ".png", sep=""),  width = 12, height = 9, units = 'in', res = 300)
    print(p)
    dev.off()
}

#' 

##' compare multi-variables in two dataset in terms of density.
##'
##' Produce density plots for common variables in two dataset
##' @title Visualisation
##' @param dataX 
##' @param dataY 
##' @param cols 
##' @return a ggplot object 
##' @export 
##' @author Yi Tang
density_facet_ggplot &lt;- function(dataX, dataY, cols = names(dataX)){
    require(data.table)
    require(ggplot2)
    require(reshape2)
    df.name &lt;- c(deparse(substitute(dataX)), deparse(substitute(dataY)))
    x &lt;- as.data.table(dataX)[, cols, with=F] ## subset
    y &lt;- as.data.table(dataY)[, cols, with=F]
    xy &lt;- rbind(x, y)
    xy[, dataset := rep(df.name, c(NROW(dataX), NROW(dataY)))]
    ggdf &lt;- melt(xy, id="dataset")
    p &lt;- ggplot(ggdf, aes(x = value, col = dataset)) + geom_density() + facet_wrap(~ variable, scale = "free")
    return(p)
}



##' Map layer in ggplot2
##'
##' Create a polygon of world. 
##' @title GIS
##' @return a ggplot layer 
##' @export 
##' @author Yi Tang
ggMapLayer &lt;- function(){
    world &lt;- ggplot2::map_data("world")
    gg.map &lt;- geom_polygon(data = world, aes(x = long, y= lat, group = group))
    return(gg.map)
}


##' Add world map lay on top of a ggplot
##'
##' 
##' @title 
##' @param p a ggplot object 
##' @param alpha a number from 0 to 1. Controls the transprancy of the map 
##' @param border.col colour of the boarder 
##' @param xylim.no.change Logical. Whether to change xy limits or not 
##' @return a ggplot object 
##' @export 
##' @author Yi Tang
add_map_layer &lt;- function (p, alpha = 0.2, border.col = "white", xylim.no.change = TRUE){
    require(maps)
    require(ggplot2)
    nworld_data &lt;- map_data("world")
    dt &lt;- as.data.frame(p$data)
    xy &lt;- as.character(p$mapping)
    map &lt;- geom_polygon(data = world_data, aes(x = long, y = lat,
                            group = group), col = border.col, alpha = alpha)
    if (xylim.no.change)
        p + map + coord_cartesian(xlim = range(dt[, xy[1]]),
                                  ylim = range(dt[, xy[2]]))
    else p + map
}

## gg.hazard &lt;- function(df, x = "lon", y = "lat", z = "V1") {
##     p &lt;- ggplot(df, aes_string(x = x, y = y)) + geom_tile(aes_string(fill = z)) + scale_fill_gradientn(colours = rev(rainbow(50, start = 0, end = 4/6)))
##     return(p)
## }
jet.colors &lt;- colorRampPalette(c("#00007F", "blue", "#007FFF", "cyan", "#7FFF7F", "yellow", "#FF7F00", "red", "#7F0000"))


##' Hazard Map in ggplot2 
##'
##' Short hand for plotting hazard map with rainbow color.  
##' @title 
##' @param df the dataframe 
##' @param x dimension 1  
##' @param y dimension 2 
##' @param z values to visualise 
##' @param rainbow Logical. Using rainbow or jet color scheme 
##' @param minmax Logical, show minimal and max in legend 
##' @param ... 
##' @return a ggplot object 
##' @export 
##' @author Yi Tang
gg.hazard &lt;- function(df, x = "lon", y = "lat", z = "V1", rainbow = FALSE, minmax = TRUE, ...) {
    if (rainbow == TRUE)
        this.colors &lt;- rev(rainbow(50, start = 0, end = 4/6))
    else
        this.colors &lt;- jet.colors(7)

    p &lt;- ggplot(df, aes_string(x = x, y = y)) + geom_tile(aes_string(fill = z))
    if (minmax == TRUE){
        var &lt;- df[[z]]
        ticks &lt;- seq(min(var), max(var), len = 5)
        p &lt;- p + scale_fill_gradientn(colours = this.colors , breaks = ticks, labels = round(ticks, 0), ...)
    }
    else
        p &lt;- p + scale_fill_gradientn(colours = this.colors)

    return(p)
}


p[["rainbow"]] &lt;- gg.hazard(compare.footprint[[1]], z = "precip", rainbow = TRUE, minmax = FALSE)
p[["rainbow + minmax"]] &lt;- gg.hazard(compare.footprint[[1]], z = "precip", rainbow = TRUE, minmax = TRUE)
p[["jet"]] &lt;- gg.hazard(compare.footprint[[1]], z = "precip", rainbow = FALSE, minmax = FALSE)
p[["jet + minmax"]] &lt;- gg.hazard(compare.footprint[[1]], z = "precip", rainbow = FALSE, minmax = TRUE)

####
##autoplot block
####

#' @reference http://librestats.com/2012/06/11/autoplot-graphical-methods-with-ggplot2/
#'
autoplot.lm &lt;- function(model, ..., which=c(1:3, 5), mfrow=c(2, 2), return.list = FALSE){
    require(gridExtra)
    require(ggplot2)
    df &lt;- ggplot2::fortify(model)
    df &lt;- cbind(df, rows=1:nrow(df))

                                        # residuals vs fitted
    g1 &lt;- ggplot(df, aes(.fitted, .resid)) +
        geom_point()  +
            geom_smooth(se=FALSE) +
                geom_hline(linetype=2, size=.2) +
                    labs(x = "Fitted Values", y = "Residual", title="Residuals vs Fitted")

                                        # normal qq
    a &lt;- quantile(df$.stdresid, c(0.25, 0.75))
    b &lt;- qnorm(c(0.25, 0.75))
    slope &lt;- diff(a)/diff(b)
    int &lt;- a[1] - slope * b[1]
    g2 &lt;- ggplot(df, aes(sample=.stdresid)) +
        stat_qq() +
            geom_abline(slope=slope, intercept=int) +
                labs(x =  "Theoretical Quantiles", y = "Standardized Residuals", title="Normal Q-Q")

                                        # scale-location
    g3 &lt;- ggplot(df, aes(.fitted, sqrt(abs(.stdresid)))) +
        geom_point() +
            geom_smooth(se=FALSE) +
                labs(x = "Fitted Values", y = "Root of Standardized Residuals", title="Scale-Location")

                                        # cook's distance
    g4 &lt;-  ggplot(df, aes(rows, .cooksd, ymin=0, ymax=.cooksd)) +
        geom_point() + geom_linerange() +
            labs(x = "Observation Number", y = "Cook's distance", title="Cook's Distance")

                                        # residuals vs leverage
    g5 &lt;- ggplot(df, aes(.hat, .stdresid)) +
        geom_point() +
            geom_smooth(se=FALSE) +
                geom_hline(linetype=2, size=.2) +
                    labs(x = "Leverage", y = "Standardized Residuals", title="Residuals vs Leverage")

                                        # cooksd vs leverage
    g6 &lt;- ggplot(df, aes(.hat, .cooksd)) +
        geom_point() +
            geom_smooth(se=FALSE) +
                labs(x = "Leverage", y = "Cook's distance", title="Cook's dist vs Leverage")

                                        # making the plots
    plots &lt;- list(g1, g2, g3, g4, g5, g6)[which]

    print(single.frame &lt;- do.call(arrangeGrob, c(plots, 'nrow' = mfrow[1], 'ncol' = mfrow[2])))

    if (return.list)
        return(plots)
    else
        return(single.frame)
}


#' @ref Yi
autoplot.gev &lt;- function(model, return.list = FALSE){
    require(gridExtra)
    n &lt;- length(model$data)
    x &lt;- (1:n)/(n + 1)

    if (model$trans) {
        p1 &lt;- qplot(x, y = exp(-exp(-sort(model$data))))  + geom_abline(intercept = 0, slope = 1, col = 4)  +  labs(x = "Empirical", y = "Model", title ="Residual Probability Plot")
        p2 &lt;- qplot(-log(-log(x)), sort(model$data)) + geom_abline(intercept = 0, slope = 1, col = 4)  +  labs(x = "Model", y = "Empirical", title ="Residual Quantile Plot (Gumbel Scale)")
        single.frame &lt;- arrangeGrob(p1, p2, ncol = 2)

    } else {
        ## Probability Plot
        p1 &lt;- qplot((1:length(model$data))/length(model$data), gevf(model$mle, sort(model$data))) + geom_abline(intercept = 0, slope = 1, col = 4)  +  labs(x = "Empirical", y = "Model", title ="Probability Plot")


        ## Quantile Plot (gev.qq)
        p2 &lt;- qplot(gevq(model$mle, 1 - (1:length(model$data)/(length(model$data) + 1))), sort(model$data)) + geom_abline(intercept = 0, slope = 1, col = 4)  +  labs(x = "Model", y = "Empirical", title ="Quantile Plot")

        ##Return Level Plot (gev.rl)
        eps &lt;- 1e-06
        a1 &lt;- model$mle
        a2 &lt;- model$mle
        a3 &lt;- model$mle
        a1[1] &lt;- model$mle[1] + eps
        a2[2] &lt;- model$mle[2] + eps
        a3[3] &lt;- model$mle[3] + eps
        f &lt;- c(seq(0.01, 0.09, by = 0.01), 0.1, 0.2, 0.3, 0.4, 0.5,
               0.6, 0.7, 0.8, 0.9, 0.95, 0.99, 0.995, 0.999)
        q &lt;- gevq(model$mle, 1 - f)
        d &lt;- t(gev.rl.gradient(a = model$mle, p = 1 - f))
        v &lt;- apply(d, 1, q.form, m = model$cov)
        df &lt;- data.frame(f=f, q=q, v=v)


        p3 &lt;- ggplot(df, aes(x= -1/log(f))) + geom_line(aes(y = q)) + geom_line(aes(y = q + 1.96 * sqrt(v)), col = 4) + geom_line(aes(y = q - 1.96 * sqrt(v)), col = 4) +     geom_point( data = data.frame(x = -1/log((1:length(model$data))/(length(model$data) + 1)), y = sort(model$data)), aes(x=x,y=y)) + scale_x_continuous(trans = 'log', limits = c(0.1, 1000), breaks = 10^(-1:3) )  + labs(x = 'Return Period', y = 'Return Level', title = 'Return Level Plot') + ylim(min(model$data, q), max(model$data, q))


        ## Density plot (gev.his)
        h &lt;- hist(model$data, plot = FALSE)
        if (model$mle[3] &lt; 0) {
            x &lt;- seq(min(h$breaks), min(max(h$breaks), (model$mle[1] - model$mle[2]/model$mle[3] -
                                                            0.001)), length = 100)
        }
        else {
            x &lt;- seq(max(min(h$breaks), (model$mle[1] - model$mle[2]/model$mle[3] + 0.001)),
                     max(h$breaks), length = 100)
        }
        y &lt;- gev.dens(model$mle, x)

        hist(model$data, freq = FALSE, ylim = c(0, max(max(h$density), max(y))),
             xlab = "z", ylab = "f(z)", main = "Density Plot")
        points(model$data, rep(0, length(model$data)))
        lines(x, y)

        hist.xlim = c( 2*h$breaks[1] - h$mids[1], 2*h$breaks[length(h$breaks)] - h$mids[length(h$mid)])
        p4 &lt;- ggplot(data.frame(x = model$data), aes(x=x)) +  geom_histogram(aes(y=..density..), col = 'darkgreen', fill = 'white', binwidth = h$breaks[2] - h$breaks[1]) + geom_line(data = data.frame(x, y), aes(x,y)) + geom_point(data = data.frame(x = model$data, y = 0), aes(x, y)) + xlim(hist.xlim[1], hist.xlim[2]) +
            ylim( c(0, max(max(h$density), max(y)))) + labs( x = 'z', y = 'f(z)', title = 'Density Plot')
        single.frame &lt;- arrangeGrob(p1, p2, p3, p4, ncol = 2, nrow = 2)

    }


    if (return.list)
        return(list(p1, p2, p3, p4))
    else
        return(single.frame)

}


#' Check if point(x, y) cross x = a or y = b line or not.
#' @example
#' df &lt;- structure(list(long = c(-34.2078157528796, -36.2074309699417,
#' -38.2792884737378, -40.2170974851064, -42.1780335768454, -44.1455967338515,
#' -46.4166770126002, -48.2943755413367, -50.0298281808574, -51.3114969986729,
#' -52.5441609178788, -53.7237533552569, -54.8823832918566, -55.8138670417713,
#' -56.722942918336, -57.6053794360869, -58.6228611648525, -59.5945636149565,
#' -60.591387403632, -61.5473518311293, -62.1877994852336, -62.6515082234799,
#' -63.0336967876415, -63.1144294155782, -63.3581282050358, -63.7885840015858,
#' -64.1370270967451, -64.5242218821295, -64.7156587993305, -64.5240440927702,
#' -63.6592485824048, -61.9361108628757, -59.9644036105799, -57.6850668652962,
#' -55.6269026718672), lat = c(25.220877237296, 25.0449951402138,
#' 24.2921987727861, 23.7331891023609, 22.882202932219, 21.9955804595675,
#' 21.3357658016897, 20.7665536331803, 20.4345722631771, 20.1713918488524,
#' 19.9607061210464, 19.803542676299, 19.6514829290709, 19.2946576063146,
#' 19.0185917630829, 18.6544443206195, 18.350027781835, 18.4634817877027,
#' 18.8968767697435, 19.5874567186624, 20.3871126308597, 21.1001662298256,
#' 21.6360080794085, 22.214195275253, 22.6741813775321, 23.2123449093717,
#' 24.0670696428687, 25.3393933451918, 27.2736476853658, 29.0676356902004,
#' 30.8813383987791, 32.49317150619, 33.1745910761416, 34.2677474173933,
#' 35.0450609158249)), .Names = c("long", "lat"), row.names = c(NA,
#' -35L))
#' x.grid &lt;- seq(-70, -30, by = 10)
#' res &lt;- CrossX(df$long, df$lat, x.grid)
#' plot(df$long, df$lat)
#' abline( v = x.grid, col = 2)
#' points(res$x, res$y, col = ifelse(res$dir == "negative", 2, 3), pch = 19)
CrossX &lt;- function(x, y, x.grid){
    cat('\n', 'positive means', '\n from left to right or \n bottom to top\n')

    d &lt;- c(0, diff( findInterval(x, x.grid)))
    if (sum(d != 0) == 0)
        return(NULL)
                                        # negative direction
    res1 &lt;- res2 &lt;- NULL
    ind &lt;- which(d &lt; 0)
    if(length(ind) != 0){
        xx &lt;- x.grid[ findInterval(x[ind], x.grid) + 1]
        if (length(ind) == 1){
            ind &lt;- c(ind - 1, ind)
        } else {
            ind[1] &lt;- ind[1] -1  # otherwise, the first interpolated will be NA.
        }
        res1 &lt;- approx(x[ind], y[ind], xx)
        res1$dir &lt;- "negative"
    }

                                        # positive direction
    ind &lt;- which(d &gt; 0)
    if(length(ind) != 0){
        xx &lt;- x.grid[ findInterval(x[ind], x.grid) ]
        if (length(ind) == 1){
            ind &lt;- c(ind - 1, ind)
        } else {
            ind[1] &lt;- ind[1] -1  # otherwise, the first interpolated will be NA.
        }
        res2 &lt;- approx(x[ind], y[ind], xx)
        res2$dir &lt;- "positive"
    }

    res &lt;- rbind( as.data.table(res1), as.data.table(res2))
    res
}


                                        # ' save a list of ggplot
gg.save.list &lt;- function(p.list, file.name = c("var.name", "title")){
    file.name &lt;- match.arg(file.name)
    nm &lt;- names(p.list)
    if (any(nm == ""))
        stop("list must have name")

    for (i in seq_along(p.list)){
        elem &lt;- p.list[[i]]
        if (any(grepl("ggplot", class(elem)))){
            my.png(elem, nm[i])

        } else if (class(elem) == "list"){
            for (j in 1:length(elem)){
                if (any(grepl("ggplot", class(elem))))
                    my.png(elem[[j]], paste(nm[i], names(elem)[j]))
            }
        } else {
            message("\n", i, "-th element is skipped")
        }
    }
}


#' ggpot defaul color scheme
gg_color_hue &lt;- function(n) {
    hues = seq(15, 375, length=n+1)
    hcl(h=hues, l=65, c=100)[1:n]
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-1-3" class="outline-5">
<h5 id="sec-3-3-1-3">Extreme Value Thoery</h5>
<div class="outline-text-5" id="text-3-3-1-3">
<p>

</p>
<div class="org-src-container">

<pre class="src src-R">##' Transfer Laplace distirbution to original scale 
##'
##' Given a upper part of x, GPD is used to extrpolate . for y &lt;= qu, empirical transformation. for y &gt; qu, GPD 
##' @title EVT
##' @param y numeric vector. Laplace distirbution 
##' @param x numeric vector, original distirbution 
##' @param qu numeric from 0 to 1. 
##' @param coef numeric vector of 3 element. GPD parameters 
##' @return numeric vector 
##' @export 
##' @author Yi Tang
y2x &lt;- function(y, x, qu, coef){
    u &lt;- rank(y, ties = "random")/(1+length(y))
    xx &lt;- rep(NA, len = length(u))
    threshold &lt;- quantile(x, qu)
    ind &lt;- u &lt;= qu
    xx[ind] &lt;- quantile(x, u[ind])
    if (any(!ind )){
        sig &lt;- coef[2]
        xi &lt;- coef[3]
        xx[!ind] &lt;- texmex::qgpd(1- (1 - u[!ind]) / (1 - qu), sigma = sig, xi = xi, u = 0) + threshold
    }
    return(xx)
}

##' Convert GPD distribution to GEV distribution 
##'
##' 
##' @title evt 
##' @param mu location parameter of GPD 
##' @param sigma scale parameter of GPD
##' @param xi shape parameter of GPD 
##' @param lambda lambda is the average clusters per year
##' @return GEV parameter 
##' @export 
##' @author Yi Tang
GPD2GEV &lt;- function(mu, sigma, xi, lambda){
    mu = mu + sigma*(lambda^xi - 1) / xi
    sigma = sigma * lambda^xi
    xi = xi
    return(c(mu, sigma, xi))
}

#' automatically choose GPD threshold by coverage 
optimGPDThreshold &lt;- function(x){
    res &lt;- gpdRangeFit(x, umin = quantile(x, 0.8), umax = quantile(x, 0.995), nint = 100)
    ## plot(res)
    phi &lt;- data.table(th = res$th,
                      mle = res$par[, 1],
                      lb = res$lo[, 1],
                      ub = res$hi[, 1])
    xi &lt;-  data.table(th = res$th,
                      mle = res$par[, 2],
                      lb = res$lo[, 2],
                      ub = res$hi[, 2])
    par &lt;- data.table(rbind(phi, xi), par = rep(c("phi", "xi"), c(nrow(phi), nrow(xi))))
    xi[, n.id := 1:nrow(xi)]
    xi[, n.cover := {
        sum(lb &lt;= xi$mle &amp; ub &gt;= xi$mle)
    }, by = n.id]
    opt.th &lt;- xi[which.max(n.cover), th]
    return(opt.th)
}





##' Laplace Distribution 
##'
##' Basic functions that relate to Laplace distribution 
##' @name LaplaceDistribution 
##' @param x a random variable 
##' @param mu para 1 
##' @param b para 2 
##' @return 
##' @export 
##' @author Yi Tang
toLaplace &lt;- function(x, mu = 0, b = 1){
    ## u &lt;- rank(x, ties = "random") / (1+length(x))
    u &lt;- rank(x) / (1+length(x))
    y &lt;-     mu - b * sign(u - 0.5) * log(1 - 2 * abs(u - 0.5))
    return(y)
}
##' @rdname LaplaceDistribution 
qLaplace &lt;- function(p, mu = 0, b = 1){
     ## mu is locaton param, b is scale para
    mu - b * sign(p - 0.5) * log(1 - 2 * abs(p - 0.5))
}
##' @rdname LaplaceDistribution 
pLaplace &lt;- function(x, mu = 0, b = 1){
    ## mu is location para, b is scale para
    1/2 + 1/2 * sign(x - mu) * (1  - exp(- abs(x - mu) / b))
}



##' Convert return level to return period 
##'
##' .. content for \details{} ..
##' @title 
##' @param rl return level 
##' @param gev.mle gev parameter 
##' @return 
##' @export 
##' @author Yi Tang
RL.to.RP &lt;- function(rl, gev.mle){ # function that turns precip level to RP (rearranged)
    rp &lt;-  1 / ( 1 - texmex::pgev(rl, mu = gev.mle[1], sigma = gev.mle[2], xi = gev.mle[3]))
    return(rp) 
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-2" class="outline-4">
<h4 id="sec-3-3-2"><a id="ID-1CB84348-B118-42A4-8C29-5B8CCA14450F" name="ID-1CB84348-B118-42A4-8C29-5B8CCA14450F"></a><span class="todo TODO">TODO</span> frteR</h4>
<div class="outline-text-4" id="text-3-3-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-12 Wed 20:23]</span></span>
file-based run time estimation 
</p>

<p>
two approche: estimate run time by 1) number of files, 2) total file size 
</p>

<ol class="org-ol">
<li>give a proj.dir, get the directory strcture, by digging into k levels, 
</li>
<li>
</li>

<li>1st list is := file.info(list.files(proj.dir))
</li>
<li>if there's a directory in 1st list, go inside thoese directory, and 2nd list is file.info
</li>
<li></li>
<li><span class="checkbox">&#x2610;</span> </li>
<li></li>
</ol>
</div>


<div id="outline-container-sec-3-3-2-1" class="outline-5">
<h5 id="sec-3-3-2-1">R package</h5>
<div class="outline-text-5" id="text-3-3-2-1">
<p>

</p>
</div>
<div id="outline-container-sec-3-3-2-1-1" class="outline-6">
<h6 id="sec-3-3-2-1-1"><span class="done DONE">DONE</span> build a package (~/git/frteR)</h6>
<div class="outline-text-6" id="text-3-3-2-1-1">
<p>

</p>
<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> exmaple data
</li>
<li><span class="checkbox">&#x2610;</span> dependes on packages 
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-2-2" class="outline-5">
<h5 id="sec-3-3-2-2"><a id="ID-A3EDCFA1-5A20-44FE-B7B5-177B67C9B607" name="ID-A3EDCFA1-5A20-44FE-B7B5-177B67C9B607"></a><span class="todo NEXT">NEXT</span> core algorihtm</h5>
<div class="outline-text-5" id="text-3-3-2-2">
<p>

</p>

<ul class="org-ul">
<li>time based
<ol class="org-ol">
<li>cut 10 obs on both size, 
</li>
<li>take a continous n(n.samp) file info from first (can be random), form a subset, take difference between the modification time and file size (or number of file), calculate an estimation for run-time,
<ul class="org-ul">
<li>get 100 estimation in total, 
</li>
</ul>
</li>
<li>take difference between all modifcation time, and difference between number of files (or size), get rid of the outliers, 
</li>
</ol>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-R">library(data.table)
load("~/Desktop/frteR.RData")
dt &lt;- dt[order(mtime), ]
diff.time &lt;- dt[, diff(mtime)]
diff.time &lt;- as.double(diff.time, units = "hours")
</pre>
</div>

<p>
<a href="Images/frteR_1.tiff">session</a>
</p>
</div>
</div>
<div id="outline-container-sec-3-3-2-3" class="outline-5">
<h5 id="sec-3-3-2-3"><a id="ID-87955E02-AF17-4E10-8542-37AAB3497AE1" name="ID-87955E02-AF17-4E10-8542-37AAB3497AE1"></a><span class="todo NEXT">NEXT</span> what to add?</h5>
<div class="outline-text-5" id="text-3-3-2-3">
<p>

</p>

<div class="org-src-container">

<pre class="src src-R">setwd("~/git/frteR/data")
load("frteR.RData")
dt &lt;- dt[order(mtime), ]
diff.time &lt;- dt[, diff(mtime)]
diff.time &lt;- as.double(diff.time, units = "hours")
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3" class="outline-4">
<h4 id="sec-3-3-3">orgR</h4>
<div class="outline-text-4" id="text-3-3-3">
<p>

</p>
</div>
<div id="outline-container-sec-3-3-3-1" class="outline-5">
<h5 id="sec-3-3-3-1">Managing</h5>
<div class="outline-text-5" id="text-3-3-3-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-20 Thu 18:51]</span></span>
should i move the scripts to R package folder or do it later? 
good to have in R package dir: 1). scripts and data are ready to load automatically. 2). publish when ready without hassel. 3). a specified git version. 
good to have it here: 1). reminds me it's just small proportion of what i achieve. 2). like to see other stuff here, give me some good ideas. 3) clock in and out, easiy to my commit with other tasks.
i should stick to here. 
</p>
</div>
<div id="outline-container-sec-3-3-3-1-1" class="outline-6">
<h6 id="sec-3-3-3-1-1"><span class="done DONE">DONE</span> PM orgR</h6>
<div class="outline-text-6" id="text-3-3-3-1-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-29 Sat 11:51]</span></span>
[rv] I was trying to combine clock table with headings,
clock.table 
(heading, heading.ind, s, e), key is heading.ind, s, e 
heading.table
(heading, heading.ind, all.gas, xxx)
</p>

<p>
join clock.table and heading.table by heading.ind.
</p>


<p>
setkey(head.info, head.ind)
setkey(clock.table, head.ind)
tmp2 &lt;- head.info[clock.table[, list(head.ind, start, end)]]
</p>

<p>
tmp3 &lt;- tmp2[heading <code>= "Sleep", ]
tmp3[, duration :</code> end - start]
</p>



<p>
level1.ind &lt;- which(tmp2[, level == 1])
level1.ind, level1.ind 
</p>


<p>
lapply(a.list, function(i) )
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-2" class="outline-5">
<h5 id="sec-3-3-3-2"><a id="ID-57023646-B917-4BD2-91A6-8CE2438C2FAC" name="ID-57023646-B917-4BD2-91A6-8CE2438C2FAC"></a><span class="todo NEXT">NEXT</span> content index</h5>
<div class="outline-text-5" id="text-3-3-3-2">
<p>

</p>

<ul class="org-ul">
<li><span class="check">&#x2611;</span> headings
start with a star, then new line 
</li>
<li><span class="check">&#x2611;</span> clock entry
has 'CLOCK: [' 
</li>
<li><span class="checkbox">&#x2610;</span> open clock
newl ine, start with active or interactive 
</li>
<li><span class="checkbox">&#x2610;</span> closed clock
</li>
<li><span class="checkbox">&#x2610;</span> shcedueld and deadline time
</li>
<li><span class="checkbox">&#x2610;</span> tags
</li>
<li><span class="checkbox">&#x2610;</span> properties
</li>
<li><span class="checkbox">&#x2610;</span> content 
</li>
</ul>

<div class="org-src-container">

<pre class="src src-R">file &lt;- "~/git/org/qs.org"#
str &lt;- readLines(file)#
library(lubridate)#
library(data.table)
library(stringr)
heading.lines &lt;- grep("^\\*", str)#
clock.entry.lines &lt;- grep("CLOCK: \\[", str)#

content &lt;- readLines("~/git/org/life.org")
content &lt;- str_trim(content)
ind.ts &lt;- grep("^\\[[[:digit:]]{4}-[[:digit:]]{2}-[[:digit:]]{2}", content)
ind.clock.entry &lt;- grep("CLOCK: ", cxontent)
ind.heading &lt;- grep("^[\\*]+ ", content)
ind.property &lt;- grep(":PROPERTIES:", content)

ind.ts &lt;- grep("^\\[[[:digit:]]{4}-[[:digit:]]{2}-[[:digit:]]{2}", str)
ind.clock.entry &lt;- grep("CLOCK: ", str)
ind.heading &lt;- grep("^[\\*]+ ", str)
ind.property &lt;- grep(":PROPERTIES:", str)


## format clock data
clock.entries &lt;- content[ind.clock.entry]
date &lt;- str_extract_all(clock.entries, "[[:digit:]]{4}-[[:digit:]]{2}-[[:digit:]]{2}")
time &lt;- str_extract_all(clock.entries, "[[:digit:]]{1,2}\\:[[:digit:]]{1,2}") 
date.tmp &lt;- do.call(rbind, date)
time.tmp &lt;- do.call(rbind, time)
s &lt;- paste(date.tmp[, 1], time.tmp[, 1])
e &lt;- paste(date.tmp[, 2], time.tmp[, 2])
duration &lt;- time.tmp[, 3]

                                        # cast to ISO date
time.date.format &lt;- "%Y-%m-%d %H:%M"
s &lt;- as.POSIXct(s, format = time.date.format)
e &lt;- as.POSIXct(e, format = time.date.format)
duration &lt;- lubridate::minute(lubridate::hm(duration)) ##
data.table(s, e, duration)


## format heading
headings &lt;- content[ind.heading]
levels &lt;- str_count(headings, "\\*")
planning &lt;- content[ind.heading + 1] ## second line of an trying is shceueing/deadilne staff if there is any
ind.schedule &lt;- grep("SCHEDULED", planning)
ind.deadline &lt;- grep("DEADLINE", planning)


## three types of clock table
## 1.open ts
## 2.closed ts
## 3.last clocked ts


inactive.ts.format &lt;- "\\[[0-9]{4}-[0-9]{2}-[0-9]{2} [[:alpha:]]{3} [0-9]{2}:[0-9]{2}\\]"
ind.closed.ts &lt;- grep("CLOSED", content ) ## closed ts
ind.open.ts &lt;- grep(paste0("^", inactive.ts.format), content)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-3" class="outline-5">
<h5 id="sec-3-3-3-3"><span class="done DONE">DONE</span> orgR 0.9.0</h5>
<div class="outline-text-5" id="text-3-3-3-3">
<p>

</p>
</div>
<div id="outline-container-sec-3-3-3-3-1" class="outline-6">
<h6 id="sec-3-3-3-3-1">headlines.R</h6>
<div class="outline-text-6" id="text-3-3-3-3-1">
<p>

</p>
<ul class="org-ul">
<li><span class="check">&#x2611;</span> TS: closed, shedule, deadline 
take format as input 
</li>
</ul>
<div class="org-src-container">

<pre class="src src-R">##' ad descrition 
##'
##' lalla details
##' @rdname time.stampe
##' @title function 
##' @param str content of a .org file
##' @param ts.format format of time stamps used in the .org file. It is equivalent to \code{org-time-stamp-formats} in Emacs
##' @return a 
##' @export
##' @author yitang
GetTS &lt;- function(str = "a", ts.format = c("&lt;%Y-%m-%d %a&gt;", "&lt;%Y-%m-%d %a %H:%M&gt;")){
    inactive.ts.format &lt;- "\\[[0-9]{4}-[0-9]{2}-[0-9]{2} [[:alpha:]]{3} [0-9]{2}:[0-9]{2}\\]"

    ts.category &lt;- c(close = "CLOSED: ", dealine = "DEADLINE: ", scheduel = "SCHEDULED: ")
    ts.entries &lt;- lapply(ts.category, function(i){
        i.str &lt;- str_extract(str, paste0(i , inactive.ts.format))
        i.ts &lt;- gsub(i, "", i.str) 
        return(i.ts)
    })
    setDT(ts.entries)
    return(ts.entries)
}


##' org headlines 
##'
##' A function to parse org files, will return headlines and associated attributes, including tag, clock entries, shedules, deadlines, closed date, todo states,
##' @title Headlines 
##' @param org.file a file path point to a .org file 
##' @return a table of headlines and attributes 
##' @export
##' @author Yi Tang
GetHeadlines &lt;- function(org.file = "~/tmp.org"){
    str &lt;- readLines(org.file) 
    heading.lines &lt;- grep("^\\*", str)#
    headings &lt;- str_trim(str[heading.lines])

    levels &lt;- str_count(headings, "\\*")
    ## remove stars from the heading
    headings &lt;- gsub("^\\*{1, } ", "", headings)



    todo.keywords &lt;- c("TODO", "NEXT", "DONE", "WAITING", "HOLD", "CANCELLED", "PHONE", "MEETING")
    ## if (is.null(todo.keywords)){
    ##     str &lt;- strsplit(content, " ")
    ##     str &lt;- sapply(str, "[", 2)
    ## }
    ## must provide todo lists

#### todo states 
    first.word.in.headings &lt;- str_extract(headings, "[[:alpha:]]{1, }")
    todo.ind &lt;- first.word.in.headings %in% todo.keywords
    todo.state &lt;- NA
    todo.state[todo.ind] &lt;- first.word.in.headings[todo.ind]

#### tags
    all.tags &lt;- str_extract(headings, ":[[:alpha:]]{+}:")
    archive.tag &lt;- ":ARCHIVE:" == all.tags 
    archive.tag[is.na(archive.tag)] &lt;- FALSE


    the.line.after.heading &lt;- str[heading.lines + 1]
    plan.ts &lt;- GetTS(str = the.line.after.heading)

    head.info &lt;- data.table(id = 1:length(headings),
                            heading = headings,
                            head.ind = heading.lines,
                            level = levels,
                            todo = todo.state,
                            tag = all.tags,
                            archive = archive.tag,
                            plan.ts)
    return(head.info)
}


##' Search for parent headlines 
##'
##' Given a headlines table and headline id, it will return the parent headlines.
##' @title search.parent 
##' @param head.info a head table from GetHeadlings
##' @param heading.id a unique id from head.info 
##' @return a data.table 
##' @export
##' @author Yi Tang
search.parent &lt;- function(head.info, heading.id){
    level.1.ind &lt;- which(head.info$level == 1)
    dist &lt;- (level.1.ind - heading.id)^2
    ind &lt;- which.min(dist)
    nearest.level.1 &lt;- level.1.ind[ind] 
    head.info[nearest.level.1 : heading.id]
}


## search.parent(head.info, 40)


#### tree view of strcutre
##' Visualise org-mode headings 
##'
##' tree structure of org headlines
##' @title org-headings-tree
##' @param head.info a data.tabl returned by GetHeadlines()
##' @param output file to save the results, default setting is to print to scree 
##' @param plantuml TRUE/FALSE, for plantuml program?
##' @return a string that can be used in plantuml program
##' @export
##' @author Yi Tang
tree.headings &lt;- function(head.info, output = "screen", plantuml = TRUE){
    tree.prep &lt;- sapply(head.info$level, function(i) paste(rep("+", i), collapse = ""))
    tree &lt;- paste(tree.prep, head.info$heading)
    if (plantuml) 
        tree &lt;- c("@startuml", "salt", "{", "{T", tree, "}", "}", "@enduml")
    if (output == "screen")
        cat(tree, sep = "\n")
    else
        cat(tree, sep = "\n", file = output)
}

## tree.headings(head.info, output = "screen")
</pre>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-1-1" class="outline-7">
<h7 id="sec-3-3-3-3-1-1">fix search.parent</h7>
<div class="outline-text-7" id="text-3-3-3-3-1-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-15 Mon 20:19]</span></span>
dist &lt;- xx<sup>2</sup> 
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-2" class="outline-6">
<h6 id="sec-3-3-3-3-2">clock.table.R</h6>
<div class="outline-text-6" id="text-3-3-3-3-2">
<p>

</p>

<div class="org-src-container">

<pre class="src src-R">map.clock.heading &lt;- function(clock.ind, heading.vec){#
    d &lt;- clock.ind - heading.vec#
    neg.ind &lt;- which(d &lt;= 0)[1]#
    return(neg.ind - 1 )#
}

##' Parse clock entry to ISO date 
##'
##' 
##' @title clock.table
##' @param clock.entries a standard clock entry from org-mode
##' @return POXICt object
##' @author Yi Tang
##' @export
##' @examples 
##' str &lt;- c("CLOCK: [2014-11-26 Wed 09:36]--[2014-11-26 Wed 10:04] =&gt;  0:28",
##'          "CLOCK: [2014-12-04 Thu 15:24]--[2014-12-04 Thu 16:25] =&gt;  1:01")
##' ToISOdate(str)
ToISOdate &lt;- function(clock.entries){
    s &lt;- str_locate_all(clock.entries, "\\[")
    e &lt;- str_locate_all(clock.entries, "\\]")
    tmp1 &lt;- rep(NA, len = length(clock.entries))
    tmp2 &lt;- rep(NA, len = length(clock.entries))
    for (i in seq_along(clock.entries)){
        s.i &lt;- s[[i]]
        e.i &lt;- e[[i]]
        tmp1[i] &lt;- substr(clock.entries[i], s.i[1, 1] + 1 , e.i[1, 1] - 1)
        tmp2[i] &lt;- substr(clock.entries[i], s.i[2, 1] + 1, e.i[2, 1] - 1)
    }
    res &lt;- list(lubridate::ymd_hm(tmp1),
                lubridate::ymd_hm(tmp2))
    return(res)
}

##' Parse org file
##'
##' scan a org file and return the headlines and associated clock entries 
##' @title clock.table 
##' @export
##' @param org.file a org file 
##' @return a data.table 
##' @author Yi Tang
GetClockTable &lt;- function(org.file = "~/tmp.org"){
    ## org.file &lt;- "~/git/org/tmp.org"
    str &lt;- readLines(org.file) 
    heading.lines &lt;- grep("^\\*", str)
    clock.entry.lines &lt;- grep("CLOCK: \\[", str)



    clock.entries &lt;- str[clock.entry.lines]
    headings &lt;- str_trim(str[heading.lines])

    ind &lt;- sapply(clock.entry.lines, function(i) map.clock.heading(i, heading.lines))
    clock.table &lt;- data.table(clock.entries,
                              headings = str[heading.lines[ind]],
                              head.ind = heading.lines[ind])
    clock.table$clock.closed &lt;- grepl("--", clock.table$clock.entries)

ind &lt;- clock.table$clock.closed == TRUE
    clock.table[ind, c("start", "end") := {
        ToISOdate(clock.entries)
    }]

    clock.table[, clock.entries := NULL]
    return(clock.table)

}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-3" class="outline-6">
<h6 id="sec-3-3-3-3-3">methods.R</h6>
<div class="outline-text-6" id="text-3-3-3-3-3">
<div class="org-src-container">

<pre class="src src-R">getstyle &lt;- function(text_size = 20){
  theme_bw() +
    theme(axis.title.x = element_text(colour="black", size=text_size)) +
    theme(axis.text.x = element_text(size = text_size)) +
    theme(axis.title.y = element_text(colour="black", size=text_size)) +
    theme(axis.text.y = element_text(size = text_size)) +
    theme(legend.position="none") +
    theme(plot.title = element_text(face="bold", size = text_size+2, vjust = 2)) 
}

ggpie &lt;- function(data, category = character(), value = numeric()){
    data$category &lt;- data[, category]
  data$value &lt;- data[, value]
  data$category &lt;- factor(data$category, 
                          levels = data$category[order(data$value, decreasing=TRUE)])

  p &lt;- ggplot(data, aes(x = factor(1), fill = factor(category), y = (value)/sum(value),
                        order = (value)/sum(value))) +
    geom_bar(stat = "identity", width = 1) + 
    labs(title = "", x = "", y= "") + 
    getstyle(10) + scale_fill_tableau("colorblind10")+
    coord_polar(theta="y", direction = -1) +
    theme(legend.position="right") +
    theme(axis.ticks=element_blank(), axis.text.y = element_blank(), axis.text.x = element_blank(), 
          legend.text=element_text(size=14), legend.title=element_text(size=14) )+
    guides(fill = guide_legend(title = category))
  return(p)
}

ggpie2 &lt;- function (dat, by, totals) {
    ggplot(dat, aes_string(x=factor(1), y=totals, fill=by)) +
    geom_bar(stat='identity', color='black') +
    scale_fill_brewer() +
    guides(fill=guide_legend(override.aes=list(colour=NA))) + # removes black borders from legend
    coord_polar(theta='y') +
    theme(axis.ticks=element_blank(),
          axis.text.y=element_blank(),
          axis.text.x=element_text(colour='black'),
          axis.title=element_blank(),
          legend.position="none") +
    scale_y_continuous(breaks=cumsum(dat[[totals]]) - dat[[totals]] / 2, labels=dat[[by]]) 
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-4" class="outline-6">
<h6 id="sec-3-3-3-3-4">description</h6>
<div class="outline-text-6" id="text-3-3-3-3-4">
<p>

</p>
<div class="org-src-container">

<pre class="src src-fundamental">Package: orgR
Type: Package
Title: Analyse Text Files Created by Emacs' Org mode
Version: 0.9.0
Date: 2014-12-15
Author: Yi Tang
Maintainer: Yi Tang <a href="mailto:yi.tang.uk%40me.com">&lt;yi.tang.uk@me.com&gt;</a>
Description: Provides functionality to process text files created by Emacs' Org mode, and decompose the content to the smallest components (headlines, body, tag, clock entries etc).  Emacs is an extensible, customizable text editor and Org mode is for keeping notes, maintaining TODO lists, planning projects.  Allows users to analyze org files as data frames in R, e.g., to convieniently group tasks by tag into project and calculate total working hours.  Also provides some help functions like search.parent, gg.pie (visualise working hours in ggplot2) and tree.headlines (visualise headline stricture in tree format) to help user managing their complex org files. 
License: GPL (&gt;= 2)
Depends:
  ggthemes (&gt;= 1.7.0),
  ggplot2 (&gt;= 1.0.0),
  lubridate(&gt;= 1.3.3),
  data.table (&gt;= 1.9.4),
  stringr (&gt;= 0.6.2)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-5" class="outline-6">
<h6 id="sec-3-3-3-3-5">example file</h6>
<div class="outline-text-6" id="text-3-3-3-3-5">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-6" class="outline-6">
<h6 id="sec-3-3-3-3-6">orgR.R</h6>
<div class="outline-text-6" id="text-3-3-3-3-6">
<p>

</p>
<div class="org-src-container">

<pre class="src src-R">##' orgR 
##'
##' a package to process org file 
##' @title orgR 
##' @author yitang
##' @name orgR
##' @import data.table ggplot2 ggthemes stringr
##' @importFrom lubridate ymd_hm
NULL
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-7" class="outline-6">
<h6 id="sec-3-3-3-3-7"><span class="done DONE">DONE</span> upload to CRAN</h6>
<div class="outline-text-6" id="text-3-3-3-3-7">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-15 Mon 15:45]</span></span>
[rv] 
</p>
</div>
<div id="outline-container-sec-3-3-3-3-7-1" class="outline-7">
<h7 id="sec-3-3-3-3-7-1">R package check</h7>
<div class="outline-text-7" id="text-3-3-3-3-7-1">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-7-2" class="outline-7">
<h7 id="sec-3-3-3-3-7-2">CRAN policy</h7>
<div class="outline-text-7" id="text-3-3-3-3-7-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-15 Mon 15:01]</span></span>
CRAN Repository Policy
</p>

<p>
Version $Revision: 3184 $
CRAN Repository Maintainers
Top
</p>

<p>
Preamble
</p>

<p>
This document describes the policies in place for the R package repository hosted by the Comprehensive R Archive Network. In what follows, this CRAN package repository will be referred to as “CRAN”.
</p>

<p>
CRAN is maintained by the efforts of volunteers (the “CRAN team”) and the resources of the R Foundation and the employers of those volunteers (WU Wien, TU Dortmund, U Oxford, AT&amp;T Research). Having a package distributed by CRAN is subject to a set of policies, and submitting a package (including an update) to CRAN indicates agreement to these policies.
</p>

<p>
Distributing code or documentation is subject to legal requirements, and CRAN operates in many jurisdictions. One of the aims of these policies is to ensure that the distributors meet their legal obligations of diligence without excessive work.
</p>

<p>
The time of the volunteers is CRAN’s most precious resource, and they reserve the right to remove or modify packages on CRAN without notice or explanation (although notification will usually be given).
</p>

<p>
Source packages
</p>

<p>
The ownership of copyright and intellectual property rights of all components of the package must be clear and unambiguous (including from the authors specification in the DESCRIPTION file). Where code is copied (or derived) from the work of others (including from R itself), care must be taken that any copyright/license statements are preserved and authorship is not misrepresented.
Preferably, an ‘Authors@R’ would be used with ‘ctb’ roles for the authors of such code. Alternatively, the ‘Author’ field should list these authors as contributors.
</p>

<p>
Where copyrights are held by an entity other than the package authors, this should preferably be indicated via ‘cph’ roles in the ‘Authors@R’ field, or using a ‘Copyright’ field (if necessary referring to an inst/COPYRIGHTS file).
</p>

<p>
Trademarks must be respected.
</p>

<p>
The package’s DESCRIPTION file must show both the name and email address of a single designated maintainer (a person, not a mailing list). That contact address must be kept up to date, and be usable for information mailed by the CRAN team without any form of filtering, confirmation …
The maintainer warrants that (s)he is acting on behalf of all credited authors and has their agreement to use their material in the way it is included in the package (or if this is not possible, warrants that it is used in accordance with the license granted by the original author).
</p>

<p>
Additional DESCRIPTION fields could be used for providing email addresses for contacting the package authors/developers (e.g., ‘Contact’), or a URL for submitting bug reports (e.g., ‘BugReports’).
</p>

<p>
Source packages may not contain any form of binary executable code.
Source packages under an Open Source license must provide source or something which can easily be converted back to source (e.g., .rda files) for all components of the package (including for example PDF documentation, configure files produced by autoconf). For Java .class and .jar files, the sources should be in a top-level java directory in the source package (or that directory should explain how they can be obtained).
Such packages are not permitted to require (e.g., by specifying in ‘Depends’, ‘Imports’ or ‘LinkingTo’ fields) directly or indirectly a package or external software which restricts users or usage.
</p>

<p>
The package’s license must give the right for CRAN to distribute the package in perpetuity. Any change to a package’s license must be highlighted when an update is submitted (for there have been instances of an undocumented license change removing even the right of CRAN to distribute the package).
</p>

<p>
Packages with licenses not listed at <a href="https://svn.r-project.org/R/trunk/share/licenses/license.db">https://svn.r-project.org/R/trunk/share/licenses/license.db</a> will generally not be accepted.
</p>

<p>
Package authors should make all reasonable efforts to provide cross-platform portable code. Packages will not normally be accepted that do not run on at least two of the major R platforms. Cases for Windows-only packages will be considered, but CRAN may not be the most appropriate place to host them.
Packages should be named in a way that does not conflict (irrespective of case) with any current or past CRAN package (the Archive area can be consulted), nor any current Bioconductor package. Package maintainers give the right to use that package name to CRAN when they submit, so the CRAN team may orphan a package and allow another maintainer to take it over.
When a new maintainer wishes to take over a package, this should be accompanied by the written agreement of the previous maintainer (unless the package has been formally orphaned).
</p>

<p>
Packages on which a CRAN package depends should be available from a mainstream repository: if any mentioned in ‘Suggests’ or ‘Enhances’ fields are not from such a repository, where to obtain them at a repository should be specified in an ‘Additional<sub>repositories’</sub> field of the DESCRIPTION file (as a comma-separated list of repository URLs) or for other means of access, described in the ‘Description’ field.
Packages will not normally be removed from CRAN: however, they may be archived, including at the maintainer’s request.
Packages for which R CMD check gives an ‘ERROR’ when a new R x.y.0 version is released will be archived (or in exceptional circumstances updated by the CRAN team) unless the maintainer has set a firm deadline for an upcoming update (and keeps to it).
</p>

<p>
Maintainers will be asked to update packages which show any warnings or significant notes, especially at around the time of a new x.y.0 release. Packages which are not updated are liable to be archived.
</p>

<p>
Packages should be of the minimum necessary size. Reasonable compression should be used for data (not just .rda files) and PDF documentation: CRAN will if necessary pass the latter through qpdf.
As a general rule, neither data nor documentation should exceed 5MB (which covers several books). A CRAN package is not an appropriate way to distribute course notes, and authors will be asked to trim their documentation to a maximum of 5MB.
</p>

<p>
Where a large amount of data is required (even after compression), consideration should be given to a separate data-only package which can be updated only rarely (since older versions of packages are archived in perpetuity).
</p>

<p>
Similar considerations apply to other forms of “data”, e.g., .jar files.
</p>

<p>
Checking the package should take as little CPU time as possible, as the CRAN check farm is a very limited resource and there are thousands of packages. Long-running tests and vignette code can be made optional for checking, but do ensure that the checks that are left do exercise all the features of the package.
If running a package uses multiple threads/cores it must never use more than two simultaneously: the check farm is a shared resource and will typically be running many checks simultaneously.
</p>

<p>
Examples should run for no more than a few seconds each: they are intended to exemplify to the would-be user how to use the functions in the package.
</p>

<p>
The code and examples provided in a package should never do anything which might be regarded as malicious or anti-social. The following are illustrative examples from past experience.
</p>
<ul class="org-ul">
<li>Compiled code should never terminate the R process within which it is running. Thus C/C++ calls to assert/abort/exit, Fortran calls to STOP and so on must be avoided. Nor may R code call q().
</li>
<li>A package must not tamper with the code already loaded into R: any attempt to change code in the standard and recommended packages which ship with R is prohibited. Altering the namespace of another package should only be done with the agreement of the maintainer of that package.
</li>
<li>Packages should not write in the users’ home filespace, nor anywhere else on the file system apart from the R session’s temporary directory (or during installation in the location pointed to by TMPDIR: and such usage should be cleaned up). Installing into the system’s R installation (e.g., scripts to its bin directory) is not allowed.
</li>
</ul>
<p>
Limited exceptions may be allowed in interactive sessions if the package obtains confirmation from the user.
</p>

<ul class="org-ul">
<li>Packages should not modify the global environment (user’s workspace).
</li>
<li>Packages should not start external software (such as PDF viewers or browsers) during examples or tests unless that specific instance of the software is explicitly closed afterwards.
</li>
<li>Packages should not send information about the R session to the maintainer’s or third-party sites without obtaining confirmation from the user.
</li>
<li>Packages must not disable the stack-checking mechanism in the R process into which they are loaded.
</li>
<li>CRAN packages should use only the public API. Hence they should not use entry points not declared as API in installed headers nor .Internal() nor .Call() etc calls to base packages. Also, ::: should not be used to access undocumented/internal functions in base packages. Such usages can cause packages to break at any time, even in patched versions of R.
</li>
</ul>
<p>
Changes to CRAN packages causing significant disruption to other packages must be agreed with the CRAN maintainers well in advance of any publicity. Introduction of packages providing back-compatibility versions of already available packages is not allowed.
Binary packages
</p>

<p>
Policies for when a (Windows or OS X) binary package will be distributed:
</p>

<p>
all its package dependencies on CRAN are available for that platform. Dependencies from other repositories will be installed at CRAN’s discretion.
any external software needed can easily be installed on the build machine for all the sub-architectures: here “easily” includes not depending on specific versions, nor should the installed binary depend on specific versions.
it passes R CMD check without error for all the available sub-architectures, or at CRAN’s discretion, for the most important sub-architecture(s).
Binary packages are not accepted from maintainers: CRAN will only host binary packages prepared by those responsible for the binary areas. Their packages are made automatically by batch jobs and can take a day or two to appear on the CRAN master site (maybe longer to reach CRAN mirrors).
</p>

<p>
Submission
</p>

<p>
When submitting a package to CRAN you should use the submission form at <a href="http://CRAN.R-project.org/submit.html">http://CRAN.R-project.org/submit.html</a> (and not send an email). You will be sent a confirmation email which needs to be accepted.
</p>

<p>
If this fails, upload by anonymous ftp to <a href="ftp://CRAN.R-project.org/incoming/">ftp://CRAN.R-project.org/incoming/</a> and send a (plain text ASCII) email at the same time, with subject line as specified below.
</p>

<p>
In either case, you can check that the submission was received by looking at <a href="ftp://CRAN.R-project.org/incoming/">ftp://CRAN.R-project.org/incoming/</a>.
</p>

<p>
In more detail:
</p>

<p>
Uploads must be source tarballs created by R CMD build and following the PACKAGE<sub>VERSION</sub>.tar.gz naming scheme.
Please ensure that R CMD check &#x2013;as-cran has been run on the tarball to be uploaded before submission. This should be done with the current version of R-devel (or if that is not possible and explained in the submission, current R-patched or the current release of R.)
In principle, packages must pass R CMD check without warnings or significant notes to be admitted to the main CRAN package area. If there are warnings or notes you cannot eliminate (for example because you believe them to be spurious) send an explanatory note as part of your covering email, or as a comment on the submission form.
</p>

<p>
For a package update, please check that any packages depending on this one still pass R CMD check: it is especially expected that you will have checked your own packages. Reverse dependencies can conveniently be checked using tools::check<sub>packages</sub><sub>in</sub><sub>dir</sub>(reverse = list()). A listing of the reverse dependencies of the current version can be found on the CRAN web page for the package, or be obtained via tools::package<sub>dependencies</sub>(reverse = TRUE).
An ftp upload should be accompanied by an email to CRAN@R-project.org sent from the maintainer address listed in the package, and using the subject line ‘CRAN submission PACKAGE VERSION’, where PACKAGE and VERSION are the package name and version, respectively. Plain text ASCII emails should be used if at all possible.
If for some reason the submission has to be made by someone else (for example, a co-author) this needs to be explained, and the designated maintainer will need to confirm the submission. Explain any change in the maintainer’s email address and if possible send confirmation from the previous address.
</p>

<p>
For a new submission, confirm in your email that you have read and agree to these policies. (This includes new versions of previously archived packages, and the first submission as the new maintainer for a package.)
</p>

<p>
If the package needs special treatment (for example if vignettes can only be run or re-built on the maintainer’s machine or take a very long time), say so in the submission email or on the submission form.
</p>

<p>
Do not email the package itself.
</p>

<p>
Once uploaded, no further submissions of that package should be made whilst the uploaded version is pending processing (which may take a few days) and you have not received a reply from a CRAN maintainer.
Part of the processing is that uploads may be renamed by adding one of the extensions .save, .pending or .noemail: the presence of such a file is a sign that the submission process is not finished yet and CRAN maintainers are waiting for response or resubmission from the package maintainer (and such a file name should never be uploaded).
Submitting updates should be done responsibly and with respect for the volunteers’ time. Once a package is established (which may take several rounds), “no more than every 1–2 months” seems appropriate.
Authors can avoid a lot of the all too frequent rounds of updates by checking carefully for themselves. It should be normal for those without Windows machines of their own to use the winbuilder service to check a package before submission. There is a lot of helpful advice on writing portable packages in “Writing R Extensions”.
</p>

<p>
Before submitting a package update, consult the CRAN check page at <a href="http://CRAN.R-project.org/web/checks/check_results_NAME.html">http://CRAN.R-project.org/web/checks/check_results_NAME.html</a>, substituting NAME by the name of your package. In particular, wait for that page to be fully updated after publication of a version (which can take at least 48 hours) before submitting any corrections.
</p>

<p>
If an update will change the package’s API and hence affect packages depending on it, it is expected that you will contact the maintainers of affected packages and suggest changes, and give them time to prepare updates before submitting your updated package. Do mention in the submission email which packages are affected and that their maintainers have been informed. In order to derive the reverse dependencies of a package including the addresses of maintainers who have to be notified upon changes, the function reverse<sub>dependencies</sub><sub>with</sub><sub>maintainers</sub> is available from the developer website.
</p>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-7-3" class="outline-7">
<h7 id="sec-3-3-3-3-7-3">tipis on submit to CRAN</h7>
<div class="outline-text-7" id="text-3-3-3-3-7-3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-15 Mon 16:18]</span></span>
<a href="http://kbroman.org/pkg_primer/pages/cran.html">Getting your R package on CRAN</a>
</p>
</div>
</div>
<div id="outline-container-sec-3-3-3-3-7-4" class="outline-7">
<h7 id="sec-3-3-3-3-7-4">Edit</h7>
<div class="outline-text-7" id="text-3-3-3-3-7-4">
<p>

</p>
<ol class="org-ol">
<li>Pls use title case, and improve: of course it is an R package.
</li>
<li>Pls make more comprehensive (it is less than the title)!
</li>
<li>no visible binding for global variable
</li>
</ol>

<p>
description: this package aim to mimic the org-functions inside of Emacs, like clock.table, outlines as a data.frame, which can be easily manipulate and analysed. Emacs user may also find this package userful for the helper function, like the ggpie, which provides a beautiful 
</p>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-3-3-3-4" class="outline-5">
<h5 id="sec-3-3-3-4"><span class="todo TODO">TODO</span> orgR 0.9.1</h5>
<div class="outline-text-5" id="text-3-3-3-4">
<p>

</p>
</div>
<div id="outline-container-sec-3-3-3-4-1" class="outline-6">
<h6 id="sec-3-3-3-4-1">Log</h6>
<div class="outline-text-6" id="text-3-3-3-4-1">
<p>

</p>
</div>
<div id="outline-container-sec-3-3-3-4-1-1" class="outline-7">
<h7 id="sec-3-3-3-4-1-1">Bug</h7>
<div class="outline-text-7" id="text-3-3-3-4-1-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2015-02-05 Thu 10:34]</span></span>
bug: 
</p>
<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> wday() return 0 - 6, starting on Sunday.
</li>
</ul>

<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-25 Thu 22:34]</span></span> <b>QS.org</b> meant to be bold, but GetHeadlines will return a headline.
</p>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-1-2" class="outline-7">
<h7 id="sec-3-3-3-4-1-2">Changes</h7>
<div class="outline-text-7" id="text-3-3-3-4-1-2">
<p>
mainjor change: 
</p>
<ol class="org-ol">
<li>orgR need to know the configration of the org mode. 
<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> org-time-stamp-formats 
</li>
<li><span class="checkbox">&#x2610;</span> org-drawers (for properties, logbook etc)
</li>
</ul>
</li>
<li>helper function headline.locator, given a line number, it tells it under which headline. 
</li>
<li>add worldCloud
</li>
<li>clock.table now returns line number, so I can spot the outliers of clocking hours, if is it an mixtakes, I can go to fix it.
</li>
<li>speedup org-drawer(), from 4s to 0.1s 
</li>
</ol>
</div>
</div>
</div>


<div id="outline-container-sec-3-3-3-4-2" class="outline-6">
<h6 id="sec-3-3-3-4-2"><span class="todo NEXT">NEXT</span> PM</h6>
<div class="outline-text-6" id="text-3-3-3-4-2">
<p>

</p>

<div class="org-src-container">

<pre class="src src-plantuml">head.info  --&gt; drawer
</pre>
</div>

<div class="org-src-container">

<pre class="src src-R">qs &lt;- orgR_index("~/git/org/qs.org")
setkey(qs[[1]], head.ind)
setkey(qs[[2]], head.ind)
head.clock &lt;- merge(qs[[1]], qs[[2]], all = TRUE)

orgR_index_dir &lt;- function(dir = "~/git/org/"){
org.files &lt;- list.files(pattern = ".org$")
res &lt;- lapply(org.files, orgR_index)
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-3" class="outline-6">
<h6 id="sec-3-3-3-4-3"><span class="todo NEXT">NEXT</span> orgR.index() function to decomposite a org file</h6>
<div class="outline-text-6" id="text-3-3-3-4-3">
<p>

</p>

<p>
the index() function will return an object with class orgR, esentially it is a list of three elements, 
</p>
<ul class="org-ul">
<li>headline.table 
</li>
<li>drawer.table 
</li>
<li>timestamp.table 
</li>
</ul>

<p>
for a headline.table, it is 
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">id</th>
<th scope="col" class="left">linum</th>
<th scope="col" class="left">level</th>
<th scope="col" class="left">todo</th>
<th scope="col" class="left">priority</th>
<th scope="col" class="left">headline</th>
<th scope="col" class="left">tags</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>

<p>
for a drawer.table, it is 
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="right" />

<col  class="right" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="right">id</th>
<th scope="col" class="right">linum</th>
<th scope="col" class="left">name</th>
<th scope="col" class="left">body</th>
<th scope="col" class="left">end.linum</th>
</tr>
</thead>
<tbody>
<tr>
<td class="right">1</td>
<td class="right">190</td>
<td class="left">:LOGBOOK:</td>
<td class="left">str</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>


<p>
timestamp.table, it is 
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">id</th>
<th scope="col" class="left">linum</th>
<th scope="col" class="left">type</th>
<th scope="col" class="left">&#xa0;</th>
<th scope="col" class="left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">Inactive</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
<td class="left">Active</td>
<td class="left">&#xa0;</td>
<td class="left">&#xa0;</td>
</tr>
</tbody>
</table>


<div class="org-src-container">

<pre class="src src-R">orgR_index &lt;- function(org.file = "~/tmp.org"){
    head.info &lt;- GetHeadlines(org.file) 
    clock.table &lt;- GetClockTable(org.file)
    org.drawer &lt;- orgR_drawers(NULL, readLines(org.file), head.info)

    res &lt;- list(head.info,
                clock.table,
                org.drawer)
    class(res) &lt;-  "orgR"
    return(res)
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-4" class="outline-6">
<h6 id="sec-3-3-3-4-4">headlines.R</h6>
<div class="outline-text-6" id="text-3-3-3-4-4">
<p>

</p>
<div class="org-src-container">

<pre class="src src-R">##' ad descrition 
##'
##' lalla details
##' @rdname time.stampe
##' @title function 
##' @param str content of a .org file
##' @param ts.format format of time stamps used in the .org file. It is equivalent to \code{org-time-stamp-formats} in Emacs
##' @return a 
##' @export
##' @author yitang
GetTS &lt;- function(str = "a", ts.format = c("&lt;%Y-%m-%d %a&gt;", "&lt;%Y-%m-%d %a %H:%M&gt;")){
    inactive.ts.format &lt;- "\\[[0-9]{4}-[0-9]{2}-[0-9]{2} [[:alpha:]]{3} [0-9]{2}:[0-9]{2}\\]"

    ts.category &lt;- c(close = "CLOSED: ", dealine = "DEADLINE: ", scheduel = "SCHEDULED: ")
    ts.entries &lt;- lapply(ts.category, function(i){
        i.str &lt;- str_extract(str, paste0(i , inactive.ts.format))
        i.ts &lt;- gsub(i, "", i.str) 
        return(i.ts)
    })
    setDT(ts.entries)
    return(ts.entries)
}


##' org headlines 
##'
##' A function to parse org files, will return headlines and associated attributes, including tag, clock entries, shedules, deadlines, closed date, todo states,
##' @title Headlines 
##' @param org.file a file path point to a .org file 
##' @return a table of headlines and attributes 
##' @export
##' @author Yi Tang
GetHeadlines &lt;- function(org.file = "~/tmp.org"){
    str &lt;- readLines(org.file) 
    heading.lines &lt;- grep("^\\*", str)#
if (length(heading.lines) == 0){
warning("no headlines in ", org.file)
return()
}


    levels &lt;- str_count(headings, "\\*")
    ## remove stars from the heading
    headings &lt;- gsub("^\\*{1, } ", "", headings)

    todo.keywords &lt;- c("TODO", "NEXT", "DONE", "WAITING", "HOLD", "CANCELLED", "PHONE", "MEETING")
    ## if (is.null(todo.keywords)){
    ##     str &lt;- strsplit(content, " ")
    ##     str &lt;- sapply(str, "[", 2)
    ## }
    ## must provide todo lists

#### todo states 
    first.word.in.headings &lt;- str_extract(headings, "[[:alpha:]]{1, }")
    todo.ind &lt;- first.word.in.headings %in% todo.keywords
    todo.state &lt;- rep("", len = length(todo.ind))
    todo.state[todo.ind] &lt;- first.word.in.headings[todo.ind]

#### tags
    all.tags &lt;- str_extract(headings, ":[[:alpha:]]{+}:")
    all.tags[is.na(all.tags)] &lt;- ""
    archive.tag &lt;- ":ARCHIVE:" == all.tags 
    archive.tag[is.na(archive.tag)] &lt;- FALSE


    headings &lt;- str_replace(headings, pattern = todo.state, replace = "")
    headings &lt;- str_replace(headings, pattern = all.tags, replace = "")
    headings &lt;- str_trim(headings)

    the.line.after.heading &lt;- str[heading.lines + 1]
    plan.ts &lt;- GetTS(str = the.line.after.heading)

    head.info &lt;- data.table(id = 1:length(headings),
                            heading = headings,
                            line.num = heading.lines,
                            level = levels,
                            todo = todo.state,
                            tag = all.tags,
                            archive = archive.tag,
                            plan.ts)
    return(head.info)
}


##' Search for parent headlines 
##'
##' Given a headlines table and headline id, it will return the parent headlines.
##' @title search.parent 
##' @param head.info a head table from GetHeadlings
##' @param heading.id a unique id from head.info 
##' @return a data.table 
##' @export
##' @author Yi Tang
search.parent &lt;- function(head.info, heading.id){
    level.1.ind &lt;- which(head.info$level == 1)
    dist &lt;- (level.1.ind - heading.id)^2
    ind &lt;- which.min(dist)
    nearest.level.1 &lt;- level.1.ind[ind] 
    head.info[nearest.level.1 : heading.id]
}


## search.parent(head.info, 40)


#### tree view of strcutre
##' Visualise org-mode headings 
##'
##' tree structure of org headlines
##' @title org-headings-tree
##' @param head.info a data.tabl returned by GetHeadlines()
##' @param output file to save the results, default setting is to print to scree 
##' @param plantuml TRUE/FALSE, for plantuml program?
##' @return a string that can be used in plantuml program
##' @export
##' @author Yi Tang
tree.headings &lt;- function(head.info, output = "screen", plantuml = TRUE){
    tree.prep &lt;- sapply(head.info$level, function(i) paste(rep("+", i), collapse = ""))
    tree &lt;- paste(tree.prep, head.info$heading)
    if (plantuml) 
        tree &lt;- c("@startuml", "salt", "{", "{T", tree, "}", "}", "@enduml")
    if (output == "screen")
        cat(tree, sep = "\n")
    else
        cat(tree, sep = "\n", file = output)
}

## tree.headings(head.info, output = "screen")
</pre>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-4-1" class="outline-7">
<h7 id="sec-3-3-3-4-4-1">fix search.parent</h7>
<div class="outline-text-7" id="text-3-3-3-4-4-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-15 Mon 20:19]</span></span>
dist &lt;- xx<sup>2</sup> 
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-4-5" class="outline-6">
<h6 id="sec-3-3-3-4-5">clock.table.R</h6>
<div class="outline-text-6" id="text-3-3-3-4-5">
<p>

</p>

<div class="org-src-container">

<pre class="src src-R">map.clock.heading &lt;- function(clock.ind, heading.vec){#
    d &lt;- clock.ind - heading.vec#
    neg.ind &lt;- which(d &lt;= 0)[1]#
    return(neg.ind - 1 )#
}

##' Parse clock entry to ISO date 
##'
##' 
##' @title clock.table
##' @param clock.entries a standard clock entry from org-mode
##' @return POXICt object
##' @author Yi Tang
##' @export
##' @examples 
##' str &lt;- c("CLOCK: [2014-11-26 Wed 09:36]--[2014-11-26 Wed 10:04] =&gt;  0:28",
##'          "CLOCK: [2014-12-04 Thu 15:24]--[2014-12-04 Thu 16:25] =&gt;  1:01")
##' ToISOdate(str)
ToISOdate &lt;- function(clock.entries){
    s &lt;- str_locate_all(clock.entries, "\\[")
    e &lt;- str_locate_all(clock.entries, "\\]")
    tmp1 &lt;- rep(NA, len = length(clock.entries))
    tmp2 &lt;- rep(NA, len = length(clock.entries))
    for (i in seq_along(clock.entries)){
        s.i &lt;- s[[i]]
        e.i &lt;- e[[i]]
        tmp1[i] &lt;- substr(clock.entries[i], s.i[1, 1] + 1 , e.i[1, 1] - 1)
        tmp2[i] &lt;- substr(clock.entries[i], s.i[2, 1] + 1, e.i[2, 1] - 1)
    }
    res &lt;- list(lubridate::ymd_hm(tmp1),
                lubridate::ymd_hm(tmp2))
    return(res)
}

##' Parse org file
##'
##' scan a org file and return the headlines and associated clock entries 
##' @title clock.table 
##' @export
##' @param org.file a org file 
##' @return a data.table 
##' @author Yi Tang
GetClockTable &lt;- function(org.file = "~/tmp.org"){
    ## org.file &lt;- "~/git/org/tmp.org"
    str &lt;- readLines(org.file) 
    heading.lines &lt;- grep("^\\*", str)
if (length(heading.lines) == 0)
return()
    clock.entry.lines &lt;- grep("CLOCK: \\[", str)



    clock.entries &lt;- str[clock.entry.lines]
    headings &lt;- str_trim(str[heading.lines])

    ind &lt;- sapply(clock.entry.lines, function(i) map.clock.heading(i, heading.lines))
    clock.table &lt;- data.table(clock.entries,
                              line.num = heading.lines[ind],
                              headings = str[heading.lines[ind]],
                              head.ind = heading.lines[ind])
    clock.table$clock.closed &lt;- grepl("--", clock.table$clock.entries)

    ind &lt;- clock.table$clock.closed == TRUE
    clock.table[ind, c("start", "end") := {
        ToISOdate(clock.entries)
    }]

    clock.table[, clock.entries := NULL]
clock.table[, duration := as.numeric(end - start, unit = "mins")]
    return(clock.table)
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-6" class="outline-6">
<h6 id="sec-3-3-3-4-6"><span class="todo TODO">TODO</span> block.R</h6>
<div class="outline-text-6" id="text-3-3-3-4-6">
<p>

</p>

<div class="org-src-container">

<pre class="src src-R">##' .. content for \description{} (no empty lines) ..
##'
##' .. content for \details{} ..
##' @title 
##' @param start block start with #+begin_example, or #+begin_src xxx 
##' @param end block end with #+end_exmaple or #+end 
##' @param file.str 
##' @param head.info 
##' @return 
##' @author Yi Tang
org_block &lt;- function(start, end, file.str, head.info) {

}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-4-7" class="outline-6">
<h6 id="sec-3-3-3-4-7"><span class="done DONE">DONE</span> org-drawers</h6>
<div class="outline-text-6" id="text-3-3-3-4-7">
<p>
org-drawers
Its value is ("PROPERTIES" "CLOCK" "LOGBOOK" "RESULTS") 
</p>
<div class="org-src-container">

<pre class="src src-R">##' .. content for \description{} (no empty lines) ..
##'
##' .. content for \details{} ..
##' @title 
##' @param drawers drawer names, propert, logbook etc that supposed to have :END: 
##' @param file.str string of the org file 
##' @param head.info head infomation of the org file
##' @return 
##' @author Yi Tang
orgR_drawers &lt;- function(drawers = NULL, file.str, head.info){
if (length(head.info) == 0)
return()
    if (is.null(drawers))
        org.drawers &lt;- toupper(c("properties", "clock", "results", "logbook"))
    org.drawers2 &lt;- paste0(":", org.drawers, ":")

    res1 &lt;- lapply(org.drawers2, function(xx){
        ind.drawers &lt;- grep(xx, file.str)
        if (length(ind.drawers) == 0) ## no drawers, return NULL 
            return(NULL)
        res &lt;- headline.locator(ind.drawers, head.info)    
        res[, list(line.num, id, name = xx)]
    })
    res1 &lt;- rbindlist(res1) ## what if res is NULL? return Null data.table (0 rows and 0 cols)
    if(nrow(res1) == 0)
        return()
    ind.end &lt;- grep(":END:", file.str)
    res2 &lt;- headline.locator(ind.end, head.info)  
    res2$name &lt;- ":END:"

    tmp2 &lt;- rbind(res1, res2)
    setkey(tmp2, line.num)
    ## stopifnot(tmp2[c(FALSE, TRUE), unique(name) == ":END:"]) ## each drawer has a :END: line
    if (tmp2[c(FALSE, TRUE), length(unique(name)) != 1])
        warning("unclosed drawer at xx")
    tmp3 &lt;- tmp2[c(TRUE, FALSE), list(head.id = id, start = line.num, name)]
    tmp3$end &lt;- tmp2[c(FALSE, TRUE), line.num]
    setcolorder(tmp3, c("head.id", "name", "start", "end"))
    return(tmp3) 
}
</pre>
</div>
</div>
</div>



<div id="outline-container-sec-3-3-3-4-8" class="outline-6">
<h6 id="sec-3-3-3-4-8"><span class="done DONE">DONE</span> orgR - worldCloud</h6>
<div class="outline-text-6" id="text-3-3-3-4-8">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-25 Thu 16:05]</span></span>
[rv] over do. 
</p>
<ul class="org-ul">
<li><span class="check">&#x2611;</span> clean code 
</li>
</ul>
<div class="org-src-container">

<pre class="src src-R">library(tm)
library(wordcloud)

s &lt;- readLines("~/git/org/life.org")

words.to.exclude &lt;- list(todo.keywords = c("todo", "done", "next", "waiting", "holding", "cancelled"),
                         org.key.words = c(":logbook:", "\\emsp", ":end:", "clock:", "sun", "sat", "done"),
                         normal = c("lalala"))


s &lt;- removeWords(s, unlist(words.to.exclude))
s &lt;- tolower(s)
ap.corpus &lt;- Corpus(DataframeSource(data.frame(s)))

ap.corpus2 &lt;- tm_map(ap.corpus, removePunctuation)
summary(ap.corpus2)

ap.tdm &lt;- TermDocumentMatrix(ap.corpus2)
ap.m &lt;- as.matrix(ap.tdm)
ap.v &lt;- sort(rowSums(ap.m),decreasing=TRUE)
ap.d &lt;- data.frame(word = names(ap.v),freq=ap.v)
head(ap.d)
table(ap.d$freq)
pal2 &lt;- brewer.pal(8,"Dark2")

wordcloud(ap.d$word,ap.d$freq, scale=c(8,.2),min.freq=2, max.words=Inf, random.order=FALSE, rot.per=.15, colors=pal2)

dev.copy2pdf(file = "~/tmp.pdf", width = 12, height = 6)

w &lt;- as.character(ap.d$word[-1:-4])
f &lt;- ap.d$freq[-1:-4]

wordcloud(w, f, scale=c(8,.2),min.freq=5, max.words=Inf, random.order=FALSE, rot.per=.15, colors=pal2)
dev.copy2pdf(file = "~/tmp2.pdf", width = 12, height = 6)
</pre>
</div>
<ul class="org-ul">
<li><span class="check">&#x2611;</span> integrate to orgR
<ul class="org-ul">
<li><span class="check">&#x2611;</span> clean headings, remove todo key words, tags, etc. 
str<sub>replace</sub><sub>all</sub>()
</li>
</ul>
</li>
<li><span class="check">&#x2611;</span> get body 
<ul class="org-ul">
<li><span class="check">&#x2611;</span> helper function 
give a line number, f can tell it under which heading. 
<div class="org-src-container">

<pre class="src src-R">headline.locator &lt;- function(line.num, head.info) {
    x &lt;- data.table(start = line.num, end = line.num, key = c("start", "end"))
    head.info &lt;- head.info[, list(id, line.start = head.ind)]
    head.info[, line.end := c(line.start[-1], Inf) - 1]
    setkey(head.info, line.start, line.end)
    res &lt;- foverlaps(x, head.info)
    return(res[, list(line.num, id)])
}
</pre>
</div>
</li>
</ul>
</li>
<li><span class="check">&#x2611;</span> extract body from test file 
<div class="org-src-container">

<pre class="src src-R">linum.properties &lt;- tmp3[, start:end, by = rnum]$V1 
linum.headlines &lt;- ds$head.ind 
s[setdiff(1:length(s), c(linum.properties,
                         linum.headlines))]
</pre>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-3-3-4-9" class="outline-6">
<h6 id="sec-3-3-3-4-9"><span class="todo TODO">TODO</span> qurery</h6>
<div class="outline-text-6" id="text-3-3-3-4-9">
<p>

</p>

<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> select <b>project</b>, 
<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> select by headlines, or line.numers
</li>
<li><span class="checkbox">&#x2610;</span> select by tags (need to check #+filelags: xx)
</li>
</ul>
</li>
<li><span class="checkbox">&#x2610;</span> select by range of date
<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> generic, between(date1, date2) 
</li>
<li><span class="checkbox">&#x2610;</span> this week, "2015-W3"
</li>
<li><span class="checkbox">&#x2610;</span> this month, "2015-02-01" - "2015-03-01" 
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-10" class="outline-6">
<h6 id="sec-3-3-3-4-10">methods.R</h6>
<div class="outline-text-6" id="text-3-3-3-4-10">
<div class="org-src-container">

<pre class="src src-R">getstyle &lt;- function(text_size = 20){
  theme_bw() +
    theme(axis.title.x = element_text(colour="black", size=text_size)) +
    theme(axis.text.x = element_text(size = text_size)) +
    theme(axis.title.y = element_text(colour="black", size=text_size)) +
    theme(axis.text.y = element_text(size = text_size)) +
    theme(legend.position="none") +
    theme(plot.title = element_text(face="bold", size = text_size+2, vjust = 2)) 
}

ggpie &lt;- function(data, category = character(), value = numeric()){
    data$category &lt;- data[, category]
  data$value &lt;- data[, value]
  data$category &lt;- factor(data$category, 
                          levels = data$category[order(data$value, decreasing=TRUE)])

  p &lt;- ggplot(data, aes(x = factor(1), fill = factor(category), y = (value)/sum(value),
                        order = (value)/sum(value))) +
    geom_bar(stat = "identity", width = 1) + 
    labs(title = "", x = "", y= "") + 
    getstyle(10) + scale_fill_tableau("colorblind10")+
    coord_polar(theta="y", direction = -1) +
    theme(legend.position="right") +
    theme(axis.ticks=element_blank(), axis.text.y = element_blank(), axis.text.x = element_blank(), 
          legend.text=element_text(size=14), legend.title=element_text(size=14) )+
    guides(fill = guide_legend(title = category))
  return(p)
}

ggpie2 &lt;- function (dat, by, totals) {
    ggplot(dat, aes_string(x=factor(1), y=totals, fill=by)) +
    geom_bar(stat='identity', color='black') +
    scale_fill_brewer() +
    guides(fill=guide_legend(override.aes=list(colour=NA))) + # removes black borders from legend
    coord_polar(theta='y') +
    theme(axis.ticks=element_blank(),
          axis.text.y=element_blank(),
          axis.text.x=element_text(colour='black'),
          axis.title=element_blank(),
          legend.position="none") +
    scale_y_continuous(breaks=cumsum(dat[[totals]]) - dat[[totals]] / 2, labels=dat[[by]]) 
}
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-11" class="outline-6">
<h6 id="sec-3-3-3-4-11">description</h6>
<div class="outline-text-6" id="text-3-3-3-4-11">
<p>

</p>
<div class="org-src-container">

<pre class="src src-text">Package: orgR
Type: Package
Title: Analyse Text Files Created by Emacs' Org mode
Version: 0.9.0
Date: 2014-12-15
Author: Yi Tang
Maintainer: Yi Tang <a href="mailto:yi.tang.uk%40me.com">&lt;yi.tang.uk@me.com&gt;</a>
Description: Provides functionality to process <span class="org-artbollocks">text</span> files created by Emacs' Org mode, and decompose the content to the smallest components (headlines, body, tag, clock entries etc).  Emacs is an extensible, customizable <span class="org-artbollocks">text</span> editor and Org mode is for keeping notes, maintaining TODO lists, planning projects.  Allows users to analyze org files as data frames in R, e.g., to convieniently group tasks by tag into project and calculate total working hours.  Also provides some help functions like search.parent, gg.pie (visualise working hours in ggplot2) and tree.headlines (visualise headline stricture in tree format) to help user managing their complex org files. 
License: GPL (&gt;= 2)
Depends:
  ggthemes (&gt;= 1.7.0),
  ggplot2 (&gt;= 1.0.<span class="org-artbollocks-lexical-illusions">0</span>),
  lubridate(&gt;= 1.3.<span class="org-artbollocks-lexical-illusions">3</span>),
  data.table (&gt;= 1.9.4),
  stringr (&gt;= 0.6.2)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-4-12" class="outline-6">
<h6 id="sec-3-3-3-4-12">example file</h6>
<div class="outline-text-6" id="text-3-3-3-4-12">
<p>

</p>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-13" class="outline-6">
<h6 id="sec-3-3-3-4-13">orgR.R</h6>
<div class="outline-text-6" id="text-3-3-3-4-13">
<p>

</p>
<div class="org-src-container">

<pre class="src src-R">##' orgR 
##'
##' a package to process org file 
##' @title orgR 
##' @author yitang
##' @name orgR
##' @import data.table ggplot2 ggthemes stringr
##' @importFrom lubridate ymd_hm
NULL
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-3-4-14" class="outline-6">
<h6 id="sec-3-3-3-4-14">Documentation</h6>
<div class="outline-text-6" id="text-3-3-3-4-14">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2015-01-12 Mon 09:37]</span></span>
Features of Org test files.
</p>
<ol class="org-ol">
<li>Headlines, with lots of attributes,
<ul class="org-ul">
<li>Levels
</li>
<li>TODO states 
</li>
<li>Priority
</li>
<li>TAGS
</li>
<li>Open date 
</li>
<li>CLOSED date
</li>
<li>SCHEDULED date
</li>
<li>DEADLINE date
</li>
<li>drawers
<ul class="org-ul">
<li>clock entry
</li>
<li>property-value
</li>
<li>notes 
</li>
</ul>
</li>
</ul>
</li>
<li>rich body 
<ul class="org-ul">
<li>ordinary text, sentence, paragraph
</li>
<li>code clock
</li>
<li>verbatim block (quote, example etc)
</li>
<li>embedded latex/html code
</li>
<li>(inline) image with attributes 
</li>
<li>tables with attributes
</li>
<li>hyperlinks
<ul class="org-ul">
<li>normal
</li>
<li>abbr
</li>
</ul>
</li>
<li>footnotes 
</li>
</ul>
</li>
</ol>
</div>
</div>




<div id="outline-container-sec-3-3-3-4-15" class="outline-6">
<h6 id="sec-3-3-3-4-15"><span class="todo TODO">TODO</span> write R function to process clock table</h6>
<div class="outline-text-6" id="text-3-3-3-4-15">
<p>

</p>
<ul class="org-ul">
<li><span class="checkbox">&#x2610;</span> keep sub/total time
</li>
<li><span class="checkbox">&#x2610;</span> fill-in empty space for x.org 
</li>
</ul>
<p>
better to start right, use as.POISct function 
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-5" class="outline-5">
<h5 id="sec-3-3-3-5">Research or Individual topics</h5>
<div class="outline-text-5" id="text-3-3-3-5">
<p>

</p>
</div>
<div id="outline-container-sec-3-3-3-5-1" class="outline-6">
<h6 id="sec-3-3-3-5-1">create pie chart in ggplot</h6>
<div class="outline-text-6" id="text-3-3-3-5-1">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-07 Sun 22:45]</span></span>
11:00 - 11:48, update ggpie in yiR package
</p>
<div class="org-src-container">

<pre class="src src-R">#### ggplot, piechart
## help function
#' check also: https://github.com/jrnold/ggthemes
#' (especially for the color schemes)

#' define style for the charts ####
#' usage: g &lt;- g +getstyle (text_size = 20)
#' ref: https://gist.github.com/nassimhaddad/4994317
getstyle &lt;- function(text_size = 20){
    theme_bw() +
        theme(axis.title.x = element_text(colour="black", size=text_size)) +
            theme(axis.text.x = element_text(size = text_size)) +
                theme(axis.title.y = element_text(colour="black", size=text_size)) +
                    theme(axis.text.y = element_text(size = text_size)) +
                        theme(legend.position="none") +
                            theme(plot.title = element_text(face="bold", size = text_size+2, vjust = 2)) 
}

ggpie &lt;- function(data, category = character(), value = numeric()){
    require(ggplot2)
    require(ggthemes)
    data$category &lt;- data[, category]
    data$value &lt;- data[, value]
    data$category &lt;- factor(data$category, 
                            levels = data$category[order(data$value, decreasing=TRUE)])

    p &lt;- ggplot(data, aes(x = factor(1), fill = factor(category), y = (value)/sum(value),
                          order = (value)/sum(value))) +
                              geom_bar(stat = "identity", width = 1) + 
                                  labs(title = "", x = "", y= "") + 
                                      getstyle(10) + scale_fill_tableau("colorblind10")+
                                          coord_polar(theta="y", direction = -1) +
                                              theme(legend.position="right") +
                                                  theme(axis.ticks=element_blank(), axis.text.y = element_blank(), axis.text.x = element_blank(), 
                                                        legend.text=element_text(size=14), legend.title=element_text(size=14) )+
                                                            guides(fill = guide_legend(title = category))
    return(p)
}
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-3-5-2" class="outline-6">
<h6 id="sec-3-3-3-5-2"><span class="done DONE">DONE</span> Process heading</h6>
<div class="outline-text-6" id="text-3-3-3-5-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-20 Thu 17:35]</span></span>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-20 Thu 18:48]</span></span>
scan a org file and return a data.table that has 
all the info about a heading, include title, level, todo state, tags and archive.
also a helper function, search.parent to find the ancester of a todo entry.
another helper function that convert headings into a planuml form and can be visualized easily.
</p>


<div class="org-src-container">

<pre class="src src-R">## [2014-11-20 Thu 18:48]
## scan a org file and return a data.table that has 
## all the info about a heading, include title, level, todo state, tags and archive.
## also a helper function, search.parent to find the ancester of a todo entry.

levels &lt;- str_count(headings, "\\*")
## remove stars from the heading
headings &lt;- gsub("^\\*{1, } ", "", headings)

todo.keywords &lt;- c("TODO", "NEXT", "DONE", "WAITING", "HOLD", "CANCELLED", "PHONE", "MEETING")
## if (is.null(todo.keywords)){
##     str &lt;- strsplit(content, " ")
##     str &lt;- sapply(str, "[", 2)
## }
## must provide todo lists

#### todo states 
first.word.in.headings &lt;- str_extract(headings, "[[:alpha:]]{1, }")
todo.ind &lt;- first.word.in.headings %in% todo.keywords
todo.state &lt;- NA
todo.state[todo.ind] &lt;- first.word.in.headings[todo.ind]

#### tags
all.tags &lt;- str_extract(headings, ":[[:alpha:]]{+}:")
archive.tag &lt;- ":ARCHIVE:" == all.tags 
archive.tag[is.na(archive.tag)] &lt;- FALSE

head.info &lt;- data.table(id = 1:length(headings),
                        heading = headings,
                        head.ind = heading.lines,
                        level = levels,
                        todo = todo.state,
                        tag = all.tags,
                        archive = archive.tag)

search.parent &lt;- function(head.info, heading.id){
    level.1.ind &lt;- which(head.info$level == 1)
    dist &lt;- (level.1.ind - heading.id)^2
    ind &lt;- which.min(dist)
    nearest.level.1 &lt;- level.1.ind[ind] 
    head.info[nearest.level.1 : heading.id]
}


search.parent(head.info, 40)

#### tree view of strcutre
tree.headings &lt;- function(head.info, output = "screen", plantuml = TRUE){
    tree.prep &lt;- sapply(head.info$level, paste(rep("+", i), collapse = ""))
    tree &lt;- paste(tree.prep, head.info$heading)
    if (plantuml) 
        tree &lt;- c("@startuml", "salt", "{", "{T", tree, "}", "}", "@enduml")
    if (output == "screen")
        cat(tree, sep = "\n")
    else
        cat(tree, sep = "\n", file = output)
}

tree.headings(head.info, output = "screen")
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-3-5-3" class="outline-6">
<h6 id="sec-3-3-3-5-3"><span class="done DONE">DONE</span> Process clock entries</h6>
<div class="outline-text-6" id="text-3-3-3-5-3">
<p>

</p>

<div class="org-src-container">

<pre class="src src-R">## [2014-11-20 Thu 17:28]
## this scripts will scan a org file and return a clock data.table,
## Each heading has multi clock entries which are in ISO format 
## a helper function, ggpie, to visualize total time for each cateogry.


ggpie &lt;- function (dat, by, totals) {
    require(ggplot2)
    ggplot(dat, aes_string(x=factor(1), y=totals, fill=by)) +
        geom_bar(stat='identity', color='black') +
            scale_fill_brewer() +
                guides(fill=guide_legend(override.aes=list(colour=NA))) + # removes black borders from legend
                    coord_polar(theta='y') +
                        theme(axis.ticks=element_blank(),
                              axis.text.y=element_blank(),
                              axis.text.x=element_text(colour='black'),
                              axis.title=element_blank(),
                              legend.position="none") +
                                  scale_y_continuous(breaks=cumsum(dat[[totals]]) - dat[[totals]] / 2, labels=dat[[by]]) 
}


#### scan .org file and parse the clock table
file &lt;- "~/git/org/tmp.org"#
str &lt;- readLines(file)#
library(lubridate)#
library(data.table)
library(stringr)
heading.lines &lt;- grep("^\\*", str)#
clock.entry.lines &lt;- grep("CLOCK: \\[", str)#

map.clock.heading &lt;- function(clock.ind, heading.vec){#
    d &lt;- clock.ind - heading.vec#
    neg.ind &lt;- which(d &lt;= 0)[1]#
    return(neg.ind - 1 )#
}

clock.entries &lt;- str[clock.entry.lines]
headings &lt;- str_trim(str[heading.lines])

ind &lt;- sapply(clock.entry.lines, function(i) map.clock.heading(i, heading.lines))
clock.table &lt;- data.table(clock.entries,
                          headings = str[heading.lines[ind]],
                          head.ind = heading.lines[ind])


clock.entry.check &lt;- function(clock.entries){#
    grepl("--", clock.entries)#
}
clock.table[, clock.closed := clock.entry.check(clock.entries)]#

ToISOdate &lt;- function(clock.entries){#
    s &lt;- str_locate_all(clock.entries, "\\[")#
    e &lt;- str_locate_all(clock.entries, "\\]")#
    tmp1 &lt;- rep(NA, len = length(clock.entries))#
    tmp2 &lt;- rep(NA, len = length(clock.entries))#
    for (i in seq_along(clock.entries)){#
        s.i &lt;- s[[i]]#
        e.i &lt;- e[[i]]#
        tmp1[i] &lt;- substr(clock.entries[i], s.i[1, 1] + 1 , e.i[1, 1] - 1)#
        tmp2[i] &lt;- substr(clock.entries[i], s.i[2, 1] + 1, e.i[2, 1] - 1)#
    }#
    res &lt;- list(lubridate::ymd_hm(tmp1),#
                lubridate::ymd_hm(tmp2))#
    return(res)#
}#

clock.table[clock.closed == TRUE, c("start", "end") := {#
    ## s &lt;- str_locate_all(clock.entries, "\\[")#
    ## e &lt;- str_locate_all(clock.entries, "\\]")#
    ## tmp1 &lt;- rep(NA, len = length(clock.entries))#
    ## tmp2 &lt;- rep(NA, len = length(clock.entries))#
    ## for (i in seq_along(clock.entries)){#
    ##     s.i &lt;- s[[i]]#
    ##     e.i &lt;- e[[i]]#
    ##     tmp1[i] &lt;- substr(clock.entries[i], s.i[1, 1] + 1 , e.i[1, 1] - 1)#
    ##     tmp2[i] &lt;- substr(clock.entries[i], s.i[2, 1] + 1, e.i[2, 1] - 1)#
    ## }#
    ## list(lubridate::ymd_hm(tmp1),#
    ##      lubridate::ymd_hm(tmp2))#
    ToISOdate(clock.entries)#
}]


clock.table[, clock.closed := NULL]
clock.table[, clock.entries := NULL]



##### play 
clock.table[, duration := end - start]
clock.table[, W := lubridate::week(end)]
clock.table[, sum(duration), by = headings]
clock.table[V1 &gt;= 10, sum(duration), by = headings]
clock.table[, sum(duration), by = headings][V1 &gt;= 10]
clock.table[W==46, sum(duration), by = headings][V1 &gt;= 10]
gg.df &lt;- clock.table[W==46, sum(duration), by = headings][V1 &gt;= 10]
gg.df[, Time := as.numeric(V1)]

ggpie(gg.df, by = "headings", "Time")
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-3-5-4" class="outline-6">
<h6 id="sec-3-3-3-5-4"><span class="done DONE">DONE</span> tree strcutre of org headings</h6>
<div class="outline-text-6" id="text-3-3-3-5-4">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-17 Mon 19:21]</span></span>
i want to have a tree strcuture of org headings, it's easier to have a whole picture about the strcutre of a project. 
the clock table can give me the same feature as table, but i want to look at a picture, which is a lot more traval. 
i have see sarachua use similary feature on her Emacs talk. she said it took her a while to go to that point. 
she said if a taks is cancled, then the corresponding graph will be removed. 
on that video, she's search for the code to do that for about 5-10 minutes and can't find it&#x2026;
</p>

<p>
maybe i can find the structure in R and cast the tree strcture to a plantuml code, but the things is that i doesn;t know lantuml very well and not sure it's worhtth the time to investimate more.
something in my mind: 
a heading is an object, with heading be the title, tody state be variable, total time spent on that time be a vairbale. 
</p>

<p>
i've noticed that there salt, a subproject to planuml can draw a tree, very easily.
</p>
<div class="org-src-container">

<pre class="src src-plantuml">@startuml
salt
{
{
T
+ world
++ asin
++ europian
}
}
@enduml
</pre>
</div>





<div class="org-src-container">

<pre class="src src-plantuml">@startuml
salt
{
{
T
+ GFES
++ PM
++ MISC
++ NHI 
+++ NHI (U)
++++ Evolved From Trigger
++++ Background precip 
++++ Remove hist events
+++ NHI (X)
++++ Marginal Analysis
++++ Transformation 
}
}
@enduml
</pre>
</div>


<p>
Is this the plot i am looking for? 
</p>

<p>
or maybe as class diagram? <a href="http://image.slidesharecdn.com/plantumlintroductie-140123014828-phpapp02/95/plantuml-introduction-11-638.jpg?cb=1390463808">more</a>
</p>
</div>
</div>


<div id="outline-container-sec-3-3-3-5-5" class="outline-6">
<h6 id="sec-3-3-3-5-5">orgR, Parse clock table</h6>
<div class="outline-text-6" id="text-3-3-3-5-5">
<p>

</p>
<div class="org-src-container">

<pre class="src src-R">#### parse org file
library(stringr)
library(data.table)
library(lubridate)

content &lt;- readLines("~/git/org/tmp.org")
content &lt;- str_trim(content)
ind.ts &lt;- grep("^\\[[[:digit:]]{4}-[[:digit:]]{2}-[[:digit:]]{2}", content)
ind.clock.entry &lt;- grep("CLOCK: ", content)
ind.heading &lt;- grep("^[\\*]+ ", content)
ind.property &lt;- grep(":PROPERTIES:", content)


## format clock data
clock.entries &lt;- content[ind.clock.entry]
date &lt;- str_extract_all(clock.entries, "[[:digit:]]{4}-[[:digit:]]{2}-[[:digit:]]{2}")
time &lt;- str_extract_all(clock.entries, "[[:digit:]]{1,2}\\:[[:digit:]]{1,2}") 
date.tmp &lt;- do.call(rbind, date)
time.tmp &lt;- do.call(rbind, time)
s &lt;- paste(date.tmp[, 1], time.tmp[, 1])
e &lt;- paste(date.tmp[, 2], time.tmp[, 2])
duration &lt;- time.tmp[, 3]

                                        # cast to ISO date
time.date.format &lt;- "%Y-%m-%d %H:%M"
s &lt;- as.POSIXct(s, format = time.date.format)
e &lt;- as.POSIXct(e, format = time.date.format)
duration &lt;- lubridate::minute(lubridate::hm(duration)) ##
data.table(s, e, duration)


## format heading
headings &lt;- content[ind.heading]
levels &lt;- str_count(headings, "\\*")
planning &lt;- content[ind.heading + 1] ## second line of an trying is shceueing/deadilne staff if there is any
ind.schedule &lt;- grep("SCHEDULED", planning)
ind.deadline &lt;- grep("DEADLINE", planning)


## three types of clock table
## 1.open ts
## 2.closed ts
## 3.last clocked ts


inactive.ts.format &lt;- "\\[[0-9]{4}-[0-9]{2}-[0-9]{2} [[:alpha:]]{3} [0-9]{2}:[0-9]{2}\\]"
ind.closed.ts &lt;- grep("CLOSED", content ) ## closed ts
ind.open.ts &lt;- grep(paste0("^", inactive.ts.format), content)


[2014-11-20 Thu 17:13]
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-3-3-4" class="outline-4">
<h4 id="sec-3-3-4"><span class="done DONE">DONE</span> become a CRAN package author</h4>
<div class="outline-text-4" id="text-3-3-4">
<p>

</p>
</div>

<div id="outline-container-sec-3-3-4-1" class="outline-5">
<h5 id="sec-3-3-4-1">check</h5>
<div class="outline-text-5" id="text-3-3-4-1">
<p>

</p>

<p>
Found the following significant warnings:
  Warning: /Users/yitang/git/orgR/man/orgR-package.Rd:32: All text must be in a section
See '/Users/yitang/git/orgR.Rcheck/00install.out' for details.
</p>

<p>
Subdirectory 'data' contains no data sets.
</p>

<p>
Packages in Depends field not imported from:
x  'data.table' 'ggplot2' 'ggthemes' 'lubridate' 'stringr'
  These packages need to be imported from (in the NAMESPACE file)
  for when this namespace is loaded but not attached.
See the information on DESCRIPTION files in the chapter 'Creating R packages' of the 'Writing R Extensions' manual.
</p>

<p>
GetClockTable: no visible binding for global variable 'clock.closed'
tree.headings: no visible binding for global variable 'i'
</p>

<p>
prepare<sub>Rd</sub>: orgR-package.Rd:32: All text must be in a section
</p>

<p>
Rd files with duplicated alias 'orgR':
  'orgR-package.Rd' 'orgR.Rd'
</p>

<p>
Unknown package '&lt;pkg&gt;' in Rd xrefs
Warning: parse error in file 'orgR-Ex.R':
38:11: unexpected symbol
37: 
38: ~~ simple examples
              ^
</p>
</div>

<div id="outline-container-sec-3-3-4-1-1" class="outline-6">
<h6 id="sec-3-3-4-1-1">checking examples &#x2026; ERROR</h6>
<div class="outline-text-6" id="text-3-3-4-1-1">
<p>
Running examples in 'orgR-Ex.R' failed
The error most likely occurred in:
</p>

<p>
&gt; ### Name: orgR-package
&gt; ### Title: What the package does (short line) <code>~ package title ~</code>
&gt; ### Aliases: orgR-package orgR
&gt; ### Keywords: package
&gt; 
&gt; ### ** Examples
&gt; 
&gt; <code>~ simple examples of the most important functions ~</code>
Error: unexpected symbol in "~~ simple examples"
Execution halted
</p>


<ol class="org-ol">
<li>add ##' @import data.table ggplot2 ggthemes lubridate stringr
to package.R 
</li>
</ol>
<p>
so that when i run <code>R CMD check</code>, it will modify the NMAESPAce file add add the imports.
</p>

<p>
workflow: 
edit packaging/orgR.R,
tangle the code block 
run document("pkg-name") in R 
run R CMD check pkg-name in shell
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-4-2" class="outline-5">
<h5 id="sec-3-3-4-2">package description and title</h5>
<div class="outline-text-5" id="text-3-3-4-2">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-16 Tue 11:22]</span></span>
*ggthemes: 
Extra themes, scales and geoms for ggplot
Some extra themes, geoms, and scales for ggplot2.
</p>

<p>
<b>ggplot2</b>
Title: An implementation of the Grammar of Graphics
Description: An implementation of the grammar of graphics
    in R. It combines the advantages of both base and
    lattice graphics: conditioning and shared axes are
    handled automatically, and you can still build up a
    plot step by step from multiple data sources. It also
    implements a sophisticated multidimensional
    conditioning system and a consistent interface to map
    data to aesthetic attributes. See the ggplot2 website
    for more information, documentation and examples.
<b>data.table</b>
Title: Extension of data.frame
</p>

<p>
Description: Fast aggregation of large data (e.g. 100GB in RAM), fast ordered joins, fast add/modify/delete of columns by group using no copies at all, list columns and a fast file reader (fread). Offers a natural and flexible syntax, for faster development.
</p>

<p>
<b>orgR</b>
Title: Analyse org files in R 
Description: It process org files and decomposed the content to the smallest components (headlines, body, tag, clock entries etc) defined by org-mode. It allow user to analyst org files as data.frame in R with greater flexibility. It also provides some help functions, like search.parent, gg.pie (visualise clock enters in ggplot) and tree.headlines (visualise headline stricture in plantuml).
</p>
</div>
</div>
<div id="outline-container-sec-3-3-4-3" class="outline-5">
<h5 id="sec-3-3-4-3">submit</h5>
<div class="outline-text-5" id="text-3-3-4-3">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-16 Tue 11:46]</span></span>
Hi Kurt,
</p>

<p>
Thanks you very much for checking my package and provide feedbacks. It is my first CRAN package and your comments are really helpful! 
</p>

<p>
I have edit the package and everything looks fine now from R CMD check on my machine. 
</p>

<p>
Could you please spare some time and have a look again? 
</p>

<p>
Many thanks 
</p>

<p>
Regards,
Yi
</p>
</div>
</div>

<div id="outline-container-sec-3-3-4-4" class="outline-5">
<h5 id="sec-3-3-4-4">Third submit</h5>
<div class="outline-text-5" id="text-3-3-4-4">
<p>

</p>

<ul class="org-ul">
<li><span class="check">&#x2611;</span> Pls use title case
</li>
<li><span class="check">&#x2611;</span> This needs to be more grammatical.
Process org files and decompose the content &#x2026;
</li>
</ul>
<p>
etc.
</p>
<ul class="org-ul">
<li><span class="check">&#x2611;</span> You should also explain what org-mode is.
</li>
<li><span class="check">&#x2611;</span> Finally, what is plantuml?
i removed this.
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-3-4-5" class="outline-5">
<h5 id="sec-3-3-4-5"><span class="done DONE">DONE</span> 4th submit</h5>
<div class="outline-text-5" id="text-3-3-4-5">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-17 Wed 07:52]</span></span>
On 16/12/2014 15:06, Yi Tang wrote:
[This was generated from CRAN.R-project.org/submit.html]
The following package was uploaded to CRAN:
<code>=========================================</code>
Package Information:
Package: orgR
Version: 0.9.0
Title: Analyse Text Files Created by Org-mode (Emacs) in R
</p>

<p>
That has to be
</p>

<p>
Analyse in R Text Files Created by Emacs' Org mode
</p>

<p>
as R has no Org-mode, and it seems Emacs does not hyphenate it.
</p>


<p>
Author(s): Yi Tang
Maintainer: Yi Tang &lt;yi.tang.uk@me.com&gt;
Depends: ggthemes (&gt;= 1.7.0), ggplot2 (&gt;= 1.0.0), lubridate (&gt;= 1.3.3),
data.table (&gt;= 1.9.4), stringr (&gt;= 0.6.2)
Description: Process org files and decompose the content to the smallest
components (headlines, body, tag, clock entries etc) defined
by Org-mode. Org mode is for keeping notes, maintaining TODO
lists, planning projects, and authoring documents with a fast
and effective plain-text system. This package allows user to
</p>

<p>
Hmm, that sentence seems to be a quote, so should be in quotation marks. 
  See <a href="http://orgmode.org/">http://orgmode.org/</a> .
</p>

<p>
analyse org files as data.frame in R with great flexibility,
for example, group tasks by tag into project and calculate
total working hours. It also provides some help functions,
like search.parent, gg.pie (visualise clock enters in ggplot)
and tree.headlines (visualise headline stricture in tree
format).
</p>

<p>
And Emacs is not mentioned here.
</p>

<p>
License: GPL (&gt;= 2)
The maintainer confirms that he or she
has read and agrees to the CRAN policies.
Submitter's comment: Thanks for checking and hosting my package.
</p>


<p>
&#x2013; 
Brian D. Ripley,                  ripley@stats.ox.ac.uk
Emeritus Professor of Applied Statistics, University of Oxford
1 South Parks Road, Oxford OX1 3TG, UK
</p>
</div>
</div>
<div id="outline-container-sec-3-3-4-6" class="outline-5">
<h5 id="sec-3-3-4-6"><span class="done DONE">DONE</span> Wait for checking by a CRAN volunteer</h5>
<div class="outline-text-5" id="text-3-3-4-6">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-3-3-4-7" class="outline-5">
<h5 id="sec-3-3-4-7"><span class="done DONE">DONE</span> 5th submit</h5>
<div class="outline-text-5" id="text-3-3-4-7">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-12-19 Fri 14:59]</span></span>
 Analyse Text Files Created by Emacs' Org mode 
</p>

<p>
Provides functionality to process text files created by Emacs' Org
 mode, and decompose the content to the smallest components
 (headlines, body, tag, clock entries etc).  Emacs is an extensible,
 customizable text editor and Org mode is for keeping notes,
 maintaining TODO lists, planning projects.  Allows users to analyze
 org files as data frames in R, e.g., to convieniently group 
 tasks by tag into project and calculate total working hours.
 Also provides &#x2026;
</p>
</div>
</div>
<div id="outline-container-sec-3-3-4-8" class="outline-5">
<h5 id="sec-3-3-4-8"><span class="done DONE">DONE</span> uploading to CRAN</h5>
<div class="outline-text-5" id="text-3-3-4-8">
<p>

</p>
</div>
</div>
</div>
<div id="outline-container-sec-3-3-5" class="outline-4">
<h4 id="sec-3-3-5"><span class="todo TODO">TODO</span> Rledger</h4>
<div class="outline-text-4" id="text-3-3-5">
<p>
<span class="timestamp-wrapper"><span class="timestamp">[2014-11-22 Sat 12:58]</span></span>
a package to parse ledger data, provide addition functinliaty:
</p>
<ol class="org-ol">
<li>compare account, monthly expense,
</li>
<li>visualize the expenses 
</li>
<li></li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><a id="ID-C6C0AE39-2CA3-4DC6-8DB1-9EADF09866EB" name="ID-C6C0AE39-2CA3-4DC6-8DB1-9EADF09866EB"></a><span class="done DONE">DONE</span> scripts to parse aTimeLogger data into org-mode, via R</h3>
<div class="outline-text-3" id="text-3-4">
<p>

</p>


<div class="org-src-container">

<pre class="src src-R">library(stringr)
data.file &lt;- "~/Downloads/report.csv"
if (Sys.info()["nodename"] == "VM")
    data.file &lt;- "/media/sf_share/report.csv"
str &lt;- readLines(data.file)
ind &lt;- grep("Activity type,Duration,Percent", str)
str &lt;- str[1:(ind-1)]
tmp.file &lt;- tempfile()
writeLines(str, tmp.file)
df &lt;- read.csv(tmp.file, stringsAsFactors = FALSE)
file.remove(tmp.file)

start &lt;- strptime(df$From, "%d %B %H:%M")
end &lt;- strptime(df$To, "%d %B %H:%M")
duration &lt;- as.numeric(end - start, units = "mins")
hs &lt;- formatC(duration %/% 60 , digits = 2, width = 2, flag = 0)
ms &lt;- formatC(duration %% 60, digits = 2, width = 2, flag = 0)
duration &lt;- paste(hs, ms, sep = ":")

activity &lt;- df$Activity.type
comments &lt;- df$Comment 

as.org &lt;- function(activity, start, end, duration, comments, output = "screen"){
    l1 &lt;- paste0("* ", activity)
    l2 &lt;- ":LOGBOOK:"
    start &lt;- format(start, "%Y-%m-%d %a %H:%M")
    end &lt;- format(end, "%Y-%m-%d %a %H:%M")

    l3 &lt;- paste0("CLOCK: [", start, "]--[", end, "] =&gt; ", duration)
    l4 &lt;- ":END:"
    l5 &lt;- paste0("[", start, "]")
    l6 &lt;- comments 
    if (output == "screen")
        cat(l1, l2, l3, l4, l5, l6, sep = "\n")
    else 
        cat(l1, l2, l3, l4, l5, l6, sep = "\n", file = output)
}


sapply(seq_along(activity), function(i) as.org(activity[i], start[i], end[i], duration[i], comments[i]))


## * Sleep
## :LOGBOOK:
## CLOCK: [2014-11-30 Sun]--[2014-12-01 Mon] =&gt; 08:21
## :END:
## [2014-11-30 Sun]
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><a id="ID-CFEF0734-CE67-4596-9026-EBD363FE6457" name="ID-CFEF0734-CE67-4596-9026-EBD363FE6457"></a><span class="todo TODO">TODO</span> R-shiny App</h2>
<div class="outline-text-2" id="text-4">
<p>

</p>
</div>
<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="todo NEXT">NEXT</span> (proj) revise shinny app</h3>
<div class="outline-text-3" id="text-4-1">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><a id="ID-18311109-7A55-44E6-98B0-B8A8FE736582" name="ID-18311109-7A55-44E6-98B0-B8A8FE736582"></a>integrate R and shiny language&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-2">
<p>

</p>



<p>
output$ui &lt;- renderUI({
</p>

<p>
   if (is.null(input$input<sub>type</sub>))
        return()
    switch(input$input<sub>type</sub>,
           "CSV" = {
               h3("Read input data from CSV file")
               br("Choose Input Folder")
               fileInput("proj.dir", "Project Folder")
           },
           "PostgreSQL" = {
               tabsetPanel(
                   tabPanel("Plot", plotOutput("plot")),
                   tabPanel("Summary", verbatimTextOutput("summary")),
                   tabPanel("Table", tableOutput("table"))
                   )
               column(4, 
                   h4("PostgreSQL Info"),
                   textInput("host", "Host:", "Ski-proc 27"),
                   textInput("dbname", "Database:", "UK<sub>Costal</sub>"),
                   textInput("user", "User:", "postgres"),
                   textInput("password", "Password:", "postgres1"),
                   textInput("port", "Port:", "5433")
                   )
           })
})
</p>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><a id="ID-EAE00277-51D8-4542-AABA-BCA100CD89D7" name="ID-EAE00277-51D8-4542-AABA-BCA100CD89D7"></a>fileInput()&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-3">
<p>

</p>

<p>
will upload immediately after choosing,
might be a problem that the input file are large, in GB size. 
</p>

<p>
good to separate choose file and upload file, see 
<a href="http://stackoverflow.com/questions/21813773/r-shiny-uploading-a-file-on-button-click">more</a>
</p>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><a id="ID-73B94768-0FBA-4BDD-8EBC-2ADD7562C29E" name="ID-73B94768-0FBA-4BDD-8EBC-2ADD7562C29E"></a>server.R, ui.R, methods.R&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-4">
<p>

</p>

<p>
user functions defined in methods.R in server.R directly 
</p>
</div>
</div>
<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><a id="ID-C3F5566B-2369-40F1-A28D-6D1F02FF07C2" name="ID-C3F5566B-2369-40F1-A28D-6D1F02FF07C2"></a>(shiny) have .RData in proj.folder, can be read directly&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-5">
<p>

</p>
</div>
</div>
<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6"><a id="ID-3C286B50-75AD-443F-AE2C-0B9BDD3D9543" name="ID-3C286B50-75AD-443F-AE2C-0B9BDD3D9543"></a>(shiny) reactive and observer&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-6">
<p>

</p>


<p>
An observer is like a reactive expression in that it can read reactive values and call reactive expressions, and will automatically re-execute when those dependencies change. But unlike reactive expressions, it doesn't yield a result and can't be used as an input to other reactive expressions. Thus, observers are only useful for their side effects (for example, performing I/O).
</p>

<p>
Another contrast between reactive expressions and observers is their execution strategy. Reactive expressions use lazy evaluation; that is, when their dependencies change, they don't re-execute right away but rather wait until they are called by someone else. Indeed, if they are not called then they will never re-execute. In contrast, observers use eager evaluation; as soon as their dependencies change, they schedule themselves to re-execute.
</p>

<p>
Starting with Shiny 0.10.0, observers are automatically destroyed by default when the domain that owns them ends (e.g. when a Shiny session ends).
</p>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7"><a id="ID-0993C51B-F9C9-4FC8-A9E7-C94974A3EC80" name="ID-0993C51B-F9C9-4FC8-A9E7-C94974A3EC80"></a>(shiny) progress message&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-7">
<p>

</p>

<p>
good to have progress message for a proper shiny application.
</p>
</div>
</div>
<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8"><a id="ID-391ADDD7-644F-4F32-A6F5-C6BDE7975A8D" name="ID-391ADDD7-644F-4F32-A6F5-C6BDE7975A8D"></a>(shiny) i can create my own input binding&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-8">
<p>

</p>

<p>
<a href="http://shiny.rstudio.com/gallery/custom-input-bindings.html">http://shiny.rstudio.com/gallery/custom-input-bindings.html</a>
</p>
</div>
</div>

<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9"><a id="ID-CDFDB219-8F71-43D0-8E91-674A8DFC36E2" name="ID-CDFDB219-8F71-43D0-8E91-674A8DFC36E2"></a>(shiny) create my own input object&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-9">
<p>

</p>

<p>
see here <a href="http://shiny.rstudio.com/gallery/custom-input-bindings.html">http://shiny.rstudio.com/gallery/custom-input-bindings.html</a>
</p>
</div>
</div>
<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10"><a id="ID-450A7F6C-49A2-4C67-9E99-D467092A1FB6" name="ID-450A7F6C-49A2-4C67-9E99-D467092A1FB6"></a><span class="todo TODO">TODO</span> create my own yt<sub>fileInput</sub> object</h3>
<div class="outline-text-3" id="text-4-10">
<p>

</p>


<p>
it extend fileInput() to have features:
</p>

<p>
1). can choose folder, (rather than files, not necessary!)
2). have a upload bottom, (lazy evuliuation rather than eger evluataion)
3). show progress for uploading each file, (rather than all)
</p>
</div>
</div>
<div id="outline-container-sec-4-11" class="outline-3">
<h3 id="sec-4-11"><a id="ID-B7056AC1-D3BD-4339-A74F-A5258A27BE81" name="ID-B7056AC1-D3BD-4339-A74F-A5258A27BE81"></a>(shiny) good practise to have a Help page&#xa0;&#xa0;&#xa0;<span class="tag"><span class="NOTE">NOTE</span></span></h3>
<div class="outline-text-3" id="text-4-11">
<p>

</p>

<p>
have a few F&amp;A, leave my contact, 
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">

<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}
.back-to-top:hover {    
    background-color: rgba(135, 135, 135, 0.50);
}
</style>
<div class="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:yi.tang.uk@me.com">E-mail me</a>
</div>
<script type="text/javascript">
    var offset = 220;
    var duration = 500;
    jQuery(window).scroll(function() {
        if (jQuery(this).scrollTop() > offset) {
            jQuery('.back-to-top').fadeIn(duration);
        } else {
            jQuery('.back-to-top').fadeOut(duration);
        }
    });
</script>
</div>
</body>
</html>
